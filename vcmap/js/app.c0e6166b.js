(function(e){function t(t){for(var s,o,c=t[0],l=t[1],r=t[2],b=0,d=[];b<c.length;b++)o=c[b],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);h&&h(t);while(d.length)d.shift()();return n.push.apply(n,r||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(n.splice(t--,1),e=l(l.s=a[0]))}return e}var s={},o={app:0},i={app:0},n=[];function c(e){return l.p+"js/"+({configuration:"configuration"}[e]||e)+"."+{configuration:"1f7fa84b"}[e]+".js"}function l(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={configuration:1};o[e]?t.push(o[e]):0!==o[e]&&a[e]&&t.push(o[e]=new Promise((function(t,a){for(var s="css/"+({configuration:"configuration"}[e]||e)+"."+{configuration:"e5e8a40d"}[e]+".css",i=l.p+s,n=document.getElementsByTagName("link"),c=0;c<n.length;c++){var r=n[c],b=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(b===s||b===i))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){r=d[c],b=r.getAttribute("data-href");if(b===s||b===i)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var s=t&&t.target&&t.target.src||i,n=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=s,delete o[e],h.parentNode.removeChild(h),a(n)},h.href=i;var g=document.getElementsByTagName("head")[0];g.appendChild(h)})).then((function(){o[e]=0})));var s=i[e];if(0!==s)if(s)t.push(s[2]);else{var n=new Promise((function(t,a){s=i[e]=[t,a]}));t.push(s[2]=n);var r,b=document.createElement("script");b.charset="utf-8",b.timeout=120,l.nc&&b.setAttribute("nonce",l.nc),b.src=c(e);var d=new Error;r=function(t){b.onerror=b.onload=null,clearTimeout(h);var a=i[e];if(0!==a){if(a){var s=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",d.name="ChunkLoadError",d.type=s,d.request=o,a[1](d)}i[e]=void 0}};var h=setTimeout((function(){r({type:"timeout",target:b})}),12e4);b.onerror=b.onload=r,document.head.appendChild(b)}return Promise.all(t)},l.m=e,l.c=s,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(a,s,function(t){return e[t]}.bind(null,s));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/vcmap/",l.oe=function(e){throw console.error(e),e};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],b=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var h=b;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"0613":function(e,t,a){"use strict";a.d(t,"b",(function(){return c}));var s=a("5502"),o=a("bfa9"),i=a("16d6"),n=a("91b6");const c=Symbol(),l=new o["a"]({storage:window.localStorage});t["a"]=Object(s["a"])({state:()=>({species:null,chromosome:null,startPos:null,stopPos:null,loadStart:null,loadStop:null,gene:null,comparativeSpecies:[],loadedGenes:[],loadedGeneSections:[],selectedBackboneRegion:new i["b"](new i["a"](0,0,0,0)),overviewBasePairToHeightRatio:1e3,overviewSyntenyThreshold:0,detailedBasePairToHeightRatio:1e3,detailsSyntenyThreshold:0,configTab:0,selectedData:null,selectedGeneIds:[],detailedBasePairRange:{start:0,stop:0},isDetailedPanelUpdating:!1,isOverviewPanelUpdating:!1}),mutations:{species(e,t){e.species=t},chromosome(e,t){e.chromosome=t},startPosition(e,t){e.startPos=t},stopPosition(e,t){e.stopPos=t},loadStart(e,t){e.loadStart=t},loadStop(e,t){e.loadStop=t},gene(e,t){e.gene=t},comparativeSpecies(e,t){e.comparativeSpecies=t},loadedGenes(e,t){e.loadedGenes=t},loadedGeneSections(e,t){e.loadedGeneSections=t},selectedBackboneRegion(e,t){e.selectedBackboneRegion=t},detailedBasePairRange(e,t){e.detailedBasePairRange=t},overviewBasePairToHeightRatio(e,t){console.debug(`Setting overview panel bp resolution to ${t} bp/unit`),e.overviewBasePairToHeightRatio=t},overviewSyntenyThreshold(e,t){console.debug(`Setting overview panel synteny threshold to ${t}bp`),e.overviewSyntenyThreshold=t},detailedBasePairToHeightRatio(e,t){console.debug(`Setting details panel bp resolution to ${t} bp/unit`),e.detailedBasePairToHeightRatio=t},detailsSyntenyThreshold(e,t){console.debug(`Setting details panel synteny threshold to ${t}bp`),e.detailsSyntenyThreshold=t},configTab(e,t){e.configTab=t},selectedData(e,t){e.selectedData=t},selectedGeneIds(e,t){e.selectedGeneIds=t},isDetailedPanelUpdating(e,t){e.isDetailedPanelUpdating=t},isOverviewPanelUpdating(e,t){e.isOverviewPanelUpdating=t},backboneOrthologs(e,t){e.selectedBackboneRegion.orthologData=t}},actions:{setSpecies(e,t){e.commit("species",t)},setChromosome(e,t){e.commit("chromosome",t)},setStartPosition(e,t){e.commit("startPosition",t)},setStopPosition(e,t){e.commit("stopPosition",t)},setLoadStart(e,t){e.commit("loadStart",t)},setLoadStop(e,t){e.commit("loadStop",t)},setGene(e,t){e.commit("gene",t)},setOverviewResolution(e,t){const a=n["a"].viewboxHeight-(n["a"].overviewTrackYPosition+n["a"].navigationButtonHeight+(n["a"].overviewTrackYPosition-n["a"].panelTitleHeight));e.commit("overviewBasePairToHeightRatio",t/a),e.commit("overviewSyntenyThreshold",t>25e4?Math.floor(t/8e3):0)},setDetailsResolution(e,t){const a=n["a"].viewboxHeight-(n["a"].panelTitleHeight+n["a"].navigationButtonHeight);e.commit("detailedBasePairToHeightRatio",t/a),e.commit("detailsSyntenyThreshold",t>25e4?Math.floor(t/8e3):0)},setConfigTab(e,t){e.commit("configTab",t)},setSelectedData(e,t){e.commit("selectedData",t)},setSelectedGeneIds(e,t){e.commit("selectedGeneIds",t)},setComparativeSpecies(e,t){e.commit("comparativeSpecies",t)},setLoadedGenes(e,t){e.commit("loadedGenes",t)},setLoadedGeneSections(e,t){e.commit("loadedGeneSections",t)},setIsDetailedPanelUpdating(e,t){e.commit("isDetailedPanelUpdating",t)},setIsOverviewPanelUpdating(e,t){e.commit("isOverviewPanelUpdating",t)},clearConfiguration(e){e.commit("species",null),e.commit("gene",null),e.commit("chromosome",null),e.commit("startPosition",null),e.commit("stopPosition",null),e.commit("loadStart",null),e.commit("loadStop",null),e.commit("comparativeSpecies",[]),e.commit("selectedGeneIds",[]),e.commit("loadedGenes",[]),e.commit("loadedGeneSections",[]),e.commit("selectedBackboneRegion",new i["b"](new i["a"](0,0,0,0))),e.commit("detailedBasePairRange",{start:0,stop:0})},clearBackboneSelection(e){e.commit("selectedBackboneRegion",new i["b"](new i["a"](0,0,0,0))),e.commit("detailedBasePairRange",{start:0,stop:0})},setBackboneSelection(e,t){var a,s;null==t.innerSelection&&t.generateInnerSelection(t.baseSelection.basePairStart,t.baseSelection.basePairStop,e.state.overviewBasePairToHeightRatio),e.commit("startPosition",t.baseSelection.basePairStart),e.commit("stopPosition",t.baseSelection.basePairStop),e.commit("selectedBackboneRegion",t),e.commit("detailedBasePairRange",{start:null===(a=t.innerSelection)||void 0===a?void 0:a.basePairStart,stop:null===(s=t.innerSelection)||void 0===s?void 0:s.basePairStop})},setDetailedBasePairRange(e,t){e.commit("detailedBasePairRange",t)},setBackboneOrthologData(e,t){e.commit("backboneOrthologs",t)}},plugins:[l.plugin]})},"0daf":function(e,t,a){"use strict";var s;a.d(t,"a",(function(){return s})),function(e){function t(e){return null==e?null:(e/1e6).toFixed(2)+"Mbp"}function a(e){return null==e?null:e.toLocaleString()}e.convertBasePairToLabel=t,e.addCommasToBasePair=a}(s||(s={}))},1160:function(e,t,a){},"16d6":function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));var s=a("91b6");class o{constructor(e,t,a,s){this.svgYPoint=e,this.svgHeight=t,this.basePairStart=a,this.basePairStop=s}get length(){return this.basePairStop-this.basePairStart}}class i{constructor(e,t){this.zoomLevel=1,this.shiftPercent=.2,this.baseSelection=e,this.chromosome=t}adjustBaseSelectionByPercentage(e,t,a){const s=Math.ceil(e/100*this.baseSelection.length/2),o=this.baseSelection.basePairStart-s,i=this.baseSelection.basePairStop+s;this.adjustBaseSelectionByPosition(o,i,t,a)}adjustBaseSelectionByPosition(e,t,a,i){e<0&&t>a?(e=0,t=a):e<0?(t=t-e>a?a:t-e,e=0):t>a&&(e=e-(t-a)<0?0:e-(t-a),t=a);const n=e/i,c=n+s["a"].overviewTrackYPosition,l=(t-e)/i;if(this.baseSelection=new o(c,l,e,t),this.innerSelection){let e=this.innerSelection.basePairStart,t=this.innerSelection.basePairStop,a=!1;this.innerSelection.basePairStart<this.baseSelection.basePairStart&&(e=this.baseSelection.basePairStart,a=!0),this.innerSelection.basePairStop>this.baseSelection.basePairStop&&(t=this.baseSelection.basePairStop,a=!0),a&&this.generateInnerSelection(e,t,i)}}generateInnerSelection(e,t,a){var s;const i=this.baseSelection.basePairStop-this.baseSelection.basePairStart,n=t-e;this.zoomLevel=parseFloat((1/(n/i)).toFixed(2)),e=e<0?0:Math.floor(e),t=null!==(s=this.chromosome)&&void 0!==s&&s.seqLength&&t>this.chromosome.seqLength?this.chromosome.seqLength:Math.ceil(t);const c=(t-e)/a;let l=this.baseSelection.svgYPoint;return e>this.baseSelection.basePairStart?l=(e-this.baseSelection.basePairStart)/a+this.baseSelection.svgYPoint:e<this.baseSelection.basePairStart&&(l=this.baseSelection.svgYPoint-(this.baseSelection.basePairStart-e)/a),this.innerSelection=new o(l,c,e,t),this.innerSelection}moveInnerSelectionUp(e){if(!this.innerSelection)return;const t=this.innerSelection.basePairStop-this.innerSelection.basePairStart;let a=this.innerSelection.basePairStart-t*this.shiftPercent,s=this.innerSelection.basePairStop-t*this.shiftPercent;return a<this.baseSelection.basePairStart&&(a=this.baseSelection.basePairStart,s=this.baseSelection.basePairStart+t),this.generateInnerSelection(a,s,e)}moveInnerSelectionDown(e){if(!this.innerSelection)return;const t=this.innerSelection.basePairStop-this.innerSelection.basePairStart;let a=this.innerSelection.basePairStart+t*this.shiftPercent,s=this.innerSelection.basePairStop+t*this.shiftPercent;return s>this.baseSelection.basePairStop&&(a=this.baseSelection.basePairStop-t,s=this.baseSelection.basePairStop),this.generateInnerSelection(a,s,e)}}},"285d":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const s={1:"#ff7e76",2:"#fec27e",3:"#fde083",4:"#91ff87",5:"#a4c2ff",6:"#e289ff",7:"#c2c280",8:"#c2c2c2",9:"#ff7de2",10:"#e47773",11:"#ffe0e1",12:"#fcff89",13:"#e0ff88",14:"#89b374",15:"#6666e2",16:"#c3e0ff",17:"#91ffff",18:"#e0ffff",19:"#c572e2",20:"#e0c2ff",21:"#c3a374",22:"#a3a371",X:"#a3a3a3",Y:"#e0e0e0",MT:"#b2e190","2A":"#e0e0c2","2B":"#a52a2a"},o="#a52a2a";class i{constructor(){this.mapKey=0,this.chromosome="",this.seqLength=0,this.gapLength=0,this.gapCount=0,this.contigCount=0,this.ordinalNumber=0}}class n extends i{constructor(e){super(),Object.assign(this,e)}static getColor(e){var t;return null!==(t=s[e])&&void 0!==t?t:o}}},3371:function(e,t,a){},"36ab":function(e,t,a){"use strict";a("a8ea")},"4a97":function(e,t,a){},5752:function(e,t,a){},"5b98":function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var s=a("6a82");class o{constructor(){this.typeKey=0,this.name="",this.defaultMapKey=0,this.maps=[]}}class i extends o{constructor(e){var t;super(),Object.assign(this,e),this.activeMap=null===(t=this.maps)||void 0===t?void 0:t.filter(e=>e.key===this.defaultMapKey)[0]}copy(){return new i({typeKey:this.typeKey,name:this.name,defaultMapKey:this.defaultMapKey,maps:this.maps})}}class n{constructor(){this.key=0,this.name="",this.description="",this.notes="",this.primaryRefAssembly=!1}}class c extends n{constructor(e){super(),Object.assign(this,e)}}var l=a("285d"),r=a("e21c");class b{static async getSpecies(){const e=await s["a"].get("/vcmap/species"),t=[];for(const s of e.data){var a;const e=[];let o=null;for(const t of s.maps)t.primaryRefAssembly&&(o=t.key),e.push(new c({key:t.key,name:t.name,description:t.description,notes:t.notes,primaryRefAssembly:t.primaryRefAssembly}));t.push(new i({typeKey:s.speciesTypeKey,name:s.name,defaultMapKey:null!==(a=o)&&void 0!==a?a:s.maps[0].key,maps:e}))}return t}static async getMaps(e){const t=await s["a"].get("/lookup/maps/"+e),a=[];for(const s in t.data){const e=t.data[s];a.push(new c({key:e.key,name:e.name,description:e.description,notes:e.notes,primaryRefAssembly:e.primaryRefAssembly}))}return a}static async getChromosomes(e){const t=await s["a"].get(`/vcmap/maps/${e}/chromosomes`),a=[],o=t.data;for(const s in o){const e=o[s];a.push(new l["a"]({mapKey:e.mapKey,chromosome:e.chromosome,seqLength:e.seqLength,gapLength:e.gapLength,gapCount:e.gapCount,contigCount:e.contigCount,ordinalNumber:e.ordinalNumber}))}return a}static async getChromosomeInfo(e,t){const a=await s["a"].get(`/maps/chr/${e}/${t}`),o=a.data,i=new l["a"]({mapKey:o.mapKey,chromosome:o.chromosome,seqLength:o.seqLength,gapLength:o.gapLength,gapCount:o.gapCount,contigCount:o.contigCount,ordinalNumber:o.ordinalNumber});return i}static async getGenesBySymbol(e,t,a){const o=await s["a"].get(`/vcmap/genes/map/${e}?symbolPrefix=${a}`),i=[];for(const s in o.data){const e=o.data[s];i.push(new r["a"]({speciesName:t,geneSymbol:e.gene.symbol,geneName:e.gene.name,geneType:e.gene.type,key:e.gene.key,geneRgdId:e.gene.rgdId,chr:e.chromosome,startPos:e.start,stopPos:e.stop}))}return i}static async getGenesByRegion(e,t,a,o,i){const n=await s["a"].get(`/genes/mapped/${e}/${t}/${a}/${o}`),c=[];for(const s in n.data){const e=n.data[s];c.push(new r["a"]({geneSymbol:e.gene.symbol,geneName:e.gene.name,geneType:e.gene.type,key:e.gene.key,geneRgdId:e.gene.rgdId,chr:e.chromosome,startPos:e.start,stopPos:e.stop,speciesName:i}))}return c}static async getGeneOrthologs(e,t,a,o,i){let n="";for(let s=0;s<i.length;s++){const e=i[s];s==i.length-1?n+=e:n+=e+","}const c=await s["a"].get(`/vcmap/genes/orthologs/${e}/${t}/${a}/${o}}?mapKeys=${n.toString()}`),l=new Map;for(const s in c.data){const e=c.data[s];l.set(e.gene.geneSymbol,e.orthologs)}return l}}},6836:function(e,t,a){},"6a82":function(e,t,a){"use strict";var s=a("bc3a"),o=a.n(s),i={API_BASE_URL:"https://pipelines.rgd.mcw.edu/rgdws"};i.API_BASE_URL||console.warn("API_BASE_URL is not defined in your app configuration");const n=o.a.create({baseURL:i.API_BASE_URL});t["a"]=n},"6b11":function(e,t,a){"use strict";a("5752")},"6cfd":function(e,t,a){},"6e14":function(e,t,a){},"8daf":function(e,t,a){"use strict";a("4a97")},"8f40":function(e,t,a){"use strict";a("3371")},"91b6":function(e,t,a){"use strict";t["a"]={overviewPanelWidth:300,detailsPanelWidth:500,overviewTitleXPosition:10,detailsTitleXPosition:310,panelTitleYPosition:15,panelTitleHeight:55,backboneXPosition:260,viewboxHeight:440,trackWidth:20,dataTrackWidth:10,overviewTrackYPosition:70,trackLabelYPosition:25,trackMapLabelYPosition:35,selectedBackboneXPosition:320,navigationButtonHeight:15}},"99ba":function(e,t,a){e.exports=a.p+"img/vcmap_logo_v2.b3987237.png"},a18b:function(e,t,a){"use strict";a("b619")},a372:function(e,t,a){"use strict";var s=a("7a23"),o=Object(s["m"])({props:{header:{type:String,required:!0},message:{type:String,required:!1},show:{type:Boolean,required:!0},theme:{type:String,required:!1}},emits:["update:show"],setup(e,{emit:t}){const a=e,o=Object(s["d"])({get(){return a.show},set(e){t("update:show",e)}}),i=()=>{t("update:show",!1)};return(e,t)=>{const n=Object(s["G"])("Button"),c=Object(s["G"])("Dialog");return Object(s["y"])(),Object(s["f"])(c,{header:a.header,visible:Object(s["M"])(o),"onUpdate:visible":t[0]||(t[0]=e=>Object(s["q"])(o)?o.value=e:null),class:"vcmap-dialog",breakpoints:{"960px":"75vw","640px":"100vw"},draggable:!1,closable:!1,modal:!0},{footer:Object(s["Q"])(()=>[Object(s["F"])(e.$slots,"footer",{},()=>[Object(s["l"])(n,{label:"Ok",class:Object(s["t"])({"p-button-danger":"error"===a.theme}),onClick:i,autofocus:""},null,8,["class"])])]),default:Object(s["Q"])(()=>[Object(s["i"])("p",null,Object(s["K"])(a.message),1),Object(s["F"])(e.$slots,"content",{},()=>[Object(s["i"])("p",null,Object(s["K"])(a.message),1)])]),_:3},8,["header","visible"])}}});a("b946");const i=o;t["a"]=i},a8ea:function(e,t,a){},b619:function(e,t,a){},b946:function(e,t,a){"use strict";a("1160")},ba3e:function(e,t,a){"use strict";a("6cfd")},c832:function(e,t,a){"use strict";a("f5ff")},cd49:function(e,t,a){"use strict";a.r(t);a("098b"),a("e1ae"),a("4121"),a("22a3");var s=a("7a23");function o(e,t){const a=Object(s["G"])("router-view");return Object(s["y"])(),Object(s["f"])(a)}a("e167");var i=a("6b0d"),n=a.n(i);const c={},l=n()(c,[["render",o]]);var r=l,b=a("6c02"),d=a("6e3d"),h=a.n(d),g=a("5796"),p=a.n(g),u=a("5502");class v{constructor(e,t){this.genomicSection=e,this.type=t}}var m=a("a1e9"),S=a("91b6"),O=a("0613"),j=a("e21c");function y(e,t){const a=e.state.selectedBackboneRegion.orthologData.get(t.symbol);let s=[];return a&&(s=Object.keys(a).map(e=>a[e][0].geneRgdId)),s}function f(e,t){var a;const s=e.state.loadedGenes,o=(null===(a=e.state.species)||void 0===a?void 0:a.name)||"",i=t.speciesName||"",n=e.state.comparativeSpecies,c=new Map;let l,r,b;if(n.forEach(e=>c.set(e.activeMap.key,e.name)),i===o)l=e.state.selectedBackboneRegion.orthologData.get(t.symbol),r=[new v(t,"Gene")],b=[t.rgdId,...y(e,t)];else{const a=[...c].filter(e=>e[1]===i).map(e=>e[0]),n=w(e,t,a[0]);l=n.orthologData;const d=n.backboneSymbol;let h=d?s.get(d.toLowerCase()):null;h&&(h=h.has(o.toLowerCase())?h[o.toLowerCase()]:null),r=h?[new v(h.gene,"Gene")]:[new v(t,"Gene")],b=h?[h.rgdId,...y(e,h)]:[t.rgdId]}if(l){const e=Object.keys(l);for(let t=0;t<e.length;t++){const a=new j["a"]({...l[e[t]][0],speciesName:c.get(parseInt(e[t],10))});r.push(new v(a,"Gene"))}}return{rgdIds:b,selectedData:r}}function k(e){e.sort((e,t)=>{var a,s,o,i;const n=(null===(a=e.gene)||void 0===a?void 0:a.symbol.startsWith("LOC"))||!1,c=(null===(s=t.gene)||void 0===s?void 0:s.symbol.startsWith("LOC"))||!1;if(n&&c){var l,r;const a=(null===(l=e.gene)||void 0===l?void 0:l.symbol.toLowerCase())||"",s=(null===(r=t.gene)||void 0===r?void 0:r.symbol.toLowerCase())||"";return a<s?-1:a>s?1:0}if(n)return 1;if(c)return-1;const b=(null===(o=e.gene)||void 0===o?void 0:o.symbol.toLowerCase())||"",d=(null===(i=t.gene)||void 0===i?void 0:i.symbol.toLowerCase())||"";return b<d?-1:b>d?1:0})}function w(e,t,a){const s=e.state.selectedBackboneRegion.orthologData,o=[...s.entries()].filter(e=>{if(e[1][a.toString()]){const s=e[1][a.toString()].find(e=>{e.geneSymbol.toLowerCase(),t.symbol.toLowerCase()})||-1;return-1!==s}return!1}).map(e=>e[0]);return{backboneSymbol:o[0],orthologData:s.get(o[0])}}Object(s["B"])("data-v-3fbf01da");const P=Object(s["i"])("defs",null,[Object(s["i"])("linearGradient",{id:"selectedStripes",gradientUnits:"userSpaceOnUse",x2:"5",spreadMethod:"repeat",gradientTransform:"rotate(-45)"},[Object(s["i"])("stop",{offset:"0","stop-color":"gray"}),Object(s["i"])("stop",{offset:"0.40","stop-color":"gray"}),Object(s["i"])("stop",{offset:"0.40","stop-color":"lightgray"}),Object(s["i"])("stop",{offset:"1.0","stop-color":"lightgray"})])],-1),M=["x","y"],B=["onMouseenter","onMouseleave","stroke","x1","x2","y1","y2"],T=["onMouseenter","onMouseleave","onClick","x","y"],G=["onMouseenter","onMouseleave","onClick","fill","fill-opacity","x","y","width","height"],L=["x1","x2","y1","y2"],x=["onMouseenter","onMouseleave","fill","x","y","width","height"],R=["x1","x2","y1","y2"],C=["x","y"],D=["x1","x2","y1","y2"],Y=["x1","x2","y1","y2"],H=["x","width","height"];Object(s["z"])();var I=Object(s["m"])({props:{showSyntenyOnHover:{type:Boolean,required:!1},showStartStop:{type:Boolean,required:!1},showChromosome:{type:Boolean,required:!1},showGeneLabel:{type:Boolean,required:!1},geneDataTrack:{type:Boolean,required:!1},posX:{type:Number,required:!0},width:{type:Number,required:!0},track:{type:null,required:!0},lines:{type:[Array,null],required:!1}},setup(e){const t=e,a=.75,o=3,i="#FF7C60",n="#FF4822",c=Object(u["b"])(O["b"]);document.querySelector("svg");Object(m["q"])(t),Object(s["P"])(()=>c.state.selectedGeneIds,()=>{d(c.state.selectedGeneIds)}),Object(s["w"])(()=>{d(c.state.selectedGeneIds)});const l=(e,t,a)=>{if("trackSection"!==a&&"geneLabel"!==a||t&&(t.isHovered=!0),0===c.state.selectedGeneIds.length){const e=new v(t,a);c.dispatch("setSelectedData",[e])}},r=(e,t)=>{"trackSection"!==t&&"geneLabel"!==t||e&&1==e.isHovered&&(e.isHovered=!1),0===c.state.selectedGeneIds.length&&c.dispatch("setSelectedData",null)},b=(e,t,a)=>{var s,o;if(null===(s=t.gene)||void 0===s||!s.rgdId)return;if(c.state.selectedGeneIds.includes((null===(o=t.gene)||void 0===o?void 0:o.rgdId)||-1))return c.dispatch("setSelectedGeneIds",[]),void c.dispatch("setSelectedData",null);let i=e.shiftKey?[...c.state.selectedGeneIds]:[],n=[];const l="geneLabel"===a?[t,...t.combinedGenes||[]]:[t,...t.hiddenGenes||[]];if(l&&l.length>0&&(l.forEach(e=>i.push(e.gene.rgdId)),k(l),l.forEach(e=>{if(e.gene){const t=f(c,e.gene),a=t.selectedData,s=t.rgdIds;n.push(...a),i.push(...s)}})),c.dispatch("setSelectedGeneIds",i||[]),e.shiftKey){const e=[...c.state.selectedData||[],...n];c.dispatch("setSelectedData",e)}else c.dispatch("setSelectedData",n)},d=e=>{var a;t.track.sections.forEach(t=>{h(t,e)?t.isSelected=!0:t.isSelected=!1}),null===(a=t.lines)||void 0===a||a.forEach(t=>{var a,s;e.includes((null===(a=t.backboneGene.gene)||void 0===a?void 0:a.rgdId)||-1)||e.includes((null===(s=t.comparativeGene.gene)||void 0===s?void 0:s.rgdId)||-1)?(t.isSelected=!0,t.backboneGene.isSelected=!0,t.comparativeGene.isSelected=!0):t.isSelected=!1}),t.track.geneLabels.forEach(t=>{if(t.isVisible){let a=!1;if(e.includes(t.section.gene.rgdId))a=!1;else{const s=t.section.altLabels.map(e=>e.rgdId);e.some(e=>s.includes(e))&&(a=!0)}t.section.showAltLabel=a}})},h=(e,t)=>{var a;if(t.includes((null===(a=e.gene)||void 0===a?void 0:a.rgdId)||-1))return!0;if(e.hiddenGenes)for(let o=0;o<e.hiddenGenes.length;o++){var s;if(t.includes((null===(s=e.hiddenGenes[o].gene)||void 0===s?void 0:s.rgdId)||-1))return!0}return!1},g=e=>e.isSelected?n:e.isHovered?i:e.color,p=e=>{if(e.section.showAltLabel){const t=c.state.selectedGeneIds,a=e.section.altLabels.filter(e=>t.includes(e.rgdId));let s=e.text;for(let e=0;e<a.length;e++)if(s=a[e].text,!s.startsWith("LOC"))break;return s}return e.text};return(t,c)=>(Object(s["y"])(),Object(s["h"])(s["a"],null,[P,(Object(s["y"])(!0),Object(s["h"])(s["a"],null,Object(s["E"])(e.track.labels,(t,a)=>(Object(s["y"])(),Object(s["h"])(s["a"],{key:a},[e.showStartStop&&t.isVisible?(Object(s["y"])(),Object(s["h"])("text",{key:0,"data-test":"bp-label",class:"label small",x:e.posX+e.width,y:t.svgY+o}," - "+Object(s["K"])(t.text),9,M)):Object(s["g"])("",!0)],64))),128)),e.lines?(Object(s["y"])(!0),Object(s["h"])(s["a"],{key:0},Object(s["E"])(e.lines,(t,a)=>(Object(s["y"])(),Object(s["h"])("line",{key:a,class:"ortholog-line",onMouseenter:e=>l(e,t,"orthologLine"),onMouseleave:e=>r(t,"orthologLine"),stroke:t.isSelected?n:"lightgray",x1:e.posX+e.width,x2:t.comparativeGeneX,y1:t.backboneGeneY,y2:t.comparativeGeneY},null,40,B))),128)):Object(s["g"])("",!0),(Object(s["y"])(!0),Object(s["h"])(s["a"],null,Object(s["E"])(e.track.geneLabels,(t,a)=>(Object(s["y"])(),Object(s["h"])(s["a"],{key:a},[e.showGeneLabel&&t.isVisible?(Object(s["y"])(),Object(s["h"])("text",{key:0,onMouseenter:e=>l(e,t.section,"geneLabel"),onMouseleave:e=>r(t.section,"geneLabel"),onClick:e=>b(e,t.section,"geneLabel"),class:Object(s["t"])(t.section.isSelected||t.section.showAltLabel?"bold-label":"label small"),x:e.posX+e.width,y:t.svgY+o}," - "+Object(s["K"])(p(t)),43,T)):Object(s["g"])("",!0)],64))),128)),(Object(s["y"])(!0),Object(s["h"])(s["a"],null,Object(s["E"])(e.track.sections,(t,o)=>(Object(s["y"])(),Object(s["h"])(s["a"],{key:o},["line"!==t.shape&&2!==t.chainLevel?(Object(s["y"])(),Object(s["h"])("rect",{key:0,"data-test":"track-section-svg",class:"section",onMouseenter:e=>l(e,t,"trackSection"),onMouseleave:e=>r(t,"trackSection"),onClick:e=>b(e,t,"trackSection"),fill:g(t),"fill-opacity":e.geneDataTrack?.7:1,x:e.posX,y:t.svgY,width:e.width,height:t.height},null,40,G)):"line"===t.shape&&2!==t.chainLevel?(Object(s["y"])(),Object(s["h"])("line",{key:1,"data-test":"track-section-svg",class:"section gap",x1:e.posX+e.width/2,x2:e.posX+e.width/2,y1:t.svgY,y2:t.svgY2},null,8,L)):"line"!==t.shape?(Object(s["y"])(),Object(s["h"])("rect",{key:2,"data-test":"track-section-svg",class:"section level-2",onMouseenter:e=>l(e,t,"trackSection"),onMouseleave:e=>r(t,"trackSection"),fill:t.isHovered?i:t.color,x:e.posX+e.width*(1-a)/2,y:t.svgY,width:e.width*a,height:t.height},null,40,x)):"line"===t.shape?(Object(s["y"])(),Object(s["h"])("line",{key:3,"data-test":"track-section-svg",class:"section gap",x1:e.posX+e.width/2,x2:e.posX+e.width/2,y1:t.svgY,y2:t.svgY2},null,8,R)):Object(s["g"])("",!0),e.showChromosome&&t.height>15&&"line"!==t.shape?(Object(s["y"])(),Object(s["h"])("text",{key:4,class:"chromosome-label",x:e.posX+e.width/2,y:t.svgY+t.height/2,"dominant-baseline":"middle","text-anchor":"middle"},Object(s["K"])(t.chromosome),9,C)):Object(s["g"])("",!0),e.showSyntenyOnHover?(Object(s["y"])(),Object(s["h"])(s["a"],{key:5},[t.isHovered?(Object(s["y"])(),Object(s["h"])("line",{key:0,class:"section connection-line",x1:e.posX+e.width,x2:Object(s["M"])(S["a"]).backboneXPosition,y1:t.svgY,y2:t.isInverted?t.svgY2:t.svgY},null,8,D)):Object(s["g"])("",!0),t.isHovered?(Object(s["y"])(),Object(s["h"])("line",{key:1,class:"section connection-line",x1:e.posX+e.width,x2:Object(s["M"])(S["a"]).backboneXPosition,y1:t.svgY2,y2:t.isInverted?t.svgY:t.svgY2},null,8,Y)):Object(s["g"])("",!0)],64)):Object(s["g"])("",!0)],64))),128)),Object(s["i"])("rect",{class:"panel",x:Object(s["M"])(S["a"]).overviewPanelWidth,width:Object(s["M"])(S["a"]).detailsPanelWidth,height:Object(s["M"])(S["a"]).panelTitleHeight},null,8,H)],64))}});a("36ab");const E=n()(I,[["__scopeId","data-v-3fbf01da"]]);var N=E,K=a("16d6"),_=a("a372");function V(){const e=Object(s["D"])(!1),t=Object(s["D"])(""),a=Object(s["D"])(""),o=(s,o)=>{console.error(s),t.value="Error",a.value=o,e.value=!0},i=()=>{t.value="No Results",a.value="No syntenic regions were found for the selected species and base pair range.",e.value=!0},n=s=>{t.value="Missing Results",a.value="We did not find syntenic regions for the following species: "+s.map(e=>`${e.speciesTrack.name} (${e.speciesTrack.mapName})`).join(", "),e.value=!0},c=e=>{const t=e.some(e=>e.speciesTrack.sections.length>0);if(t){if(e.some(e=>0===e.speciesTrack.sections.length)){const t=e.filter(e=>0===e.speciesTrack.sections.length);n(t)}}else i()};return{onError:o,checkSyntenyResultsOnComparativeSpecies:c,dialogHeader:t,dialogMessage:a,showDialog:e}}function q(e,t){var a;if(null==e)return{y:0,x:0};let s=e.createSVGPoint();s.x=t.clientX,s.y=t.clientY;const o=null===(a=e.getScreenCTM())||void 0===a?void 0:a.inverse();return s=s.matrixTransform(o),s}var X=a("0daf");Object(s["B"])("data-v-2e2eb8f4");const $=["onMouseenter","onMouseleave","fill","x","y","width","height"],U=["x1","x2","y1","y2"],A=["x","y"],W=["x","y"],z=["x","y","width","height"],F=["x","y","width","height"],Q=["x","y"],Z=["x","y"],J=["x","y"],ee=["x","y"];Object(s["z"])();var te=Object(s["m"])({props:{showDataOnHover:{type:Boolean,required:!1},posX:{type:Number,required:!0},track:{type:null,required:!0},isDetailed:{type:Boolean,required:!1}},setup(e){var t;const a=e,o=4,i=-3,n=7,c="bisque",l=Object(u["b"])(O["b"]),r=document.querySelector("svg");Object(m["q"])(a);const b=Object(s["D"])(new K["b"](new K["a"](0,0,0,0),null!==(t=l.state.chromosome)&&void 0!==t?t:void 0));Object(s["P"])(()=>l.state.selectedBackboneRegion,(e,t)=>{var s;!a.isDetailed&&t.baseSelection.svgHeight>0&&0===e.baseSelection.svgHeight?b.value=new K["b"](new K["a"](0,0,0,0),null!==(s=l.state.chromosome)&&void 0!==s?s:void 0):!a.isDetailed&&e.baseSelection.svgHeight>0&&(b.value=e)},{deep:!0});const d=(e,t)=>{if(a.isDetailed){if(e.svgY-S["a"].panelTitleHeight<10)return e.svgY+3;if(e.svgY-(S["a"].panelTitleHeight+(S["a"].viewboxHeight-S["a"].navigationButtonHeight))<10)return e.svgY}return t>0?e.svgY+n:e.svgY+i},h=(e,t,a)=>{if("trackSection"!==a&&"geneLabel"!==a||t&&(t.isHovered=!0),0===l.state.selectedGeneIds.length){q(r,e);const s=new v(t,a);l.dispatch("setSelectedData",[s])}},g=(e,t)=>{"trackSection"!==t&&"geneLabel"!==t||e&&1==e.isHovered&&(e.isHovered=!1),0===l.state.selectedGeneIds.length&&l.dispatch("setSelectedData",null)};return(t,a)=>(Object(s["y"])(!0),Object(s["h"])(s["a"],null,Object(s["E"])(e.track.sections,(t,a)=>{var i,n,l,r,p;return Object(s["y"])(),Object(s["h"])(s["a"],{key:a},["line"!==t.shape?(Object(s["y"])(),Object(s["h"])("rect",{key:0,"data-test":"track-section-svg",class:"section",onMouseenter:e=>h(e,t,"trackSection"),onMouseleave:e=>g(t,"trackSection"),fill:t.isHovered&&e.showDataOnHover?c:t.color,x:e.posX,y:t.svgY,width:Object(s["M"])(S["a"]).trackWidth,height:t.height},null,40,$)):(Object(s["y"])(),Object(s["h"])("line",{key:1,"data-test":"track-section-svg",class:"section gap",x1:e.posX+Object(s["M"])(S["a"]).trackWidth/2,x2:e.posX+Object(s["M"])(S["a"]).trackWidth/2,y1:t.svgY,y2:t.svgY+t.height},null,8,U)),"line"!==t.shape?(Object(s["y"])(),Object(s["h"])("text",{key:2,class:"chromosome-label",x:e.posX+Object(s["M"])(S["a"]).trackWidth/2,y:t.svgY+t.height/2,"dominant-baseline":"middle","text-anchor":"middle"},Object(s["K"])(t.chromosome),9,A)):Object(s["g"])("",!0),(Object(s["y"])(!0),Object(s["h"])(s["a"],null,Object(s["E"])(e.track.labels,(t,a)=>(Object(s["y"])(),Object(s["h"])(s["a"],{key:a},[t.isVisible?(Object(s["y"])(),Object(s["h"])("text",{key:0,"data-test":"bp-label",class:"label small",x:e.posX-Object(s["M"])(S["a"]).trackWidth/2,y:d(t,a)},Object(s["K"])(t.text),9,W)):Object(s["g"])("",!0)],64))),128)),!e.isDetailed&&b.value.baseSelection.svgHeight>0?(Object(s["y"])(),Object(s["h"])("rect",{key:3,"data-test":"selected-region",class:"selected-region",fill:"#000","fill-opacity":"0.3",stroke:"#333","stroke-width":"1",x:e.posX,y:b.value.baseSelection.svgYPoint,width:Object(s["M"])(S["a"]).trackWidth,height:b.value.baseSelection.svgHeight},null,8,z)):Object(s["g"])("",!0),!e.isDetailed&&b.value.innerSelection&&b.value.innerSelection.svgHeight>0?(Object(s["y"])(),Object(s["h"])("rect",{key:4,stroke:"green",fill:"green","fill-opacity":"0.5",x:e.posX-2,y:b.value.innerSelection.svgYPoint,width:Object(s["M"])(S["a"]).trackWidth+o,height:b.value.innerSelection.svgHeight},null,8,F)):Object(s["g"])("",!0),!e.isDetailed&&b.value.baseSelection.svgYPoint>75?(Object(s["y"])(),Object(s["h"])("text",{key:5,class:"label small",x:e.posX-3,y:b.value.baseSelection.svgYPoint-1},Object(s["K"])(Object(s["M"])(X["a"]).convertBasePairToLabel(b.value.baseSelection.basePairStart)),9,Q)):Object(s["g"])("",!0),!e.isDetailed&&b.value.baseSelection.svgYPoint+b.value.baseSelection.svgHeight<405?(Object(s["y"])(),Object(s["h"])("text",{key:6,class:"label small",x:e.posX-3,y:b.value.baseSelection.svgYPoint+b.value.baseSelection.svgHeight+6},Object(s["K"])(Object(s["M"])(X["a"]).convertBasePairToLabel(b.value.baseSelection.basePairStop)),9,Z)):Object(s["g"])("",!0),!e.isDetailed&&(null===(i=b.value.innerSelection)||void 0===i?void 0:i.svgHeight)>0&&(null===(n=b.value.innerSelection)||void 0===n?void 0:n.svgYPoint)-b.value.baseSelection.svgYPoint>6?(Object(s["y"])(),Object(s["h"])("text",{key:7,class:"label small",x:e.posX-3,y:(null===(l=b.value.innerSelection)||void 0===l?void 0:l.svgYPoint)-1},Object(s["K"])(Object(s["M"])(X["a"]).convertBasePairToLabel(b.value.innerSelection.basePairStart)),9,J)):Object(s["g"])("",!0),!e.isDetailed&&(null===(r=b.value.innerSelection)||void 0===r?void 0:r.svgHeight)>=6&&b.value.baseSelection.svgYPoint+b.value.baseSelection.svgHeight+6-(b.value.innerSelection.svgYPoint+b.value.innerSelection.svgHeight+6)>6?(Object(s["y"])(),Object(s["h"])("text",{key:8,class:"label small",x:e.posX-3,y:(null===(p=b.value.innerSelection)||void 0===p?void 0:p.svgYPoint)+b.value.innerSelection.svgHeight+6},Object(s["K"])(Object(s["M"])(X["a"]).convertBasePairToLabel(b.value.innerSelection.basePairStop)),9,ee)):Object(s["g"])("",!0)],64)}),128))}});a("de23");const ae=n()(te,[["__scopeId","data-v-2e2eb8f4"]]);var se=ae;class oe{constructor(e){this.sections=[],this.labels=[],this.geneLabels=[],this.startingSVGY=0,this.type="backbone",this.name=e.speciesName,this.sections=e.sections,this.mapName=e.mapName,this.speciesMap=e.speciesMap,this.startingSVGY=e.startingSVGY,this.type=e.type,this.rawGeneData=e.rawGeneData,this.rawSyntenyData=e.rawSyntenyData,this.setSectionSVGPositions(this.sections,e.isSyntenyTrack),this.buildAndSortLabelObjects(this.sections),this.createCombinedGeneLabels(this.sections)}get height(){let e=0;return this.sections.forEach(t=>{e+=t.height+t.offsetHeight}),e}get svgY(){return this.sections.length>0?this.sections[0].svgY:0}setSectionSVGPositions(e,t){if(t){const t=e.filter(e=>1===e.chainLevel),a=e.filter(e=>2===e.chainLevel);t.forEach((e,a)=>this.setSectionYPosition(e,a,t)),a.forEach((e,t)=>this.setSectionYPosition(e,t,a)),this.sections=a.filter(e=>"line"===e.shape).concat(t.filter(e=>"line"!==e.shape)).concat(a.filter(e=>"line"!==e.shape)).concat(t.filter(e=>"line"===e.shape))}else e.forEach((t,a)=>this.setSectionYPosition(t,a,e))}setSectionYPosition(e,t,a){let s=this.startingSVGY,o=t-1;while(o>=0&&0!==t){const e=a[o];s+=e.height+e.offsetHeight,o--}if(s+=e.offsetHeight,"gene"===this.type&&0!==e.svgY)return e.svgY;e.svgY=s}buildAndSortLabelObjects(e){const t=[];e.forEach(e=>{var a,s;t.push({svgY:e.svgY-S["a"].panelTitleHeight<=3?e.svgY+5:e.svgY,text:null!==(a=e.startBPLabel)&&void 0!==a?a:"",isVisible:!1}),t.push({svgY:S["a"].viewboxHeight-S["a"].navigationButtonHeight-e.svgY2<=3?e.svgY2-5:e.svgY2,text:null!==(s=e.stopBPLabel)&&void 0!==s?s:"",isVisible:!1})}),t.sort((e,t)=>e.svgY-t.svgY),t.forEach((e,a)=>{if(0===a)return void(e.isVisible=!0);let s,o=a-1;while(null==s&&o>=0)t[o].isVisible&&(s=t[o]),o--;(null==s||e.svgY-s.svgY>10)&&(e.isVisible=!0)}),this.labels=t}createCombinedGeneLabels(e){e.sort((e,t)=>t.height-e.height);const t=[];let a=[];e.forEach(e=>{var s;if(!e.gene||!e.isVisible)return;const o={svgY:e.svgY-S["a"].panelTitleHeight<=3?e.svgY+5:e.svgY+e.height/2,text:null!==(s=e.geneLabel)&&void 0!==s?s:"",isVisible:!1};a.push(o),t.push({key:Math.trunc(o.svgY).toString(),labelShown:!1,labelCombined:!1,labelY:o.svgY,trackSection:e})});for(let s=0;s<a.length;s++){const e=a[s],o=t.filter(t=>t.key===Math.trunc(e.svgY).toString());for(let a=0;a<o.length;a++){const s=o[a];if(s){if(s.labelCombined){s.labelShown=!1;continue}for(let o=1;o<10;o++){const i=(Math.trunc(e.svgY)-o).toString(),n=(Math.trunc(e.svgY)+o).toString(),c=t.findIndex(e=>e.key===i),l=t.findIndex(e=>e.key===n);if(-1!==c){const e=t.filter(e=>e.key===i);for(let t=0;t<e.length;t++){const a=e[t];if(a.labelCombined)a.labelShown=!1;else{if("loc"==s.trackSection.gene.symbol.split("",3).join("").toLowerCase()){a.trackSection.combinedGenes?a.trackSection.combinedGenes.push(s.trackSection):a.trackSection.combinedGenes=[s.trackSection],a.trackSection.altLabels=[...a.trackSection.altLabels,...s.trackSection.altLabels],s.labelCombined=!0,s.labelShown=!1;continue}s.trackSection.combinedGenes?s.trackSection.combinedGenes.push(a.trackSection):s.trackSection.combinedGenes=[a.trackSection],s.trackSection.altLabels=[...s.trackSection.altLabels,...a.trackSection.altLabels],a.trackSection.combinedGenes&&a.trackSection.combinedGenes.forEach(e=>{s.trackSection.combinedGenes.push(e),s.trackSection.altLabels=[...s.trackSection.altLabels,...e.altLabels]}),a.labelCombined=!0}}}if(-1!==l){const e=t.filter(e=>e.key===n);for(let t=0;t<e.length;t++){const a=e[t];if(a.labelCombined)a.labelShown=!1;else{if("loc"==s.trackSection.gene.symbol.split("",3).join("").toLowerCase()){a.trackSection.combinedGenes?a.trackSection.combinedGenes.push(s.trackSection):a.trackSection.combinedGenes=[s.trackSection],a.trackSection.altLabels=[...a.trackSection.altLabels,...s.trackSection.altLabels],s.labelCombined=!0,s.labelShown=!1;continue}s.trackSection.combinedGenes?s.trackSection.combinedGenes.push(a.trackSection):s.trackSection.combinedGenes=[a.trackSection],s.trackSection.altLabels=[...s.trackSection.altLabels,...a.trackSection.altLabels],a.trackSection.combinedGenes&&a.trackSection.combinedGenes.forEach(e=>{s.trackSection.combinedGenes.push(e),s.trackSection.altLabels=[...s.trackSection.altLabels,...e.altLabels]}),a.labelCombined=!0}}}0===a&&(s.labelShown=!0)}}}}a=[],t.forEach(e=>{const t={svgY:e.labelY,text:e.trackSection.geneLabel,isVisible:e.labelShown,section:e.trackSection};a.push(t)}),this.geneLabels=a}}class ie{constructor(e,t,a,s){this.type=e,this.name=t,this.track=a,this.color=s,this.isDisplayed=!1,this.isComparativeView=!1,this.orthologLines=[]}setIsDisplayed(e){this.isDisplayed=e}setIsComparativeView(e){this.isComparativeView=e}setColor(e){this.color=e}setOrthologLines(e){this.orthologLines=e}}var ne=a("5b98"),ce=a("6a82");class le{constructor(){this.backboneMapKey=0,this.backboneChromosome="",this.backboneStart=0,this.backboneStop=0,this.mapKey=0,this.chromosome="",this.start=0,this.stop=0,this.orientation="",this.chainLevel=0,this.chainType="top"}}class re extends le{constructor(e){super(),Object.assign(this,e)}get length(){return this.stop-this.start}}class be{static async getSyntenicRegions(e,t){try{const a=[],s=t.map(e=>e.activeMap);s.forEach(t=>{var s,o;let i=`/vcmap/synteny/${null===(s=e.backboneChromosome)||void 0===s?void 0:s.mapKey}/${null===(o=e.backboneChromosome)||void 0===o?void 0:o.chromosome}/${e.start}/${e.stop}/${t.key}`;null!=e.threshold&&e.threshold>0?(i+="?threshold="+e.threshold,null!=e.includeGenes&&1==e.includeGenes&&(i+="&includeGenes="+e.includeGenes)):null!=e.includeGenes&&1==e.includeGenes&&(i+="?includeGenes="+e.includeGenes),a.push(ce["a"].get(i))});const o=await Promise.allSettled(a),i=[];return o.forEach((a,o)=>{const n=[],c=[];"fulfilled"===a.status?a.value.data.forEach(e=>{var a,s;const i=new re(e.block),l=null===(a=e.gaps)||void 0===a?void 0:a.map(e=>new re(e)),r=[];null===(s=e.genes)||void 0===s||s.forEach(e=>{const a=new j["a"](e);a.speciesName=t[o].name,r.push(a)}),Array.prototype.push.apply(c,r),n.push({block:i,gaps:null!==l&&void 0!==l?l:[],genes:null!==r&&void 0!==r?r:[]})}):console.error(a.status,a.reason),i.push({speciesName:t[o].name,mapName:s[o].name,mapKey:s[o].key,regionData:n,allGenes:c}),console.debug(`Syntenic regions found for mapKey '${s[o].key}', threshold: '${e.threshold}': ${n.length}`)}),i}catch(a){console.error(a)}}}var de=a("285d");class he{constructor(e){var t,a,s,o,i,n;this.sectionStart=0,this.sectionStop=0,this.backboneStart=0,this.backboneStop=0,this.chromosome="",this.trackColor="",this.isHovered=!1,this.isSelected=!1,this.hiddenGenes=[],this.combinedGenes=[],this.altLabels=[],this.showAltLabel=!1,this.isComparativeGene=!1,this.shape="rect",this.svgY=0,this.adjustedHeight=0,this.isInverted=!1,this.isVisible=!0,this._offsetCount=0,this._backboneCutoff=0,this._BPToHeightRatio=0,this._displayBackboneStart=0,this._displayBackboneStop=0,this.sectionStart=e.start,this.sectionStop=e.stop,this.backboneStart=e.backboneStart,this.backboneStop=e.backboneStop,this.chromosome=e.chromosome,this.gene=e.gene,this.trackColor=null!==(t=e.color)&&void 0!==t?t:"",this.hiddenGenes=[...e.hiddenGenes||[]],this.combinedGenes=[...e.hiddenGenes||[]],this.altLabels=e.hiddenGenes?e.hiddenGenes.map(e=>{var t,a;return{rgdId:(null===(t=e.gene)||void 0===t?void 0:t.rgdId)||-1,text:(null===(a=e.gene)||void 0===a?void 0:a.symbol)||""}}):[],this.altLabels.unshift({rgdId:(null===(a=e.gene)||void 0===a?void 0:a.rgdId)||-1,text:(null===(s=e.gene)||void 0===s?void 0:s.symbol)||""}),this.isComparativeGene=e.isComparativeGene,this.shape=e.shape,this._backboneCutoff=e.cutoff,this._offsetCount=null!==(o=e.offsetCount)&&void 0!==o?o:0,this._BPToHeightRatio=e.basePairToHeightRatio,this.chainLevel=e.chainLevel,this.isInverted=null!==(i=e.isInverted)&&void 0!==i&&i,this.isVisible=null===(n=e.isVisible)||void 0===n||n,this.blockId=e.blockId,e.svgY?this.svgY=e.svgY:this.svgY=0,this.calculateDisplayedBPRegionRelativeToBackbone()}get color(){let e;return e=de["a"].getColor(this.chromosome),""==this.trackColor||(e=this.trackColor),e}get startBPLabel(){return this._displayBackboneStart!==this.backboneStart?X["a"].convertBasePairToLabel(this.sectionStart+(this._displayBackboneStart-this.backboneStart)):X["a"].convertBasePairToLabel(this.sectionStart)}get stopBPLabel(){return this._displayBackboneStop!==this.backboneStop?X["a"].convertBasePairToLabel(this.sectionStop-(this.backboneStop-this._displayBackboneStop)):X["a"].convertBasePairToLabel(this.sectionStop)}get regionLabel(){const e=this.isInverted?this.sectionStop:this.sectionStart,t=this.isInverted?this.sectionStart:this.sectionStop;return X["a"].addCommasToBasePair(e)+" - "+X["a"].addCommasToBasePair(t)}get geneLabel(){if(this.gene){let e=this.gene.symbol,t="";return this.combinedGenes||this.hiddenGenes?(this.combinedGenes&&this.combinedGenes.length>0?t=`...(${this.combinedGenes.length+1})`:this.hiddenGenes&&this.hiddenGenes.length>0&&(t=`...(${this.hiddenGenes.length})`),t.length>0?(e=t.length>9?e.substring(0,4):e.substring(0,5),e+=t):e.length>9&&(e=e.substring(0,10)+"..."),e):e}}get height(){if(!this.isVisible)return 0;let e=(this._displayBackboneStop-this._displayBackboneStart)/this._BPToHeightRatio;return this.adjustedHeight&&(e=this.adjustedHeight),e}get svgY2(){let e=this.svgY+this.height;return this.adjustedHeight&&(e=this.svgY+this.adjustedHeight),e}get offsetHeight(){return this._offsetCount>=0?this._offsetCount/this._BPToHeightRatio:0}generateBackboneSelection(e,t,a,s){const o=this.svgY+(e-this.sectionStart)/a,i=(t-e)/a,n=new K["b"](new K["a"](o,i,e,t),s);return n.generateInnerSelection(e,t,a),n}calculateDisplayedBPRegionRelativeToBackbone(){this._displayBackboneStop=this.backboneStop>this._backboneCutoff?this._backboneCutoff:this.backboneStop,this._displayBackboneStart=this._offsetCount>=0?this.backboneStart:this.backboneStart-this._offsetCount,this._displayBackboneStop<this._displayBackboneStart&&this.backboneStop>this._displayBackboneStart&&(this._displayBackboneStop=this.backboneStop)}}const ge=5,pe=10;function ue(e,t,a,s,o,i=S["a"].panelTitleHeight){const n=e.name,c=t.chromosome,l=new he({start:a,stop:s,backboneStart:a,backboneStop:s,chromosome:c,cutoff:s,basePairToHeightRatio:o,shape:"rect"});return new oe({speciesName:n,sections:[l],startingSVGY:i,mapName:e.activeMap.name,type:"backbone"})}async function ve(e,t,a,s,o,i,n,c,l){const r=c?await be.getSyntenicRegions({backboneChromosome:t,start:a,stop:s,threshold:i,includeGenes:1},e):await be.getSyntenicRegions({backboneChromosome:t,start:a,stop:s,threshold:i},e),b=[];return null===r||void 0===r||r.forEach(e=>{const t=me(e,a,s,o,i,n,l,c),r=t.speciesTrack,d=t.geneTrack,h=t.geneMap;h.size>0&&(e.allGenesMap=h);const g=new ie("Genes",d.name+" Detailed Genes",d,"red");g.setIsComparativeView(!0),g.isDisplayed=!0;const p=new Pe(r,[g]);b.push(p)}),{tracks:b,speciesSyntenyDataArray:r}}function me(e,t,a,s,o,i,n,c){console.debug(`-- Building synteny track for species: ${e.speciesName} / ${e.mapName} --`);const l=je(e,t,a,s,o),r=new oe({speciesName:e.speciesName,speciesMap:e.mapKey,sections:l.tracks,mapName:e.mapName,isSyntenyTrack:!0,startingSVGY:i,rawSyntenyData:e,type:"comparative"}),b=new oe({speciesName:e.speciesName,sections:l.genes,mapName:e.mapName,startingSVGY:i,rawGeneData:[],type:"gene"}),d=l.geneMap;return{speciesTrack:r,geneTrack:b,geneMap:d}}async function Se(e,t,a,s){const o=await ne["a"].getGenesByRegion(t.chromosome,a,s,e.defaultMapKey,e.name);return o}function Oe(e,t,a,s,o,i,n,c,l){const r=[];let b=[];const d=n*ge;for(let p=0;p<e.length;p++){const t=e[p];let i=!0;(t.stop<a||t.start>s)&&(i=!1);const n=t.stop-t.start,l=(t.start-a)/o,h=l+c;if(n<d){const e=new he({start:t.start,stop:t.stop,backboneStart:t.start,backboneStop:t.stop,chromosome:t.chromosome,cutoff:s,basePairToHeightRatio:o,shape:"rect",gene:t,isVisible:i});b.push(e)}else{const e=new he({start:t.start,stop:t.stop,backboneStart:t.start,backboneStop:t.stop,chromosome:t.chromosome,cutoff:s,svgY:h,basePairToHeightRatio:o,color:"#00000",shape:"rect",gene:t,isVisible:i,hiddenGenes:b.length>0?b:[]});b=[],r.push(e)}}let h;const g=new oe({speciesName:t,sections:r,startingSVGY:c,rawGeneData:e,type:"gene"});return i?(h=new ie("Genes",t+" Detailed Genes",g,"red"),h.setIsComparativeView(!0),h.isDisplayed=!0):(h=new ie("Genes",t+" Overview Genes",g,"red"),h.isDisplayed=!0),h}function je(e,t,a,s,o){const i=e.regionData;console.debug("LEVEL 1");const n=ye(e,i.filter(e=>1===e.block.chainLevel),t,a,s,o);console.debug("LEVEL 2");const c=ye(e,i.filter(e=>2===e.block.chainLevel),t,a,s,o),l=n.tracks.concat(c.tracks),r=n.geneSections.concat(c.geneSections),b=n.gapless.concat(c.gapless),d=n.geneMap;return{tracks:l,genes:r,gapless:b,geneMap:d}}function ye(e,t,a,s,o,i){const n=[],c=new Map,l=[];let r=a,b=a;const d=t.filter(e=>e.block.backboneStop>a&&e.block.backboneStart<s);let h=1,g=[];d.forEach(t=>{const d=h,p=t.block;if(p.backboneStop<=a||p.backboneStart>=s)return;console.debug("Filtering out gaps with threshold: "+i*pe);const u=t.gaps.filter(e=>e.length>=i*pe&&e.chainLevel===p.chainLevel&&e.backboneStop>a&&e.backboneStart<s),v="-"===p.orientation,m=fe(p,a,s,v),O=m[0],j=m[1],y=t.genes,f=new he({start:p.start,stop:p.stop,backboneStart:p.backboneStart,backboneStop:p.backboneStop,chromosome:p.chromosome,cutoff:s,offsetCount:p.backboneStart-b,basePairToHeightRatio:o,shape:"rect",chainLevel:p.chainLevel,isInverted:v,blockId:h});if(b=p.backboneStop,l.push(f),c.set(h,{genes:y,sections:[],start:O,stop:j}),h++,0===u.length){const e=new he({start:O,stop:j,backboneStart:p.backboneStart,backboneStop:p.backboneStop,chromosome:p.chromosome,cutoff:s,offsetCount:p.backboneStart-r,basePairToHeightRatio:o,shape:"rect",chainLevel:p.chainLevel,isInverted:v,blockId:d});return n.push(e),g.push(e),void(r=p.backboneStop)}u.forEach((e,t)=>{const i=v?e.stop:e.start,c=v?e.start:e.stop;if(0===t&&e.backboneStart<=a){const t=new he({start:i,stop:c,backboneStart:e.backboneStart,backboneStop:e.backboneStop,chromosome:e.chromosome,cutoff:s,offsetCount:e.backboneStart-r,basePairToHeightRatio:o,shape:"line",chainLevel:p.chainLevel,isInverted:v});n.push(t),g.push(t)}else if(0===t){const t=new he({start:O,stop:i,backboneStart:p.backboneStart,backboneStop:e.backboneStart,chromosome:p.chromosome,cutoff:s,offsetCount:p.backboneStart-r,basePairToHeightRatio:o,shape:"rect",chainLevel:p.chainLevel,isInverted:v});n.push(t),g.push(t);const a=new he({start:i,stop:c,backboneStart:e.backboneStart,backboneStop:e.backboneStop,chromosome:e.chromosome,cutoff:s,basePairToHeightRatio:o,shape:"line",chainLevel:p.chainLevel,isInverted:v});n.push(a),g.push(a)}else{const a=u[t-1],l=new he({start:v?a.start:a.stop,stop:i,backboneStart:a.backboneStop,backboneStop:e.backboneStart,chromosome:p.chromosome,cutoff:s,basePairToHeightRatio:o,shape:"rect",chainLevel:p.chainLevel,isInverted:v});n.push(l),g.push(l);const r=new he({start:i,stop:c,backboneStart:e.backboneStart,backboneStop:e.backboneStop,chromosome:e.chromosome,cutoff:s,basePairToHeightRatio:o,shape:"line",chainLevel:p.chainLevel,isInverted:v});n.push(r),g.push(r)}});const k=u[u.length-1];if(k.backboneStop<s&&k.stop<p.stop){const e=new he({start:v?k.start:k.stop,stop:j,backboneStart:k.backboneStop,backboneStop:p.backboneStop,chromosome:p.chromosome,cutoff:s,basePairToHeightRatio:o,shape:"rect",chainLevel:p.chainLevel,isInverted:v});n.push(e),g.push(e)}else console.debug("Block section thrown out due to extending past displayed backbone region");const w=c.get(d),P=new oe({speciesName:e.speciesName,speciesMap:e.mapKey,sections:g,mapName:e.mapName,isSyntenyTrack:!0,startingSVGY:S["a"].panelTitleHeight,rawSyntenyData:e,type:"comparative"});w.sections=P.sections,g=[],r=p.backboneStop});const p=new oe({speciesName:e.speciesName,speciesMap:e.mapKey,sections:l,mapName:e.mapName,isSyntenyTrack:!0,startingSVGY:S["a"].panelTitleHeight,rawSyntenyData:e,type:"comparative"}),u=i*ge,v=ke(p.sections,u,c,e),m=v.geneSections,O=v.geneMap;return console.debug(`Regions split into ${n.length} sections`,n),we(n),{tracks:n,geneSections:m,gapless:l,geneMap:O}}function fe(e,t,a,s){const o=s?e.stop:e.start,i=s?e.start:e.stop,n=e.backboneStart,c=e.backboneStop;let l=o,r=i;const b=c-n,d=Math.abs(i-o),h=t-n,g=c-a;if(h>0){const e=h/b;l=s?o-d*e:d*e+o}if(g>0){const e=g/b;r=s?i+d*e:i-d*e}return[l,r]}function ke(e,t,a,s){const o=[];let i=[];const n=new Map,c=s.speciesName.toLowerCase(),l=s.allGenes;return l&&l.forEach(e=>{if(!e.symbol)return;const t=e.symbol.toLowerCase(),a={gene:e,drawn:[],visible:[]},s={[c]:a};n.set(t,s)}),e.forEach(e=>{if(null===e||void 0===e||!e.blockId)return;const s=a.get(null===e||void 0===e?void 0:e.blockId);if((!e.chainLevel||2!=e.chainLevel)&&s){const a=s.genes,l=s.sections,r=s.start,b=s.stop;l.sort((e,t)=>e.svgY-t.svgY);let d=b,h=r;const g=e.svgY;e.isInverted&&(h=b,d=r);const p=(d-h)/e.height;a.forEach(a=>{const s=a.stop-a.start,l=a.start,r=a.stop;let b=0;b=e.isInverted?(d-r)/p:(l-h)/p;const u=g+b,v=a.symbol.toLowerCase(),m=n.get(v);if(m?m[c]["drawn"].push({svgY:u,sectionStart:a.start,sectionStop:a.stop,backboneStart:l,backboneStop:r}):n.set(v,{[c]:{gene:a,drawn:[{svgY:u,backboneStart:l,backboneStop:r}]}}),s<t){const e=new he({start:a.start,stop:a.stop,backboneStart:l,backboneStop:r,chromosome:a.chromosome,cutoff:r,basePairToHeightRatio:p,isComparativeGene:!0,shape:"rect",gene:a});i.push(e)}else{const e=new he({start:l,stop:r,backboneStart:l,backboneStop:r,chromosome:a.chromosome,cutoff:r,basePairToHeightRatio:p,isComparativeGene:!0,svgY:u,color:"#00000",shape:"rect",gene:a,hiddenGenes:i.length>0?i:[]});i=[],o.push(e)}})}}),{geneSections:o,geneMap:n}}function we(e){e.forEach((e,t)=>{e.svgY<55||e.svgY>425||e.height<0&&console.warn("Negative height",t,e)})}class Pe{constructor(e,t){this.speciesTrack=e,this.svgY=this.speciesTrack.startingSVGY,this.dataTracks=t}getVisibleRegion(e,t,a,s,o){let i;const n=[];let c=null;if("backbone"===this.speciesTrack.type){var l;const c=new he({start:e,stop:t,backboneStart:e,backboneStop:t,chromosome:null===(l=this.speciesTrack.sections[0])||void 0===l?void 0:l.chromosome,cutoff:t,basePairToHeightRatio:a,shape:"rect"});i=new oe({speciesName:this.speciesTrack.name,sections:[c],startingSVGY:this.svgY,mapName:this.speciesTrack.mapName,type:"backbone"}),this.dataTracks.length&&this.dataTracks.forEach(i=>{if(i.track.rawGeneData){const c=Oe(i.track.rawGeneData,i.track.name,e,t,a,!0,s,this.svgY,o);n.push(c)}})}else if("comparative"===this.speciesTrack.type&&this.speciesTrack.rawSyntenyData){const l=me(this.speciesTrack.rawSyntenyData,e,t,a,s,this.svgY,o,!0);if(i=l.speciesTrack,this.dataTracks.length){const e=l.geneTrack,t=new ie("Genes",e.name+" Detailed Genes",e,"red");t.setIsComparativeView(!0),t.isDisplayed=!0,n.push(t)}c=l.geneMap}if(!i)return;const r=new Pe(i,n);return{visibleRegionTrackSet:r,geneMap:c}}}class Me{constructor(e){this.isSelected=!1,this.backboneGeneY=e.backboneY,this.comparativeGeneX=e.comparativeX,this.comparativeGeneY=e.comparativeY,this.backboneGene=e.backboneGene,this.comparativeGene=e.comparativeGene}}function Be(e){let t,a=!1;const o=Object(s["D"])(),i=Object(s["D"])();let n;Object(s["w"])(()=>{n=document.querySelector("svg")});const c=s=>{if(e.state.isOverviewPanelUpdating||e.state.isDetailedPanelUpdating)return;const i=e.state.selectedBackboneRegion;i.innerSelection?(a=!0,t=q(n,s),o.value=t.y):console.warn("Cannot zoom on the detailed panel without a selection in the overview")},l=e=>{if(!a)return;const s=q(n,e);s.y<t.y?(o.value=s.y,i.value=t.y):i.value=s.y},r=()=>{if(!a)return;a=!1;const t=e.state.selectedBackboneRegion;if(null!=o.value&&null!=i.value&&null!=t.innerSelection){const a=Math.floor((o.value-S["a"].panelTitleHeight)*e.state.detailedBasePairToHeightRatio),s=a+t.innerSelection.basePairStart,n=Math.floor((i.value-S["a"].panelTitleHeight)*e.state.detailedBasePairToHeightRatio),c=n+t.innerSelection.basePairStart;e.dispatch("setDetailedBasePairRange",{start:s,stop:c})}o.value=void 0,i.value=void 0};return{startDetailedSelectionY:o,stopDetailedSelectionY:i,initZoomSelection:c,updateZoomSelection:l,completeZoomSelection:r}}const Te=new Error("Cannot render the overview panel without valid species, chromosome, and start/stop for the backbone"),Ge=new Error("Cannot render the detailed panel without valid species and chromosome for the backbone"),Le=new Error("Region length must be greater than zero"),xe=new Error("Cannot load synteny without any comparative species maps selected");function Re(e){let t,a=!1;const o=Object(s["D"])(),i=Object(s["D"])();let n;Object(s["w"])(()=>{n=document.querySelector("svg")});const c=s=>{e.state.isOverviewPanelUpdating||e.state.isDetailedPanelUpdating||(a=!0,t=q(n,s),o.value=t.y)},l=e=>{if(!a)return;const s=q(n,e);s.y<t.y?(o.value=s.y,i.value=t.y):i.value=s.y},r=t=>{var s;if(!a||0===t.length)return;a=!1;const n=t.filter(e=>"backbone"===e.speciesTrack.type);if(0===n.length)return;const c=null!==(s=n[0].speciesTrack.sections[0])&&void 0!==s?s:null;if(null!=o.value&&null!=i.value&&null!=c){var l;const t=Math.floor((o.value-c.svgY)*e.state.overviewBasePairToHeightRatio);let a=t+c.sectionStart;const s=Math.floor((i.value-c.svgY)*e.state.overviewBasePairToHeightRatio);let n=s+c.sectionStart,r=o.value;a<c.sectionStart&&(a=c.sectionStart,r=c.svgY);let b=i.value;n>c.sectionStop&&(n=c.sectionStop,b=c.svgY2);const d=new K["b"](new K["a"](r,b-r,a,n),null!==(l=e.state.chromosome)&&void 0!==l?l:void 0);d.generateInnerSelection(a,n,e.state.overviewBasePairToHeightRatio),e.dispatch("setBackboneSelection",d)}o.value=void 0,i.value=void 0};return{startOverviewSelectionY:o,stopOverviewSelectionY:i,initOverviewSelection:c,updateOverviewSelection:l,completeOverviewSelection:r}}Object(s["B"])("data-v-5cb6aa6e");const Ce=["viewBox"],De=["height"],Ye=["width","height"],He=["x","width","height"],Ie=["width","height"],Ee=["x","width","height"],Ne=["x","y"],Ke=["x","y"],_e=["x","y"],Ve=["x","y"],qe=["x","y"],Xe=["x","y"],$e=["x","y","width","height"],Ue=["x","y","width","height"],Ae=["x","y"],We=["x","y"],ze=["x","y","width","height"],Fe=["y","width","height"];Object(s["z"])();var Qe=Object(s["m"])({setup(e){const t=Object(u["b"])(O["b"]),{showDialog:a,dialogHeader:o,dialogMessage:i,onError:n,checkSyntenyResultsOnComparativeSpecies:c}=V(),{startDetailedSelectionY:l,stopDetailedSelectionY:r,initZoomSelection:b,updateZoomSelection:d,completeZoomSelection:g}=Be(t),{startOverviewSelectionY:m,stopOverviewSelectionY:y,initOverviewSelection:f,updateOverviewSelection:k,completeOverviewSelection:w}=Re(t),P=Object(s["D"])([]),M=Object(s["D"])([]);let B=[],T=[],G=!1;async function L(e,a){try{t.dispatch(e,!0),await a()}catch(s){n(s,"An error occurred while updating the overview panel")}finally{t.dispatch(e,!1)}}Object(s["w"])(async()=>{const e=t.state.gene;if(e){let a=new v(e,"Gene");t.dispatch("setSelectedData",[a])}else t.dispatch("setSelectedData",null);await L("setIsOverviewPanelUpdating",R),c(B)}),Object(s["P"])(()=>t.state.detailedBasePairRange,()=>{L("setIsDetailedPanelUpdating",C)});const x=Object(s["d"])(()=>t.state.isOverviewPanelUpdating||t.state.isDetailedPanelUpdating),R=async()=>{const e=Date.now(),a=t.state.species,s=t.state.chromosome,o=t.state.startPos,i=t.state.stopPos,c=t.state.configTab;if(null==a||null==s||null==o||null==i)return n(Te,Te.message),void(P.value=[]);if(i-o<=0)return n(Le,Le.message),void(P.value=[]);P.value=[],t.dispatch("setOverviewResolution",s.seqLength);let l=ue(a,s,0,s.seqLength,t.state.overviewBasePairToHeightRatio,S["a"].overviewTrackYPosition);const r=new Pe(l,[]);if(P.value.push(r),0===t.state.comparativeSpecies.length)return void n(xe,xe.message);let b=await ve(t.state.comparativeSpecies,s,0,s.seqLength,t.state.overviewBasePairToHeightRatio,t.state.overviewSyntenyThreshold,S["a"].overviewTrackYPosition,!1,t.state.selectedBackboneRegion);B=b.tracks;for(let t=0;t<B.length;t++){const e=B[t];P.value.push(e)}const d=t.state.selectedBackboneRegion;if(l.sections.length>0&&0===d.baseSelection.svgHeight)if(0===c){const e=l.sections[0].generateBackboneSelection(0,s.seqLength,t.state.overviewBasePairToHeightRatio,s);t.dispatch("setBackboneSelection",e)}else{const e=l.sections[0].generateBackboneSelection(o,i,t.state.overviewBasePairToHeightRatio,s);t.dispatch("setBackboneSelection",e)}else{const e=new K["b"](new K["a"](d.baseSelection.svgYPoint,d.baseSelection.svgHeight,d.baseSelection.basePairStart,d.baseSelection.basePairStop),d.chromosome);d.innerSelection?e.generateInnerSelection(d.innerSelection.basePairStart,d.innerSelection.basePairStop,t.state.overviewBasePairToHeightRatio):e.generateInnerSelection(d.baseSelection.basePairStart,d.baseSelection.basePairStop,t.state.overviewBasePairToHeightRatio),t.dispatch("setBackboneSelection",e)}console.log(`Update overview time: ${Date.now()-e} ms`)},C=async()=>{var e;const a=Date.now();t.dispatch("setIsDetailedPanelUpdating",!0);const s=t.state.species,o=t.state.chromosome,i=t.state.configTab,c=t.state.selectedBackboneRegion,l=t.state.detailedBasePairRange;if(l.stop-l.start<=0)return T=[],void(M.value=[]);if(null==s||null==o)return n(Ge,Ge.message),T=[],void(M.value=[]);M.value=[],T=[];const r=c.generateInnerSelection(l.start,l.stop,t.state.overviewBasePairToHeightRatio);t.dispatch("setDetailsResolution",r.basePairStop-r.basePairStart);const b=ue(s,o,c.baseSelection.basePairStart,c.baseSelection.basePairStop,t.state.detailedBasePairToHeightRatio);let d=null!==(e=await Se(s,o,c.baseSelection.basePairStart,c.baseSelection.basePairStop))&&void 0!==e?e:null;d.forEach(e=>e.speciesName=s.name);let h=Oe(d,s.name,c.baseSelection.basePairStart,c.baseSelection.basePairStop,t.state.detailedBasePairToHeightRatio,!0,t.state.detailsSyntenyThreshold,S["a"].panelTitleHeight,t.state.selectedBackboneRegion);if(null!=b&&null!=h){if(T.push(new Pe(b,[h])),0===t.state.comparativeSpecies.length)return void n(xe,xe.message);let e=await ve(t.state.comparativeSpecies,o,c.baseSelection.basePairStart,c.baseSelection.basePairStop,t.state.detailedBasePairToHeightRatio,t.state.detailsSyntenyThreshold,S["a"].panelTitleHeight,!0,t.state.selectedBackboneRegion),a=e.tracks,l=(null===e||void 0===e?void 0:e.speciesSyntenyDataArray)||[],u=new Map;if(l.forEach(e=>{let t=e.speciesName.toLowerCase();0==u.size&&e.allGenesMap?u=new Map(e.allGenesMap):e.allGenesMap&&e.allGenesMap.forEach((a,s)=>{if(u.has(s)){let a=u.get(s),o=e.allGenesMap.get(s);a[t]=o[t]}else u.set(s,a)})}),d.forEach(e=>{var t;let a=null===(t=e.speciesName)||void 0===t?void 0:t.toLowerCase();const s=e.symbol.toLowerCase(),o={gene:e,drawn:[]},i={[a]:o};let n=u.get(s);n?n[a]=o:u.set(s,i)}),t.dispatch("setLoadedGenes",u),0==i&&t.state.selectedGeneIds.length>0&&!G){var g,p;const e=t.state.loadedGenes,a=t.state.gene,s=a.symbol.toLowerCase(),i=a.speciesName.toLowerCase(),n=(t.state.loadStart,t.state.loadStop,e.get(s));let l=[];for(let[t,o]of Object.entries(n))o.gene.speciesName.toLowerCase()!==i&&(o.visible.length>0?l=l.concat(o.visible):o.drawn.length>0&&(l=l.concat(o.drawn)));const r=(null===(g=c.innerSelection)||void 0===g?void 0:g.basePairStart)||c.baseSelection.basePairStart,d=((null===(p=c.innerSelection)||void 0===p?void 0:p.basePairStop)||c.baseSelection.basePairStop,a.stop-a.start),h=Math.max(Math.floor(a.start-3*d),c.baseSelection.basePairStart),u=Math.min(Math.floor(a.stop+3*d),c.baseSelection.basePairStop);if(l.length>0){l.sort((e,t)=>e.svgY-t.svgY);const e=l[0],a=l[l.length-1],s=e.sectionStop-e.sectionStart,o=a.sectionStop-a.sectionStart,i=Math.floor((e.svgY-S["a"].panelTitleHeight)*t.state.detailedBasePairToHeightRatio),n=Math.max(i+r-5*s,c.baseSelection.basePairStart),b=Math.floor((a.svgY-S["a"].panelTitleHeight)*t.state.detailedBasePairToHeightRatio),d=Math.min(b+r+5*o,c.baseSelection.basePairStop);return h>n&&u<d?t.dispatch("setDetailedBasePairRange",{start:n,stop:d}):h<n?u>d?t.dispatch("setDetailedBasePairRange",{start:h,stop:u}):t.dispatch("setDetailedBasePairRange",{start:h,stop:d}):u>d&&(h<n?t.dispatch("setDetailedBasePairRange",{start:h,stop:u}):t.dispatch("setDetailedBasePairRange",{start:n,stop:u})),void(G=!0)}{const e=b.sections[0].generateBackboneSelection(h,u,t.state.detailedBasePairToHeightRatio,o);return t.dispatch("clearBackboneSelection"),t.dispatch("setBackboneSelection",e),void(G=!0)}}const v=[],m=[];for(let t=0;t<a.length;t++){let e=a[t];T.push(e),e.speciesTrack.speciesMap&&(v.push(e.speciesTrack.speciesMap),m.push(e.speciesTrack.name))}const O=await ne["a"].getGeneOrthologs(s.defaultMapKey,o.chromosome,c.baseSelection.basePairStart,c.baseSelection.basePairStop,v),j=[];T.forEach(e=>{const a=e.getVisibleRegion(r.basePairStart,r.basePairStop,t.state.detailedBasePairToHeightRatio,t.state.detailsSyntenyThreshold,t.state.selectedBackboneRegion);a&&(a.visibleRegionTrackSet&&M.value.push(a.visibleRegionTrackSet),a.geneMap&&j.push(a.geneMap))}),j.length>0&&H(j,u,m),O&&(t.dispatch("setBackboneOrthologData",O),D(O,v))}else T=[],M.value=[];t.dispatch("setIsDetailedPanelUpdating",!1),console.log(`Update detailed time: ${Date.now()-a} ms`)},D=(e,a)=>{let s=[],o=[],i=M.value[0].dataTracks[0].track.sections;i.forEach(a=>{let s=e.get(a.gene.symbol);const i=t.state.comparativeSpecies,n=new Map;if(i.forEach(e=>n.set(e.activeMap.key,e.name)),s&&(o.push({backboneGene:a,orthologs:s}),t.state.selectedGeneIds.includes(a.gene.rgdId))){const e=t.state.selectedGeneIds,a=t.state.selectedData,o=Object.keys(s);o.forEach(t=>{const o=new j["a"]({...s[t][0],key:s[t][0].mapKey,speciesName:n.get(s[t][0].mapKey)});e.includes(o.rgdId)||(e.push(o.rgdId),a.push(new v(o,"Gene")))}),t.dispatch("setSelectedGeneIds",e),t.dispatch("setSelectedData",a)}});let n={};a.forEach(e=>{n[e]=[]}),M.value.forEach((e,t)=>{const a=e.speciesTrack.speciesMap;if(a&&n[a]){const s=e.dataTracks[0].track.sections,o=new Map,i=E(t,"datatrack",1)+S["a"].selectedBackboneXPosition;s.forEach(e=>{let t=o.get(e.gene.symbol);!e.isVisible&&e.height<0||(t?t.duplicates.push({section:e,xPos:i}):o.set(e.gene.symbol,{section:e,xPos:i,duplicates:[]}))}),n[a]=o}}),o.forEach(e=>{const t=e.orthologs,a=e.backboneGene;Object.entries(t).forEach(e=>{const t=e[1],o=e[0];if(t.length>1)t.forEach(e=>{const t=e.geneSymbol,i=n[o].get(t);if(i){const e=Y(a,i);s.push(e),i.duplicates.length>0&&i.duplicates.forEach(e=>{const t=Y(a,e);s.push(t)})}});else if(n[o]){const e=t[0].geneSymbol,i=n[o].get(e);if(i){const e=Y(a,i);s.push(e),i.duplicates.length>0&&i.duplicates.forEach(e=>{const t=Y(a,e);s.push(t)})}}})}),M.value[0].dataTracks[0].orthologLines.length>0?(M.value[0].dataTracks[0].orthologLines=[],M.value[0].dataTracks[0].setOrthologLines(s)):M.value[0].dataTracks[0].setOrthologLines(s)},Y=(e,t)=>{let a=new Me({backboneY:e.svgY+e.height/2,backboneGene:e,comparativeY:t.section.svgY+t.section.height/2,comparativeX:t.xPos,comparativeGene:t.section});return a},H=(e,a,s)=>{let o=new Map;s.forEach(t=>{const a=t.toLowerCase();e.forEach(e=>{0!=o.size?e.forEach((t,s)=>{if(o.has(s)){let t=o.get(s),i=e.get(s);!t[a]&&i[a]&&(t[a]=i[a])}else o.set(s,t)}):o=new Map(e)})}),s.forEach(e=>{const t=e.toLowerCase();o.forEach((e,s)=>{if(a.has(s)){let o=a.get(s),i=e;i[t]&&i[t].drawn.length>0&&(o[t].visible=i[t].drawn)}else a.set(s,e)})}),t.dispatch("setLoadedGenes",a)},I=e=>{let t=e,a=0;return a=0==t?0:-80*t,a},E=(e,t,a)=>{let s=e,o=0;return o="datatrack"==t&&null!=a?0==s?30:120*s+30*a:120*s,o},q=()=>{if($.value)return;const e=t.state.selectedBackboneRegion;e.moveInnerSelectionUp(t.state.overviewBasePairToHeightRatio),M.value=[];const a=[];if(T.forEach(s=>{if(!e.innerSelection)return;const o=s.getVisibleRegion(e.innerSelection.basePairStart,e.innerSelection.basePairStop,t.state.detailedBasePairToHeightRatio,t.state.detailsSyntenyThreshold,t.state.selectedBackboneRegion);o&&(o.visibleRegionTrackSet&&M.value.push(o.visibleRegionTrackSet),o.geneMap&&a.push(o.geneMap))}),a.length>0){let e=t.state.comparativeSpecies;const s=[],o=t.state.loadedGenes;e.forEach(e=>{s.push(e.name.toLowerCase())}),H(a,o,s)}if(e.orthologData){let a=t.state.comparativeSpecies;const s=[];a.forEach(e=>{s.push(e.activeMap.key)}),D(e.orthologData,s)}},X=()=>{if(U.value)return;const e=t.state.selectedBackboneRegion;e.moveInnerSelectionDown(t.state.overviewBasePairToHeightRatio),M.value=[];const a=[];if(T.forEach(s=>{if(!e.innerSelection)return;const o=s.getVisibleRegion(e.innerSelection.basePairStart,e.innerSelection.basePairStop,t.state.detailedBasePairToHeightRatio,t.state.detailsSyntenyThreshold,t.state.selectedBackboneRegion);o&&(o.visibleRegionTrackSet&&M.value.push(o.visibleRegionTrackSet),o.geneMap&&a.push(o.geneMap))}),a.length>0){let e=t.state.comparativeSpecies;const s=[],o=t.state.loadedGenes;e.forEach(e=>{s.push(e.name.toLowerCase())}),H(a,o,s)}if(e.orthologData){const a=t.state.comparativeSpecies,s=[];a.forEach(e=>{s.push(e.activeMap.key)}),D(e.orthologData,s)}},$=Object(s["d"])(()=>{if(x.value)return!0;const e=t.state.selectedBackboneRegion;return e.zoomLevel<=1||!!e.innerSelection&&e.baseSelection.basePairStart>=e.innerSelection.basePairStart}),U=Object(s["d"])(()=>{if(x.value)return!0;const e=t.state.selectedBackboneRegion;return e.zoomLevel<=1||!!e.innerSelection&&e.baseSelection.basePairStop<=e.innerSelection.basePairStop});return(e,t)=>{const n=Object(s["G"])("ProgressBar");return Object(s["y"])(),Object(s["h"])(s["a"],null,[Object(s["l"])(n,{class:"vcmap-loader",mode:Object(s["M"])(x)?"indeterminate":"determinate",value:0,showValue:!1},null,8,["mode"]),(Object(s["y"])(),Object(s["h"])("svg",{viewBox:"0 0 800 "+Object(s["M"])(S["a"]).viewboxHeight,xmlns:"http://www.w3.org/2000/svg",id:"svg-wrapper",width:"100%"},[Object(s["i"])("rect",{class:"panel",x:"0",width:"800",height:Object(s["M"])(S["a"]).viewboxHeight},null,8,De),Object(s["i"])("rect",{class:Object(s["t"])(["panel selectable",{"is-loading":Object(s["M"])(x)}]),x:"0",onMousedown:t[0]||(t[0]=Object(s["S"])((...e)=>Object(s["M"])(f)&&Object(s["M"])(f)(...e),["left"])),onMousemove:t[1]||(t[1]=(...e)=>Object(s["M"])(k)&&Object(s["M"])(k)(...e)),onMouseup:t[2]||(t[2]=Object(s["S"])(e=>Object(s["M"])(w)(P.value),["left"])),width:Object(s["M"])(S["a"]).overviewPanelWidth,height:Object(s["M"])(S["a"]).viewboxHeight},null,42,Ye),Object(s["i"])("rect",{class:Object(s["t"])(["panel selectable",{"is-loading":Object(s["M"])(x)}]),onMousedown:t[3]||(t[3]=Object(s["S"])((...e)=>Object(s["M"])(b)&&Object(s["M"])(b)(...e),["left"])),onMousemove:t[4]||(t[4]=(...e)=>Object(s["M"])(d)&&Object(s["M"])(d)(...e)),onMouseup:t[5]||(t[5]=Object(s["S"])((...e)=>Object(s["M"])(g)&&Object(s["M"])(g)(...e),["left"])),x:Object(s["M"])(S["a"]).overviewPanelWidth,width:Object(s["M"])(S["a"]).detailsPanelWidth,height:Object(s["M"])(S["a"]).viewboxHeight},null,42,He),Object(s["i"])("rect",{class:"panel",x:"0",width:Object(s["M"])(S["a"]).overviewPanelWidth,height:Object(s["M"])(S["a"]).panelTitleHeight},null,8,Ie),Object(s["i"])("rect",{class:"panel",x:Object(s["M"])(S["a"]).overviewPanelWidth,width:Object(s["M"])(S["a"]).detailsPanelWidth,height:Object(s["M"])(S["a"]).panelTitleHeight},null,8,Ee),Object(s["i"])("text",{class:"label medium bold",x:Object(s["M"])(S["a"]).overviewTitleXPosition,y:Object(s["M"])(S["a"]).panelTitleYPosition},"Overview",8,Ne),(Object(s["y"])(!0),Object(s["h"])(s["a"],null,Object(s["E"])(P.value,(e,t)=>(Object(s["y"])(),Object(s["h"])(s["a"],{key:e},[0!=t?(Object(s["y"])(),Object(s["f"])(N,{key:0,"show-chromosome":"","show-synteny-on-hover":"","show-start-stop":"","pos-x":I(t)+Object(s["M"])(S["a"]).backboneXPosition,width:Object(s["M"])(S["a"]).trackWidth,track:e.speciesTrack},null,8,["pos-x","width","track"])):(Object(s["y"])(),Object(s["f"])(se,{key:1,"show-data-on-hover":"","pos-x":I(t)+Object(s["M"])(S["a"]).backboneXPosition,track:e.speciesTrack},null,8,["pos-x","track"])),Object(s["i"])("text",{class:"label small",x:I(t)+Object(s["M"])(S["a"]).backboneXPosition,y:Object(s["M"])(S["a"]).trackLabelYPosition},Object(s["K"])(e.speciesTrack.name),9,Ke),Object(s["i"])("text",{class:"label small",x:I(t)+Object(s["M"])(S["a"]).backboneXPosition,y:Object(s["M"])(S["a"]).trackMapLabelYPosition},Object(s["K"])(e.speciesTrack.mapName),9,_e)],64))),128)),(Object(s["y"])(!0),Object(s["h"])(s["a"],null,Object(s["E"])(M.value,(e,t)=>(Object(s["y"])(),Object(s["h"])(s["a"],{key:e},[0!=t?(Object(s["y"])(),Object(s["f"])(N,{key:0,"show-chromosome":"","pos-x":E(t,"track")+Object(s["M"])(S["a"]).selectedBackboneXPosition,width:Object(s["M"])(S["a"]).trackWidth,track:e.speciesTrack},null,8,["pos-x","width","track"])):(Object(s["y"])(),Object(s["f"])(se,{key:1,"is-detailed":"","show-data-on-hover":"","pos-x":E(t,"track")+Object(s["M"])(S["a"]).selectedBackboneXPosition,track:e.speciesTrack},null,8,["pos-x","track"])),e.dataTracks.length>0?(Object(s["y"])(!0),Object(s["h"])(s["a"],{key:2},Object(s["E"])(e.dataTracks,(e,a)=>{var o;return Object(s["y"])(),Object(s["h"])(s["a"],{key:e.name},[e.isDisplayed?(Object(s["y"])(),Object(s["f"])(N,{key:0,"gene-data-track":"","show-gene-label":"","pos-x":E(t,"datatrack",a+1)+Object(s["M"])(S["a"]).selectedBackboneXPosition,width:Object(s["M"])(S["a"]).dataTrackWidth,lines:null!==(o=e.orthologLines)&&void 0!==o?o:[],track:e.track},null,8,["pos-x","width","lines","track"])):Object(s["g"])("",!0)],64)}),128)):Object(s["g"])("",!0)],64))),128)),(Object(s["y"])(!0),Object(s["h"])(s["a"],null,Object(s["E"])(M.value,(e,t)=>(Object(s["y"])(),Object(s["h"])(s["a"],{key:e},[Object(s["i"])("text",{class:"label small",x:E(t,"track")+Object(s["M"])(S["a"]).selectedBackboneXPosition,y:Object(s["M"])(S["a"]).trackLabelYPosition},Object(s["K"])(e.speciesTrack.name),9,Ve),Object(s["i"])("text",{class:"label small",x:E(t,"track")+Object(s["M"])(S["a"]).selectedBackboneXPosition,y:Object(s["M"])(S["a"]).trackMapLabelYPosition},Object(s["K"])(e.speciesTrack.mapName),9,qe)],64))),128)),Object(s["i"])("text",{class:"label medium bold",x:Object(s["M"])(S["a"]).selectedBackboneXPosition,y:Object(s["M"])(S["a"]).panelTitleYPosition},"Detailed",8,Xe),Object(s["i"])("rect",{class:Object(s["t"])(["navigation-btn",{disabled:Object(s["M"])($)}]),onClick:q,x:Object(s["M"])(S["a"]).overviewPanelWidth,y:Object(s["M"])(S["a"]).panelTitleHeight-Object(s["M"])(S["a"]).navigationButtonHeight,width:Object(s["M"])(S["a"]).detailsPanelWidth,height:Object(s["M"])(S["a"]).navigationButtonHeight},null,10,$e),Object(s["i"])("rect",{class:Object(s["t"])(["navigation-btn",{disabled:Object(s["M"])(U)}]),onClick:X,x:Object(s["M"])(S["a"]).overviewPanelWidth,y:Object(s["M"])(S["a"]).viewboxHeight-Object(s["M"])(S["a"]).navigationButtonHeight,width:Object(s["M"])(S["a"]).detailsPanelWidth,height:Object(s["M"])(S["a"]).navigationButtonHeight},null,10,Ue),Object(s["i"])("image",{class:"nav-btn-img",href:h.a,onClick:q,x:Object(s["M"])(S["a"]).overviewPanelWidth+Object(s["M"])(S["a"]).detailsPanelWidth/2,y:Object(s["M"])(S["a"]).panelTitleHeight-Object(s["M"])(S["a"]).navigationButtonHeight-1,width:"20",height:"20"},null,8,Ae),Object(s["i"])("image",{class:"nav-btn-img",href:p.a,onClick:X,x:Object(s["M"])(S["a"]).overviewPanelWidth+Object(s["M"])(S["a"]).detailsPanelWidth/2,y:Object(s["M"])(S["a"]).viewboxHeight-Object(s["M"])(S["a"]).navigationButtonHeight-1,width:"20",height:"20"},null,8,We),Object(s["M"])(l)&&Object(s["M"])(r)?(Object(s["y"])(),Object(s["h"])("rect",{key:0,onMouseup:t[6]||(t[6]=Object(s["S"])((...e)=>Object(s["M"])(g)&&Object(s["M"])(g)(...e),["left"])),onMousemove:t[7]||(t[7]=(...e)=>Object(s["M"])(d)&&Object(s["M"])(d)(...e)),fill:"lightgray","fill-opacity":"0.4",x:Object(s["M"])(S["a"]).overviewPanelWidth,y:Object(s["M"])(l),width:Object(s["M"])(S["a"]).detailsPanelWidth,height:Object(s["M"])(r)-Object(s["M"])(l)},null,40,ze)):Object(s["g"])("",!0),Object(s["M"])(m)&&Object(s["M"])(y)?(Object(s["y"])(),Object(s["h"])("rect",{key:1,onMouseup:t[8]||(t[8]=Object(s["S"])(e=>Object(s["M"])(w)(P.value),["left"])),onMousemove:t[9]||(t[9]=(...e)=>Object(s["M"])(k)&&Object(s["M"])(k)(...e)),fill:"lightgray","fill-opacity":"0.4",x:0,y:Object(s["M"])(m),width:Object(s["M"])(S["a"]).overviewPanelWidth,height:Object(s["M"])(y)-Object(s["M"])(m)},null,40,Fe)):Object(s["g"])("",!0)],8,Ce)),Object(s["l"])(_["a"],{show:Object(s["M"])(a),"onUpdate:show":t[10]||(t[10]=e=>Object(s["q"])(a)?a.value=e:null),header:Object(s["M"])(o),message:Object(s["M"])(i)},null,8,["show","header","message"])],64)}}});a("ba3e");const Ze=n()(Qe,[["__scopeId","data-v-5cb6aa6e"]]);var Je=Ze,et=a("99ba"),tt=a.n(et);Object(s["B"])("data-v-390543bb");const at={class:"grid unpadded col-4"},st={class:"col-12"},ot=Object(s["i"])("h4",null,"Overview",-1),it={class:"grid unpadded"},nt=Object(s["i"])("div",{class:"col-5"},"Displaying:",-1),ct={class:"col-7 bold","data-test":"backbone-overview-display"},lt=Object(s["i"])("div",{class:"col-5"},"Assembly:",-1),rt={class:"col-7 bold"},bt=Object(s["i"])("div",{class:"col-5"},"Length:",-1),dt={class:"col-7 bold"},ht=Object(s["i"])("div",{class:"col-5"},"Synteny Threshold:",-1),gt={class:"col-7 bold"},pt=Object(s["i"])("div",{class:"col-5"},"Base Selection:",-1),ut={class:"col-7 bold"},vt={class:"grid p-d-flex"},mt={class:"col-6"},St=Object(s["i"])("h4",{class:"config-label"},"Start Position",-1),Ot=Object(s["i"])("p",{class:"label-description"},"Min: 0bp",-1),jt={class:"col-6"},yt=Object(s["i"])("h4",{class:"config-label"},"Stop Position",-1),ft={class:"label-description"},kt={class:"grid p-d-flex"},wt={class:"col-6 left-align-btn"},Pt={class:"col-6"};Object(s["z"])();var Mt=Object(s["m"])({setup(e){const t=Object(u["b"])(O["b"]);let a=Object(s["D"])(!1),o=Object(s["D"])(t.state.selectedBackboneRegion.baseSelection.basePairStart),i=Object(s["D"])(t.state.selectedBackboneRegion.baseSelection.basePairStop);Object(s["d"])(()=>t.state.selectedBackboneRegion.baseSelection.svgHeight<=0||null==t.state.chromosome||t.state.isOverviewPanelUpdating||t.state.isDetailedPanelUpdating);const n=Object(s["d"])(()=>o.value!==i.value),c=Object(s["d"])(()=>{var e,a;return null!==(e=null===(a=t.state.chromosome)||void 0===a?void 0:a.seqLength)&&void 0!==e?e:0}),l=Object(s["d"])(()=>X["a"].addCommasToBasePair(0)),r=Object(s["d"])(()=>t.state.chromosome?X["a"].addCommasToBasePair(t.state.chromosome.seqLength):"-"),b=Object(s["d"])(()=>null==t.state.chromosome?"-":X["a"].addCommasToBasePair(t.state.chromosome.seqLength)),d=Object(s["d"])(()=>{let e=t.state.selectedBackboneRegion;return null==e||e.baseSelection.basePairStop-e.baseSelection.basePairStart<=0?"-":`${X["a"].addCommasToBasePair(e.baseSelection.basePairStart)}bp - ${X["a"].addCommasToBasePair(e.baseSelection.basePairStop)}bp`}),h=()=>{o.value=t.state.selectedBackboneRegion.baseSelection.basePairStart,i.value=t.state.selectedBackboneRegion.baseSelection.basePairStop,a.value=!0},g=()=>{a.value=!1},p=()=>{if(null!=t.state.chromosome){if(n.value){var e;const a=t.state.selectedBackboneRegion;a.adjustBaseSelectionByPosition(o.value,i.value,null===(e=t.state.chromosome)||void 0===e?void 0:e.seqLength,t.state.overviewBasePairToHeightRatio),t.dispatch("setBackboneSelection",a)}a.value=!1}else console.error("Chromosome seq length required when adjusting backbone base selection")};return(e,u)=>{var v,m,S;const O=Object(s["G"])("InputNumber"),j=Object(s["G"])("Button");return Object(s["y"])(),Object(s["h"])(s["a"],null,[Object(s["i"])("div",at,[Object(s["i"])("div",st,[ot,Object(s["i"])("div",it,[nt,Object(s["i"])("div",ct,Object(s["K"])(null===(v=Object(s["M"])(t).state.species)||void 0===v?void 0:v.name)+" chr"+Object(s["K"])(null===(m=Object(s["M"])(t).state.chromosome)||void 0===m?void 0:m.chromosome)+":"+Object(s["K"])(Object(s["M"])(l))+"-"+Object(s["K"])(Object(s["M"])(r)),1),lt,Object(s["i"])("div",rt,Object(s["K"])(null===(S=Object(s["M"])(t).state.species)||void 0===S?void 0:S.activeMap.name),1),bt,Object(s["i"])("div",dt,Object(s["K"])(Object(s["M"])(b))+"bp",1),ht,Object(s["i"])("div",gt,Object(s["K"])(Object(s["M"])(X["a"]).addCommasToBasePair(Object(s["M"])(t).state.overviewSyntenyThreshold))+"bp",1),pt,Object(s["i"])("div",ut,[Object(s["i"])("span",{class:"clickable-range",onClick:h},Object(s["K"])(Object(s["M"])(d)),1)])])])]),Object(s["l"])(_["a"],{show:Object(s["M"])(a),"onUpdate:show":u[2]||(u[2]=e=>Object(s["q"])(a)?a.value=e:a=e),header:"Edit Base Selection Start/Stop Positions"},{content:Object(s["Q"])(()=>[Object(s["i"])("div",vt,[Object(s["i"])("div",mt,[St,Ot,Object(s["l"])(O,{showButtons:"",modelValue:Object(s["M"])(o),"onUpdate:modelValue":u[0]||(u[0]=e=>Object(s["q"])(o)?o.value=e:o=e),suffix:"bp",step:500,max:Object(s["M"])(c)-1,min:0},null,8,["modelValue","max"])]),Object(s["i"])("div",jt,[yt,Object(s["i"])("p",ft,"Max: "+Object(s["K"])(Object(s["M"])(X["a"]).addCommasToBasePair(Object(s["M"])(c)))+"bp",1),Object(s["l"])(O,{showButtons:"",modelValue:Object(s["M"])(i),"onUpdate:modelValue":u[1]||(u[1]=e=>Object(s["q"])(i)?i.value=e:i=e),suffix:"bp",step:500,max:Object(s["M"])(c),min:1},null,8,["modelValue","max"])])])]),footer:Object(s["Q"])(()=>[Object(s["i"])("div",kt,[Object(s["i"])("div",wt,[Object(s["l"])(j,{label:"Cancel",class:"p-button-primary",onClick:g})]),Object(s["i"])("div",Pt,[Object(s["l"])(j,{label:"Confirm New Selection",class:"p-button-success",onClick:p,disabled:!Object(s["M"])(n)||Object(s["M"])(t).state.isOverviewPanelUpdating||Object(s["M"])(t).state.isDetailedPanelUpdating},null,8,["disabled"])])])]),_:1},8,["show"])],64)}}});a("8daf");const Bt=n()(Mt,[["__scopeId","data-v-390543bb"]]);var Tt=Bt;Object(s["B"])("data-v-11011324");const Gt={"data-test":"zoom-level-label"};Object(s["z"])();var Lt=Object(s["m"])({setup(e){const t=500,a=Object(u["b"])(O["b"]),o=Object(s["D"])(1);let i;Object(s["P"])(()=>a.state.isDetailedPanelUpdating,e=>{e||(o.value=a.state.selectedBackboneRegion.zoomLevel)});const n=Object(s["d"])(()=>null==a.state.selectedBackboneRegion.innerSelection),c=e=>{void 0!=i&&clearTimeout(i),a.state.isDetailedPanelUpdating||(i=setTimeout(()=>{l(e)},t))},l=e=>{const t=a.state.selectedBackboneRegion;if(1===e)a.dispatch("setDetailedBasePairRange",{start:t.baseSelection.basePairStart,stop:t.baseSelection.basePairStop});else{let s=t.baseSelection.basePairStart,o=t.baseSelection.basePairStop,i=o-s;t.innerSelection&&(s=t.innerSelection.basePairStart,o=t.innerSelection.basePairStop,i=o-s);const n=(o-s)*(t.zoomLevel/e),c=i-n;c>0?(s+=c/2,o-=c/2):c<0&&(s+=c/2,o-=c/2,s<t.baseSelection.basePairStart?(s=t.baseSelection.basePairStart,o=s-c>t.baseSelection.basePairStop?t.baseSelection.basePairStop:s+n):o>t.baseSelection.basePairStop&&(o=t.baseSelection.basePairStop,s=o+c<t.baseSelection.basePairStart?t.baseSelection.basePairStart:o-n)),a.dispatch("setDetailedBasePairRange",{start:s,stop:o})}};return(e,t)=>{const i=Object(s["G"])("Slider");return Object(s["y"])(),Object(s["h"])(s["a"],null,[Object(s["i"])("span",Gt,Object(s["K"])(o.value)+"x",1),Object(s["l"])(i,{disabled:Object(s["M"])(n)||Object(s["M"])(a).state.isDetailedPanelUpdating,class:"zoom-slider","data-test":"zoom-slider",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),step:1,min:1,max:100,onChange:c},null,8,["disabled","modelValue"])],64)}}});a("6b11");const xt=n()(Lt,[["__scopeId","data-v-11011324"]]);var Rt=xt;const Ct={class:"grid unpadded col-7"},Dt={class:"col-12"},Yt=Object(s["i"])("h4",null,"Details",-1),Ht={class:"grid unpadded"},It=Object(s["i"])("div",{class:"col-3"},"Displaying:",-1),Et={class:"col-9 bold"},Nt=Object(s["i"])("div",{class:"col-3"},"Comparative Species:",-1),Kt={class:"col-9 bold"},_t=Object(s["i"])("div",{class:"col-3"},"Synteny Threshold:",-1),Vt={class:"col-9 bold"},qt=Object(s["i"])("div",{class:"col-3"},"Zoom Level:",-1),Xt={class:"col-9 bold"};var $t=Object(s["m"])({setup(e){const t=Object(u["b"])(O["b"]),a=Object(s["d"])(()=>{const e=t.state.selectedBackboneRegion;return e&&e.innerSelection&&e.innerSelection.svgHeight>0?`${X["a"].addCommasToBasePair(e.innerSelection.basePairStart)}-${X["a"].addCommasToBasePair(e.innerSelection.basePairStop)}`:""}),o=Object(s["d"])(()=>{let e="";return t.state.comparativeSpecies.forEach(t=>{e.length>0&&(e+=", "),e+=`${t.name} (${t.activeMap.name})`}),e});return(e,i)=>{var n,c;return Object(s["y"])(),Object(s["h"])("div",Ct,[Object(s["i"])("div",Dt,[Yt,Object(s["i"])("div",Ht,[It,Object(s["i"])("div",Et,Object(s["K"])(null===(n=Object(s["M"])(t).state.species)||void 0===n?void 0:n.name)+" chr"+Object(s["K"])(null===(c=Object(s["M"])(t).state.chromosome)||void 0===c?void 0:c.chromosome)+":"+Object(s["K"])(Object(s["M"])(a)),1),Nt,Object(s["i"])("div",Kt,Object(s["K"])(Object(s["M"])(o)),1),_t,Object(s["i"])("div",Vt,Object(s["K"])(Object(s["M"])(X["a"]).addCommasToBasePair(Object(s["M"])(t).state.detailsSyntenyThreshold))+"bp",1),qt,Object(s["i"])("div",Xt,[Object(s["l"])(Rt)])])])])}}});const Ut=$t;var At=Ut,Wt=a("f212");Object(s["B"])("data-v-7cf21b18");const zt={class:"grid"},Ft={class:"col-12"},Qt={class:"vcmap-header"},Zt=Object(s["i"])("img",{alt:"VCMap Logo",class:"logo",src:tt.a},null,-1),Jt=Object(s["i"])("h3",{class:"header"},"VCMap",-1),ea={class:"version-label"},ta={class:"grid p-d-flex"};Object(s["z"])();var aa=Object(s["m"])({setup(e){const t=Object(b["c"])(),a=()=>{t.push("/")};return(e,t)=>{const o=Object(s["G"])("Button"),i=Object(s["G"])("Divider"),n=Object(s["G"])("Panel");return Object(s["y"])(),Object(s["h"])("div",zt,[Object(s["i"])("div",Ft,[Object(s["l"])(n,{toggleable:!0,class:"vcmap-panel"},{header:Object(s["Q"])(()=>[Object(s["i"])("div",Qt,[Zt,Jt,Object(s["i"])("span",ea,"v"+Object(s["K"])(Object(s["M"])(Wt["a"])),1)])]),icons:Object(s["Q"])(()=>[Object(s["l"])(o,{label:"New Configuration",class:"p-button-info header-btn",onClick:a,"data-test":"load-config-btn"})]),default:Object(s["Q"])(()=>[Object(s["i"])("div",ta,[Object(s["l"])(Tt),Object(s["l"])(i,{layout:"vertical"}),Object(s["l"])(At)])]),_:1})])])}}});a("8f40");const sa=n()(aa,[["__scopeId","data-v-7cf21b18"]]);var oa=sa;Object(s["B"])("data-v-25164ecc");const ia={key:0},na={class:"gene-row"},ca=Object(s["k"])(" Symbol: "),la=Object(s["i"])("i",{class:"pi pi-external-link external-link"},null,-1),ra={key:1,"data-test":"gene-name"},ba={key:2,"data-test":"species-name"},da={"data-test":"chromosome-name"},ha={"data-test":"start-stop"},ga={key:3},pa={key:4,"data-test":"level"};Object(s["z"])();var ua=Object(s["m"])({props:{gene:{type:null,required:!0},chromosome:{type:String,required:!0},start:{type:Number,required:!0},stop:{type:Number,required:!0},chainLevel:{type:Number,required:!1},trackOrientation:{type:String,required:!1}},setup(e){const t=Object(u["b"])(O["b"]),a=e=>{const a=f(t,e);t.dispatch("setSelectedGeneIds",a.rgdIds||[]),t.dispatch("setSelectedData",a.selectedData)},o=e=>{const t="https://rgd.mcw.edu/rgdweb/report/gene/main.html?id="+e;window.open(t)};return(t,i)=>{var n,c;const l=Object(s["G"])("Button");return Object(s["y"])(),Object(s["h"])(s["a"],null,[e.gene?(Object(s["y"])(),Object(s["h"])("div",ia,[Object(s["i"])("div",na,[Object(s["i"])("div",null,[ca,Object(s["l"])(l,{class:"p-button-link rgd-link",onClick:i[0]||(i[0]=t=>a(e.gene))},{default:Object(s["Q"])(()=>[Object(s["i"])("b",null,Object(s["K"])(e.gene.symbol),1)]),_:1})]),Object(s["i"])("div",null,[Object(s["l"])(l,{class:"p-button-link rgd-link",onClick:i[1]||(i[1]=t=>o(e.gene.rgdId))},{default:Object(s["Q"])(()=>[la]),_:1})])])])):Object(s["g"])("",!0),e.gene?(Object(s["y"])(),Object(s["h"])("div",ra,"Name: "+Object(s["K"])(null!==(n=e.gene.name)&&void 0!==n?n:"N/A"),1)):Object(s["g"])("",!0),e.gene?(Object(s["y"])(),Object(s["h"])("div",ba,"Species: "+Object(s["K"])(null!==(c=e.gene.speciesName)&&void 0!==c?c:"N/A"),1)):Object(s["g"])("",!0),Object(s["i"])("div",da,"Chromosome: "+Object(s["K"])(e.chromosome),1),Object(s["i"])("div",ha," Region: "+Object(s["K"])(Object(s["M"])(X["a"]).addCommasToBasePair(e.start))+" - "+Object(s["K"])(Object(s["M"])(X["a"]).addCommasToBasePair(e.stop)),1),e.trackOrientation?(Object(s["y"])(),Object(s["h"])("div",ga,"Orientation: "+Object(s["K"])(e.trackOrientation),1)):Object(s["g"])("",!0),e.chainLevel?(Object(s["y"])(),Object(s["h"])("div",pa," Level: "+Object(s["K"])(e.chainLevel),1)):Object(s["g"])("",!0)],64)}}});a("a18b");const va=n()(ua,[["__scopeId","data-v-25164ecc"]]);var ma=va;Object(s["B"])("data-v-3e872db8");const Sa={class:"selected-data-header"},Oa=Object(s["i"])("div",{class:"panel-header-item"},[Object(s["i"])("b",null,"Selected Data")],-1),ja={class:"panel-header-item"},ya={class:"panel-header-item"},fa={class:"panel-header-item"},ka={class:"gene-data"},wa=Object(s["i"])("div",{"data-test":"start-stop"},"BACKBONE GENE:",-1),Pa={"data-test":"gene-symbol"},Ma={"data-test":"gene-name"},Ba={"data-test":"chromosome-name"},Ta={"data-test":"start-stop"},Ga=Object(s["i"])("div",{"data-test":"start-stop"},"<---------------------------------------\x3e",-1),La=Object(s["i"])("div",{"data-test":"start-stop"},"COMPARATIVE GENE HOMOLOG:",-1),xa={"data-test":"gene-symbol"},Ra={"data-test":"gene-symbol"},Ca={"data-test":"gene-name"},Da={"data-test":"chromosome-name"},Ya={"data-test":"start-stop"};Object(s["z"])();var Ha=Object(s["m"])({props:{selectedData:{type:[Array,null],required:!0}},setup(e){const t=e,a=Object(u["b"])(O["b"]),o=Object(s["D"])(null),i=Object(s["D"])([]),n=Object(s["D"])(0),c=Object(s["D"])(a.state.selectedBackboneRegion.baseSelection.basePairStart),l=Object(s["D"])(a.state.selectedBackboneRegion.baseSelection.basePairStop),r=3;Object(s["P"])(()=>t.selectedData,()=>{n.value=0,t.selectedData&&t.selectedData.forEach(e=>{"trackSection"!==e.type&&"Gene"!==e.type&&"geneLabel"!==e.type||("trackSection"===e.type&&e.genomicSection.gene&&(n.value+=e.genomicSection.hiddenGenes.length+1,e.genomicSection.hiddenGenes.length>0&&k(e.genomicSection.hiddenGenes)),"geneLabel"===e.type&&(n.value+=e.genomicSection.combinedGenes.length+1,e.genomicSection.combinedGenes.length>0&&k(e.genomicSection.combinedGenes)),"Gene"===e.type&&(n.value+=1))})}),Object(s["P"])(()=>a.state.selectedBackboneRegion.baseSelection,()=>{c.value=a.state.selectedBackboneRegion.baseSelection.basePairStart,l.value=a.state.selectedBackboneRegion.baseSelection.basePairStop});const b=()=>{a.dispatch("setSelectedGeneIds",[]),a.dispatch("setSelectedData",null),a.dispatch("setGene",null),o.value=null},d=e=>{const t=a.state.loadedGenes;let s=[];for(let a of t.keys())if(a.toLowerCase().includes(e.query.toLowerCase())){let e=t.get(a);for(let[t,a]of Object.entries(e))s.push(a.gene)}i.value=s},h=e=>{var t;a.dispatch("setGene",e.value);const s=f(a,e.value);a.dispatch("setSelectedGeneIds",s.rgdIds||[]),a.dispatch("setSelectedData",s.selectedData),e.value&&e.value.speciesName===(null===(t=a.state.species)||void 0===t?void 0:t.name)&&v()},g=e=>{if("Enter"===e.key){var t;o.value=i.value[0];const e=f(a,o.value);a.dispatch("setGene",o.value),a.dispatch("setSelectedGeneIds",e.rgdIds||[]),a.dispatch("setSelectedData",e.selectedData),o.value&&o.value.speciesName===(null===(t=a.state.species)||void 0===t?void 0:t.name)&&v()}},p=e=>`${e.symbol} - ${e.speciesName}`,v=()=>{var e,t;const s=a.state.loadedGenes,i=a.state.selectedBackboneRegion,n=(null===(e=i.innerSelection)||void 0===e?void 0:e.basePairStart)||i.baseSelection.basePairStart,c=((null===(t=i.innerSelection)||void 0===t?void 0:t.basePairStop)||i.baseSelection.basePairStop,o.value.stop-o.value.start),l=Math.max(Math.floor(o.value.start-r*c),i.baseSelection.basePairStart),b=Math.min(Math.floor(o.value.stop+r*c),i.baseSelection.basePairStop),d=s.get(o.value.symbol.toLowerCase());let h=[];for(let[a,r]of Object.entries(d))r.gene.speciesName.toLowerCase()!==o.value.speciesName.toLowerCase()&&(r.visible.length>0?h=h.concat(r.visible):r.drawn.length>0&&(h=h.concat(r.drawn)));if(h.length>0){h.sort((e,t)=>e.svgY-t.svgY);const e=h[0],t=h[h.length-1],s=e.sectionStop-e.sectionStart,o=t.sectionStop-t.sectionStart,c=Math.floor((e.svgY-S["a"].panelTitleHeight)*a.state.detailedBasePairToHeightRatio),r=Math.max(c+n-5*s,i.baseSelection.basePairStart),d=Math.floor((t.svgY-S["a"].panelTitleHeight)*a.state.detailedBasePairToHeightRatio),g=Math.min(d+n+5*o,i.baseSelection.basePairStop);l>r&&b<g?a.dispatch("setDetailedBasePairRange",{start:r,stop:g}):l<r?b>g?a.dispatch("setDetailedBasePairRange",{start:l,stop:b}):a.dispatch("setDetailedBasePairRange",{start:l,stop:g}):b>g&&(l<r?a.dispatch("setDetailedBasePairRange",{start:l,stop:b}):a.dispatch("setDetailedBasePairRange",{start:r,stop:b}))}else a.dispatch("setDetailedBasePairRange",{start:l,stop:b})};return(e,a)=>{const r=Object(s["G"])("Button"),u=Object(s["G"])("AutoComplete"),v=Object(s["G"])("Divider"),m=Object(s["G"])("Panel"),S=Object(s["H"])("tooltip");return Object(s["y"])(),Object(s["f"])(m,null,{header:Object(s["Q"])(()=>[Object(s["i"])("div",Sa,[Oa,Object(s["i"])("div",ja,[Object(s["l"])(r,{label:"Clear Selection",class:"p-button-info",onClick:b})]),Object(s["i"])("div",ya,[Object(s["l"])(u,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),suggestions:i.value,onComplete:a[1]||(a[1]=e=>d(e)),onItemSelect:a[2]||(a[2]=e=>h(e)),onKeydown:a[3]||(a[3]=e=>g(e)),field:p,minLength:3,placeholder:"Search loaded genes..."},null,8,["modelValue","suggestions"]),Object(s["R"])(Object(s["l"])(r,{icon:"pi pi-info-circle",class:"p-button-link"},null,512),[[S,`Only searches genes loaded in the selected overview               region (${Object(s["M"])(X["a"]).convertBasePairToLabel(c.value)} -               ${Object(s["M"])(X["a"]).convertBasePairToLabel(l.value)}).               Select a wider region on the backbone in the overview panel to search more genes.`,void 0,{right:!0}]])]),Object(s["i"])("div",fa,Object(s["K"])(n.value)+" Selected Genes ",1)])]),default:Object(s["Q"])(()=>[Object(s["i"])("div",ka,[(Object(s["y"])(!0),Object(s["h"])(s["a"],null,Object(s["E"])(t.selectedData,e=>{var t,a;return Object(s["y"])(),Object(s["h"])(s["a"],{key:e},["Gene"===(null===e||void 0===e?void 0:e.type)?(Object(s["y"])(),Object(s["h"])(s["a"],{key:0},[Object(s["l"])(ma,{gene:e.genomicSection,chromosome:e.genomicSection.chromosome,start:e.genomicSection.start,stop:e.genomicSection.stop},null,8,["gene","chromosome","start","stop"]),Object(s["l"])(v)],64)):"geneLabel"===(null===e||void 0===e?void 0:e.type)||"trackSection"===(null===e||void 0===e?void 0:e.type)?(Object(s["y"])(),Object(s["h"])(s["a"],{key:1},["trackSection"===(null===e||void 0===e?void 0:e.type)?(Object(s["y"])(),Object(s["f"])(ma,{key:0,gene:null!==e&&void 0!==e&&e.genomicSection.gene?null===e||void 0===e?void 0:e.genomicSection.gene:null,chromosome:e.genomicSection.chromosome,start:e.genomicSection.sectionStart,stop:e.genomicSection.sectionStop,"chain-level":e.genomicSection.chainLevel,"track-orientation":e.genomicSection.isInverted?"-":"+"},null,8,["gene","chromosome","start","stop","chain-level","track-orientation"])):(Object(s["y"])(),Object(s["f"])(ma,{key:1,gene:null!==e&&void 0!==e&&e.genomicSection.gene?null===e||void 0===e?void 0:e.genomicSection.gene:null,chromosome:e.genomicSection.chromosome,start:e.genomicSection.sectionStart,stop:e.genomicSection.sectionStop},null,8,["gene","chromosome","start","stop"])),Object(s["l"])(v),"geneLabel"===e.type?(Object(s["y"])(),Object(s["h"])(s["a"],{key:2},[e.genomicSection.combinedGenes&&e.genomicSection.combinedGenes.length>0?(Object(s["y"])(!0),Object(s["h"])(s["a"],{key:0},Object(s["E"])(null===e||void 0===e?void 0:e.genomicSection.combinedGenes,e=>(Object(s["y"])(),Object(s["h"])(s["a"],{key:e},[Object(s["l"])(ma,{gene:e.gene,chromosome:e.gene.chromosome,start:e.gene.start,stop:e.gene.stop},null,8,["gene","chromosome","start","stop"]),Object(s["l"])(v)],64))),128)):Object(s["g"])("",!0)],64)):"trackSection"===e.type?(Object(s["y"])(),Object(s["h"])(s["a"],{key:3},[e.genomicSection.hiddenGenes&&e.genomicSection.hiddenGenes.length>0?(Object(s["y"])(!0),Object(s["h"])(s["a"],{key:0},Object(s["E"])(null===e||void 0===e?void 0:e.genomicSection.hiddenGenes,e=>(Object(s["y"])(),Object(s["h"])(s["a"],{key:e},[Object(s["l"])(ma,{gene:e.gene,chromosome:e.gene.chromosome,start:e.gene.start,stop:e.gene.stop},null,8,["gene","chromosome","start","stop"]),Object(s["l"])(v)],64))),128)):Object(s["g"])("",!0)],64)):Object(s["g"])("",!0)],64)):"orthologLine"===(null===e||void 0===e?void 0:e.type)?(Object(s["y"])(),Object(s["h"])(s["a"],{key:2},[wa,Object(s["i"])("div",Pa,"Symbol: "+Object(s["K"])(e.genomicSection.backboneGene.gene.symbol),1),Object(s["i"])("div",Ma,"Name:"+Object(s["K"])(null!==(t=e.genomicSection.backboneGene.gene.name)&&void 0!==t?t:"N/A"),1),Object(s["i"])("div",Ba,"Chromosome: "+Object(s["K"])(e.genomicSection.backboneGene.gene.chromosome),1),Object(s["i"])("div",Ta,"Region: "+Object(s["K"])(Object(s["M"])(X["a"]).addCommasToBasePair(e.genomicSection.backboneGene.gene.start))+" - "+Object(s["K"])(Object(s["M"])(X["a"]).addCommasToBasePair(e.genomicSection.backboneGene.gene.stop)),1),Ga,La,Object(s["i"])("div",xa,"Species: "+Object(s["K"])(e.genomicSection.comparativeGene.gene.speciesName),1),Object(s["i"])("div",Ra,"Symbol: "+Object(s["K"])(e.genomicSection.comparativeGene.gene.symbol),1),Object(s["i"])("div",Ca,"Name:"+Object(s["K"])(null!==(a=e.genomicSection.comparativeGene.gene.name)&&void 0!==a?a:"N/A"),1),Object(s["i"])("div",Da,"Chromosome: "+Object(s["K"])(e.genomicSection.comparativeGene.gene.chromosome),1),Object(s["i"])("div",Ya,"Region: "+Object(s["K"])(Object(s["M"])(X["a"]).addCommasToBasePair(e.genomicSection.comparativeGene.gene.start))+" - "+Object(s["K"])(Object(s["M"])(X["a"]).addCommasToBasePair(e.genomicSection.comparativeGene.gene.stop)),1)],64)):Object(s["g"])("",!0)],64)}),128))])]),_:1})}}});a("c832");const Ia=n()(Ha,[["__scopeId","data-v-3e872db8"]]);var Ea=Ia;const Na={class:"grid"},Ka={class:"col-9"},_a={class:"col-3"};var Va=Object(s["m"])({setup(e){const t=Object(u["b"])(O["b"]);return(e,a)=>(Object(s["y"])(),Object(s["h"])(s["a"],null,[Object(s["l"])(oa),Object(s["i"])("div",Na,[Object(s["i"])("div",Ka,[Object(s["l"])(Je)]),Object(s["i"])("div",_a,[Object(s["l"])(Ea,{"selected-data":Object(s["M"])(t).state.selectedData},null,8,["selected-data"])])])],64))}});const qa=Va;var Xa=qa;const $a=[{path:"/main",name:"Main",component:Xa},{path:"/",name:"Configuration",component:()=>a.e("configuration").then(a.bind(null,"829a"))}],Ua=Object(b["a"])({history:Object(b["b"])("/vcmap/"),routes:$a});var Aa=Ua,Wa=a("9319"),za=a("bb57"),Fa=a("0100"),Qa=a("3822"),Za=a("32e0"),Ja=a("1e2d"),es=a("6b8c"),ts=a("c045"),as=a("a469"),ss=a("eeae"),os=a("c982"),is=a("4084"),ns=a("2052"),cs=a("e75f"),ls=a("8b6b"),rs=a("2431"),bs=a("5bd2"),ds=a("14f2");const hs=[Wa["a"]],gs={Button:za["a"],Dropdown:Fa["a"],InputNumber:Qa["a"],Divider:Za["a"],Panel:Ja["a"],ProgressBar:ts["a"],ProgressSpinner:as["a"],TabView:ss["a"],TabPanel:os["a"],AutoComplete:is["a"],Checkbox:ns["a"],ColorPicker:cs["a"],Message:ls["a"],InlineMessage:rs["a"],Dialog:bs["a"],Slider:ds["a"]},ps={Tooltip:es["a"]};var us;(function(e){function t(e){hs.forEach(t=>{e.use(t)});for(const t in gs)e.component(t,gs[t]);for(const t in ps)e.directive(t,ps[t])}function a(){return hs}function s(){return gs}function o(){return ps}e.registerAll=t,e.getPlugins=a,e.getComponents=s,e.getDirectives=o})(us||(us={}));const vs=Object(s["e"])(r).use(O["a"],O["b"]).use(Aa);us.registerAll(vs),vs.mount("#app")},de23:function(e,t,a){"use strict";a("6836")},e167:function(e,t,a){"use strict";a("6e14")},e21c:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));class s{constructor(e){this.symbol="",this.name="",this.type="",this.key=0,this.rgdId=0,this.chromosome="",this.start=0,this.stop=0,this.speciesName=e.speciesName,this.symbol=e.geneSymbol,this.name=e.geneName,this.type=e.geneType,this.key=e.key,this.rgdId=e.geneRgdId,this.chromosome=e.chr,this.start=e.startPos,this.stop=e.stopPos}}},f212:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s="0.7.0-work"},f5ff:function(e,t,a){}});
//# sourceMappingURL=app.c0e6166b.js.map