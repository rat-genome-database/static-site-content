{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/store/index.ts","webpack:///./src/utils/Formatter.ts","webpack:///./src/models/BackboneSelection.ts","webpack:///./src/models/Chromosome.ts","webpack:///./src/components/TrackSVG.vue?0666","webpack:///./src/models/Species.ts","webpack:///./src/models/Map.ts","webpack:///./src/api/SpeciesApi.ts","webpack:///./config/app.config.ts","webpack:///./src/api/httpInstance.ts","webpack:///./src/components/Zoom.vue?7fdb","webpack:///./src/components/OverviewControls.vue?574f","webpack:///./src/components/HeaderPanel.vue?1b2f","webpack:///./src/utils/SVGConstants.ts","webpack:///./src/assets/images/vcmap_logo_v2.png","webpack:///./src/components/GeneInfo.vue?990d","webpack:///./src/components/VCMapDialog.vue","webpack:///./src/components/VCMapDialog.vue?6af2","webpack:///./src/components/VCMapDialog.vue?6bbc","webpack:///./src/components/SVGViewbox.vue?fc80","webpack:///./src/components/SelectedDataPanel.vue?03ec","webpack:///./src/App.vue","webpack:///./src/App.vue?8ecf","webpack:///./src/models/SelectedData.ts","webpack:///./src/utils/DataPanelHelpers.ts","webpack:///./src/components/TrackSVG.vue","webpack:///./src/components/TrackSVG.vue?5429","webpack:///./src/composables/useDialog.ts","webpack:///./src/utils/SVGHelpers.ts","webpack:///./src/components/BackboneTrackSVG.vue","webpack:///./src/components/BackboneTrackSVG.vue?1c27","webpack:///./src/models/Track.ts","webpack:///./src/models/DataTrack.ts","webpack:///./src/models/SyntenicRegion.ts","webpack:///./src/api/SyntenyApi.ts","webpack:///./src/models/TrackSection.ts","webpack:///./src/utils/TrackBuilder.ts","webpack:///./src/models/TrackSet.ts","webpack:///./src/models/OrthologLine.ts","webpack:///./src/composables/useDetailedPanelZoom.ts","webpack:///./src/utils/VCMapErrors.ts","webpack:///./src/composables/useOverviewPanelSelection.ts","webpack:///./src/components/SVGViewbox.vue","webpack:///./src/components/SVGViewbox.vue?cf25","webpack:///./src/components/OverviewControls.vue","webpack:///./src/components/OverviewControls.vue?df77","webpack:///./src/components/Zoom.vue","webpack:///./src/components/Zoom.vue?bb03","webpack:///./src/components/DetailsControls.vue","webpack:///./src/components/DetailsControls.vue?7921","webpack:///./src/components/HeaderPanel.vue","webpack:///./src/components/HeaderPanel.vue?cc37","webpack:///./src/components/GeneInfo.vue","webpack:///./src/components/GeneInfo.vue?1d7d","webpack:///./src/components/SelectedDataPanel.vue","webpack:///./src/components/SelectedDataPanel.vue?6957","webpack:///./src/views/Main.vue","webpack:///./src/views/Main.vue?3023","webpack:///./src/router/index.ts","webpack:///./src/utils/ExternalComponentsHandler.ts","webpack:///./src/main.ts","webpack:///./src/components/BackboneTrackSVG.vue?c5ec","webpack:///./src/App.vue?92ce","webpack:///./src/models/Gene.ts","webpack:///./src/version.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","vuexLocal","storage","localStorage","state","species","chromosome","startPos","stopPos","loadStart","loadStop","gene","comparativeSpecies","loadedGenes","loadedGeneSections","selectedBackboneRegion","overviewBasePairToHeightRatio","overviewSyntenyThreshold","detailedBasePairToHeightRatio","detailsSyntenyThreshold","configTab","selectedData","selectedGeneIds","detailedBasePairRange","start","stop","isDetailedPanelUpdating","isOverviewPanelUpdating","mutations","speciesArray","loadedGenesArray","selection","range","ratio","debug","threshold","tab","selectedIds","isUpdating","orthologs","orthologData","actions","context","commit","backboneLength","overviewTrackHeight","viewboxHeight","overviewTrackYPosition","navigationButtonHeight","panelTitleHeight","Math","floor","detailedTrackHeight","selected","innerSelection","generateInnerSelection","baseSelection","basePairStart","basePairStop","plugins","plugin","Formatter","convertBasePairToLabel","bp","toFixed","addCommasToBasePair","toLocaleString","SelectedRegion","svgYPoint","svgHeight","this","BackboneSelection","zoomLevel","shiftPercent","percent","backboneBasePairStop","lengthAdjustment","ceil","newStartBasePair","newStopBasePair","adjustBaseSelectionByPosition","svgHeightFromTopOfBackboneToStart","svgY","svgHeightOfNewBaseSelection","innerStart","innerStop","innerSelectionChanged","detailedStart","detailedStop","originalRegionLength","detailedRegionLength","parseFloat","seqLength","innerSVGHeight","innerSVGYPoint","innerSelectionLength","newStart","newStop","CHROMOSOME_COLOR_MAP","UNMAPPED_CHROMOSOME_COLOR","ChromosomeDTO","mapKey","gapLength","gapCount","contigCount","ordinalNumber","Chromosome","dto","super","assign","SpeciesDTO","typeKey","defaultMapKey","maps","Species","activeMap","filter","MapDTO","description","notes","primaryRefAssembly","speciesRes","httpInstance","speciesList","mapsList","map","speciesTypeKey","res","mapInfo","chrList","chrInfo","chr","chrData","speciesName","symbolPrefix","geneList","geneInfo","Gene","geneSymbol","symbol","geneName","geneType","geneRgdId","rgdId","compMapKeys","mapKeyString","index","toString","orthologList","Map","set","API_BASE_URL","warn","axiosInstance","baseURL","overviewPanelWidth","detailsPanelWidth","overviewTitleXPosition","detailsTitleXPosition","panelTitleYPosition","backboneXPosition","trackWidth","dataTrackWidth","trackLabelYPosition","trackMapLabelYPosition","selectedBackboneXPosition","props","header","String","required","show","Boolean","theme","emits","__props","emit","isActive","close","_ctx","_cache","_component_Button","_component_Dialog","visible","$event","class","breakpoints","draggable","closable","modal","footer","$slots","label","onClick","autofocus","default","_","__exports__","render","SelectedData","section","genomicSection","getGeneOrthologIds","store","geneOrthologs","geneOrthologIds","keys","geneKey","getNewSelectedData","backboneSpecies","geneSpecies","compSpeciesNameMap","rgdIds","forEach","entry","orthologResult","getOrthologsFromComparativeSpecies","backboneSymbol","backboneGene","toLowerCase","has","geneKeys","ortholog","parseInt","sortGeneList","sort","geneA","geneB","isGeneALOC","startsWith","isGeneBLOC","geneASymbol","geneBSymbol","backboneOrthologKey","entries","orthologGeneIdx","find","_hoisted_1","id","gradientUnits","x2","spreadMethod","gradientTransform","offset","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","showSyntenyOnHover","showStartStop","showChromosome","showGeneLabel","geneDataTrack","posX","Number","width","track","lines","Array","LEVEL_2_WIDTH_MULTIPLIER","LABEL_Y_OFFSET","HOVER_HIGHLIGHT_COLOR","SELECTED_HIGHLIGHT_COLOR","querySelector","highlightSelections","onMouseEnter","isHovered","dispatch","onMouseLeave","includes","geneIds","shiftKey","newSelectedData","geneSectionList","combinedGenes","hiddenGenes","newData","geneAndOrthologs","newGeneIds","selectedDataArray","sections","checkSectionForGene","isSelected","line","comparativeGene","geneLabels","isVisible","useAltLabel","altLabelIds","altLabels","some","showAltLabel","getSectionFill","color","getLabelText","altLabelOptions","newLabelText","text","labels","x","y","onMouseenter","onMouseleave","stroke","x1","comparativeGeneX","y1","backboneGeneY","y2","comparativeGeneY","shape","chainLevel","fill","height","svgY2","SVGConstants","isInverted","useDialog","showDialog","dialogHeader","dialogMessage","onError","userMessage","showNoResultsDialog","showPartialResultsDialog","emptyTracks","speciesTrack","mapName","join","checkSyntenyResultsOnComparativeSpecies","comparativeTracks","resultsFound","trackSet","getMousePosSVG","svg","createSVGPoint","clientX","clientY","ctm","getScreenCTM","inverse","matrixTransform","showDataOnHover","isDetailed","INNER_SELECTION_EXTRA_WIDTH","START_LABEL_Y_OFFSET","END_LABEL_Y_OFFSET","HIGHLIGHT_COLOR","selectedRegion","newVal","oldVal","deep","getAdjustedLabelY","params","startingSVGY","speciesMap","rawGeneData","rawSyntenyData","setSectionSVGPositions","isSyntenyTrack","buildAndSortLabelObjects","createCombinedGeneLabels","totalHeight","offsetHeight","level1Sections","level2Sections","setSectionYPosition","concat","currentYPos","previousSectionIndex","previousTrackSection","startBPLabel","stopBPLabel","a","b","previousLabel","currentIndex","drawnSections","geneLabelsArray","labelObject","geneLabel","trunc","labelSections","labelSection","labelCombined","labelShown","keyDiff","aboveKey","belowKey","aboveKeyCheck","findIndex","belowKeyCheck","sectionsAbove","sectionAbove","trackSection","split","sectionsBelow","sectionBelow","labelY","DataTrack","isDisplayed","isComparativeView","orthologLines","SyntenicRegionDTO","backboneMapKey","backboneChromosome","backboneStart","backboneStop","orientation","chainType","SyntenicRegion","syntenyApiCalls","comparativeSpeciesMaps","apiRoute","includeGenes","syntenyResults","allSettled","speciesSyntenyData","regions","allGenes","status","regionData","block","gaps","g","genes","currGene","reason","sectionStart","sectionStop","trackColor","isComparativeGene","adjustedHeight","_offsetCount","_backboneCutoff","_BPToHeightRatio","_displayBackboneStart","_displayBackboneStop","unshift","cutoff","offsetCount","basePairToHeightRatio","blockId","calculateDisplayedBPRegionRelativeToBackbone","getColor","truncatedGenes","substring","GENES_DATA_TRACK_THRESHOLD_MULTIPLIER","GAPS_THRESHOLD_MULTIPLIER","createBackboneTrack","startingSVGYPos","backboneChromosomeString","async","createSyntenyTracks","backboneChr","syntenyThreshold","isComparative","backboneSelection","speciesSyntenyDataArray","getSyntenicRegions","tracks","speciesTracks","createSyntenyTrackFromSpeciesSyntenyData","geneTrack","geneMap","size","allGenesMap","setIsComparativeView","trackSections","splitLevel1And2RegionsIntoSections","createBackboneDataTracks","SpeciesApi","getGenesByRegion","createBackboneGeneTrackFromGenesData","hiddenSections","visibleFlag","geneSize","blockStartOffset","geneSvgY","hiddenTrackSection","splitBlocksAndGapsIntoSections","geneSections","gaplessSections","gapless","blockGenesMap","gaplessBlockSections","previousBlockBackboneStop","previousGaplessBlockStop","filteredRegions","blockIdCounter","processedBlockSections","region","lastBlockId","visibleBlockEnds","calculateVisibleBlockEnds","blockStart","blockStop","currGaplessBlockSection","blockSection","gap","gapStart","gapStop","gapSection","previousGap","lastGap","currBlockMap","tempProcessedTrack","geneThreshold","createGeneSectionsFromSyntenyBlocks","warnIfNegativeHeight","blockInfo","blockBackboneStart","blockBackboneStop","visibleTop","visibleBottom","blockBackboneLength","blockLength","abs","topBasePairDifference","bottomBasePairDifference","topPercentHidden","bottomPercentHidden","syntenyBlockSections","blockMap","currentSpecies","allGenesArray","geneObject","drawn","speciesObject","syntenyBlockSection","blockGenes","visibleBlockStart","visibleBlockStop","blockStartSvgY","blockRatio","correctGeneStart","correctGeneStop","dataTracks","convertedSpeciesTrack","convertedDataTracks","dataTrack","convertedSpeciesDataTrack","visibleRegionTrackSet","OrthologLine","backboneY","comparativeX","comparativeY","useDetailedPanelZoom","startingPoint","inSelectMode","startDetailedSelectionY","stopDetailedSelectionY","initZoomSelection","updateZoomSelection","currentSVGPoint","completeZoomSelection","basePairsFromInnerSelection1","basePairsFromInnerSelection2","backboneOverviewError","backboneDetailedError","noRegionLengthError","missingComparativeSpeciesError","useOverviewPanelSelection","startOverviewSelectionY","stopOverviewSelectionY","initOverviewSelection","updateOverviewSelection","completeOverviewSelection","overviewTrackSets","backboneTracks","backboneOverviewTrackSection","startingBasePairCountFromStartOfBackbone","stoppingBasePairCountFromStartOfBackbone","startSVGY","stopSVGY","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","detailTrackSets","comparativeOverviewTracks","selectionTrackSets","geneReload","attachToProgressLoader","storeLoadingActionName","func","updateOverviewPanel","updateDetailsPanel","arePanelsLoading","overviewUpdateStart","Date","now","loadType","backboneTrack","backboneTrackSet","syntenyTrackResults","comparativeTrackSet","prevBackboneSelection","generateBackboneSelection","recreatedSelection","log","detailedUpdateStart","originalSelectedBackboneRegion","zoomedSelection","backboneSelectionTrack","tempBackboneGenes","tempBackboneTracks","syntenyTracksResults","comparativeSelectionTracks","syntenyDataArray","allSpeciesGeneMap","dataArray","masterEntry","speciesEntry","backboneSpeciesName","geneMapIndex","loadSelectedGene","loadedGeneSymbol","loadedGeneSpecies","drawnOrthologs","selectionStart","geneBasePairLength","newInnerStart","max","newInnerStop","min","highestOrtholog","lowestOrtholog","topOrthologLength","bottomOrthologLength","compSpeciesMaps","compSpeciesNames","backboneGeneOrthologs","getGeneOrthologs","syntenicGeneMaps","visibleTrackSet","getVisibleRegion","constructLoadedGenes","generateOrthologLines","comparativeMaps","possibleOrthologs","backboneGenes","orthologInfo","orthologKeys","orthologGene","comparativeGenes","comparativeMap","sectionMap","xPos","getDetailedPanelTrackXOffset","existingGene","duplicates","possibleOrtholog","compSpeciesOrthologs","compOrthologInfo","speciesMapKey","orthologLine","createOrthologLine","duplicate","setOrthologLines","backboneGeneSection","comparativeGeneSection","comparativeSpeciesGeneMapsArray","comparativeSpeciesArray","visibleSpeciesGenesMap","speciesGeneMap","getOverviewPanelTrackXOffset","trackNumber","totalTracks","trackType","dataTrackNum","navigateUp","isNavigationUpDisabled","moveInnerSelectionUp","navigateDown","isNavigationDownDisabled","moveInnerSelectionDown","_component_ProgressBar","showValue","viewBox","xmlns","onMousedown","args","onMousemove","onMouseup","TrackSVG","BackboneTrackSVG","index2","VCMapDialog","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","showEditModal","startPosition","stopPosition","isValidStartStop","maxPosition","formattedBackboneStart","formattedBackboneStop","selectionRange","openSelectionEditModal","closeModal","saveSelectionChange","_component_InputNumber","content","showButtons","modelValue","suffix","step","disabled","ZOOM_DEBOUNCE_MILLIS","zoomProcessTimeoutId","isZoomDisabled","onZoomChange","zoom","zoomedStart","zoomedStop","currentLength","newRegionLength","lengthDiff","_component_Slider","onChange","displayedSpeciesRegionLabel","comparativeSpeciesText","Zoom","alt","router","goToConfigurationScreen","_component_Divider","_component_Panel","toggleable","icons","OverviewControls","layout","DetailsControls","trackOrientation","selectGene","goToRgd","rgdUrl","open","searchedGene","geneSuggestions","numberOfResults","overviewStart","overviewStop","SEARCHED_GENE_WINDOW_FACTOR","dataObject","clearSelectedGenes","searchGene","matches","k","query","match","searchSVG","adjustSelectionWindow","selectAndSearchSVG","getSuggestionDisplay","item","_component_AutoComplete","_directive_tooltip","suggestions","onComplete","onItemSelect","onKeydown","field","minLength","placeholder","icon","right","GeneInfo","HeaderPanel","SVGViewbox","SelectedDataPanel","routes","path","component","Main","history","PLUGINS","COMPONENTS","DIRECTIVES","ExternalComponentsHandler","registerAll","app","use","directive","getPlugins","getComponents","getDirectives","App","mount","VERSION"],"mappings":"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","file":"js/app.a0071e7e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"configuration\":\"configuration\"}[chunkId]||chunkId) + \".\" + {\"configuration\":\"1f7fa84b\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"configuration\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"configuration\":\"configuration\"}[chunkId]||chunkId) + \".\" + {\"configuration\":\"e5e8a40d\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vcmap/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { ActionContext, createStore, Store } from 'vuex';\nimport VuexPersistence from 'vuex-persist';\nimport Species from '@/models/Species';\nimport Chromosome from '@/models/Chromosome';\nimport TrackSection from '@/models/TrackSection';\nimport Gene from '@/models/Gene';\nimport BackboneSelection, { BasePairRange, SelectedRegion } from '@/models/BackboneSelection';\nimport SVGConstants from '@/utils/SVGConstants';\nimport SelectedData from '@/models/SelectedData';\nimport { InjectionKey } from 'vue';\n\nexport const key: InjectionKey<Store<VCMapState>> = Symbol();\n\nexport interface VCMapState\n{\n  species: Species | null; // backbone species\n  chromosome: Chromosome | null; // backbone chromosome\n  startPos: number | null; // backbone start position\n  stopPos: number | null; // backbone stop position\n  loadStart: number | null; // load start position\n  loadStop: number | null; // load stop position\n  gene: Gene | null; // backbone gene\n\n  comparativeSpecies: Species[];\n  loadedGenes: Map<string, any> | Gene[];\n  loadedGeneSections: TrackSection[];\n\n  selectedBackboneRegion: BackboneSelection;\n\n  overviewBasePairToHeightRatio: number;\n  overviewSyntenyThreshold: number;\n  detailedBasePairToHeightRatio: number;\n  detailsSyntenyThreshold: number;\n\n  configTab: number;\n\n  selectedData: SelectedData[] | null;\n  selectedGeneIds: number[];\n\n  detailedBasePairRange: BasePairRange;\n\n  isDetailedPanelUpdating: boolean;\n  isOverviewPanelUpdating: boolean;\n}\n\nconst vuexLocal = new VuexPersistence<VCMapState>({\n  storage: window.localStorage\n});\n\nexport default createStore({\n  state: (): VCMapState => ({\n    species: null,\n    chromosome: null,\n    startPos: null,\n    stopPos: null,\n    loadStart: null,\n    loadStop: null,\n    gene: null,\n\n    comparativeSpecies: [],\n    loadedGenes: [],\n    loadedGeneSections: [],\n\n    selectedBackboneRegion: new BackboneSelection(new SelectedRegion(0,0,0,0)),\n\n    overviewBasePairToHeightRatio: 1000,\n    overviewSyntenyThreshold: 0,\n    detailedBasePairToHeightRatio: 1000,\n    detailsSyntenyThreshold: 0,\n\n    configTab: 0,\n\n    selectedData: null,\n    selectedGeneIds: [],\n\n    detailedBasePairRange: { start: 0, stop: 0 },\n\n    isDetailedPanelUpdating: false,\n    isOverviewPanelUpdating: false,\n  }),\n\n  mutations: {\n    species (state: VCMapState, species: Species) {\n      state.species = species;\n    },\n    chromosome (state: VCMapState, chromosome: Chromosome) {\n      state.chromosome = chromosome;\n    },\n    startPosition (state: VCMapState, startPos: number) {\n      state.startPos = startPos;\n    },\n    stopPosition (state: VCMapState, stopPos: number) {\n      state.stopPos = stopPos;\n    },\n    loadStart (state: VCMapState, loadStart: number) {\n      state.loadStart = loadStart;\n    },\n    loadStop (state: VCMapState, loadStop: number) {\n      state.loadStop = loadStop;\n    },\n    gene (state: VCMapState, gene: Gene) {\n      state.gene = gene;\n    },\n    comparativeSpecies (state: VCMapState, speciesArray: Species[]) {\n      state.comparativeSpecies = speciesArray;\n    },\n    loadedGenes (state: VCMapState, loadedGenesArray: Gene[]) {\n      state.loadedGenes = loadedGenesArray;\n    },\n    loadedGeneSections (state: VCMapState, loadedGeneSections: TrackSection[]) {\n      state.loadedGeneSections = loadedGeneSections;\n    },\n    selectedBackboneRegion ( state: VCMapState, selection: BackboneSelection) {\n      state.selectedBackboneRegion = selection;\n    },\n    detailedBasePairRange(state: VCMapState, range: BasePairRange) {\n      state.detailedBasePairRange = range;\n    },\n    overviewBasePairToHeightRatio(state: VCMapState, ratio: number) {\n      console.debug(`Setting overview panel bp resolution to ${ratio} bp/unit`);\n      state.overviewBasePairToHeightRatio = ratio;\n    },\n    overviewSyntenyThreshold(state: VCMapState, threshold: number) {\n      console.debug(`Setting overview panel synteny threshold to ${threshold}bp`);\n      state.overviewSyntenyThreshold = threshold;\n    },\n    detailedBasePairToHeightRatio(state: VCMapState, ratio: number) {\n      console.debug(`Setting details panel bp resolution to ${ratio} bp/unit`);\n      state.detailedBasePairToHeightRatio = ratio;\n    },\n    detailsSyntenyThreshold(state: VCMapState, threshold: number) {\n      console.debug(`Setting details panel synteny threshold to ${threshold}bp`);\n      state.detailsSyntenyThreshold = threshold;\n    },\n    configTab(state: VCMapState, tab: number) {\n      state.configTab = tab;\n    },\n    selectedData(state: VCMapState, selectedData: SelectedData[]) {\n      state.selectedData = selectedData;\n    },\n    selectedGeneIds(state: VCMapState, selectedIds: number[]) {\n      state.selectedGeneIds = selectedIds;\n    },\n    isDetailedPanelUpdating(state: VCMapState, isUpdating: boolean) {\n      state.isDetailedPanelUpdating = isUpdating;\n    },\n    isOverviewPanelUpdating(state: VCMapState, isUpdating: boolean) {\n      state.isOverviewPanelUpdating = isUpdating;\n    },\n    backboneOrthologs(state: VCMapState, orthologs: any) {\n      state.selectedBackboneRegion.orthologData = orthologs;\n    },\n  },\n\n  actions: {\n    setSpecies(context: ActionContext<VCMapState, VCMapState>, species: Species) {\n      context.commit('species', species);\n    },\n    setChromosome(context: ActionContext<VCMapState, VCMapState>, chromosome: Chromosome) {\n      context.commit('chromosome', chromosome);\n    },\n    setStartPosition(context: ActionContext<VCMapState, VCMapState>, startPos: number) {\n      context.commit('startPosition', startPos);\n    },\n    setStopPosition(context: ActionContext<VCMapState, VCMapState>, stopPos: number) {\n      context.commit('stopPosition', stopPos);\n    },\n    setLoadStart(context: ActionContext<VCMapState, VCMapState>, loadStart: number) {\n      context.commit('loadStart', loadStart);\n    },\n    setLoadStop(context: ActionContext<VCMapState, VCMapState>, loadStop: number) {\n      context.commit('loadStop', loadStop);\n    },\n    setGene(context: ActionContext<VCMapState, VCMapState>, gene: Gene) {\n      context.commit('gene', gene);\n    },\n    setOverviewResolution(context: ActionContext<VCMapState, VCMapState>, backboneLength: number) {\n      // The height of the tracks in the overview should have a little buffer on the top and bottom margins\n      const overviewTrackHeight = SVGConstants.viewboxHeight - (SVGConstants.overviewTrackYPosition + SVGConstants.navigationButtonHeight + (SVGConstants.overviewTrackYPosition - SVGConstants.panelTitleHeight));\n      context.commit('overviewBasePairToHeightRatio', backboneLength / overviewTrackHeight);\n      // Note: Dividing by 8,000 is arbitary when calculating synteny threshold\n      context.commit('overviewSyntenyThreshold', (backboneLength > 250000) ? Math.floor((backboneLength) / 8000) : 0);\n    },\n    setDetailsResolution(context: ActionContext<VCMapState, VCMapState>, backboneLength: number) {\n      // The tracks in the detailed panel should have no top or bottom margins\n      const detailedTrackHeight = SVGConstants.viewboxHeight - (SVGConstants.panelTitleHeight + SVGConstants.navigationButtonHeight);\n      context.commit('detailedBasePairToHeightRatio', backboneLength / detailedTrackHeight);\n      // Note: Dividing by 8,000 is arbitary when calculating synteny threshold\n      context.commit('detailsSyntenyThreshold', (backboneLength > 250000) ? Math.floor((backboneLength) / 8000) : 0);\n    },\n    setConfigTab(context: ActionContext<VCMapState, VCMapState>, tab: number) {\n      context.commit('configTab', tab);\n    },\n    setSelectedData(context: ActionContext<VCMapState, VCMapState>, selected: SelectedData[]) {\n      context.commit('selectedData', selected);\n    },\n    setSelectedGeneIds(context: ActionContext<VCMapState, VCMapState>, selectedIds: number[]) {\n      context.commit('selectedGeneIds', selectedIds);\n    },\n    setComparativeSpecies(context: ActionContext<VCMapState, VCMapState>, species: Species[]) {\n      context.commit('comparativeSpecies', species);\n    },\n    setLoadedGenes(context: ActionContext<VCMapState, VCMapState>, loadedGenes: Gene[]) {\n      context.commit('loadedGenes', loadedGenes);\n    },\n    setLoadedGeneSections(context: ActionContext<VCMapState, VCMapState>, loadedGeneSections: TrackSection[]) {\n      context.commit('loadedGeneSections', loadedGeneSections);\n    },\n    setIsDetailedPanelUpdating(context: ActionContext<VCMapState, VCMapState>, isUpdating: boolean) {\n      context.commit('isDetailedPanelUpdating', isUpdating);\n    },\n    setIsOverviewPanelUpdating(context: ActionContext<VCMapState, VCMapState>, isUpdating: boolean) {\n      context.commit('isOverviewPanelUpdating', isUpdating);\n    },\n    clearConfiguration(context: ActionContext<VCMapState, VCMapState>) {\n      context.commit('species', null);\n      context.commit('gene', null);\n      context.commit('chromosome', null);\n      context.commit('startPosition', null);\n      context.commit('stopPosition', null);\n      context.commit('loadStart', null);\n      context.commit('loadStop', null);\n      context.commit('comparativeSpecies', []);\n      context.commit('selectedGeneIds', []);\n      context.commit('loadedGenes', []);\n      context.commit('loadedGeneSections', []);\n      context.commit('selectedBackboneRegion', new BackboneSelection(new SelectedRegion(0,0,0,0)));\n      context.commit('detailedBasePairRange', { start: 0, stop: 0 });\n    },\n    clearBackboneSelection(context: ActionContext<VCMapState, VCMapState>) {\n      context.commit('selectedBackboneRegion', new BackboneSelection(new SelectedRegion(0,0,0,0)));\n      context.commit('detailedBasePairRange', { start: 0, stop: 0 });\n    },\n    setBackboneSelection(context: ActionContext<VCMapState, VCMapState>, selection: BackboneSelection) {\n      if (selection.innerSelection == null)\n      {\n        selection.generateInnerSelection(selection.baseSelection.basePairStart, selection.baseSelection.basePairStop, context.state.overviewBasePairToHeightRatio);\n      }\n      context.commit('startPosition', selection.baseSelection.basePairStart);\n      context.commit('stopPosition', selection.baseSelection.basePairStop);\n      context.commit('selectedBackboneRegion', selection);\n      // Note: Committing a change to detailedBasePairRange will trigger an update on the Detailed panel\n      context.commit('detailedBasePairRange', { start: selection.innerSelection?.basePairStart, stop: selection.innerSelection?.basePairStop });\n    },\n    setDetailedBasePairRange(context: ActionContext<VCMapState, VCMapState>, range: BasePairRange) {\n      // Note: Committing a change to detailedBasePairRange will trigger an update on the Detailed panel\n      context.commit('detailedBasePairRange', range);\n    },\n    setBackboneOrthologData(context: ActionContext<VCMapState, VCMapState>, orthologs: any) {\n      context.commit('backboneOrthologs', orthologs);\n    }\n  },\n\n  plugins: [\n    vuexLocal.plugin\n  ]\n});\n","export namespace Formatter\n{\n  export function convertBasePairToLabel(bp: number | null)\n  {\n    if (bp == null)\n    {\n      return null;\n    }\n\n    return (bp / 1000000).toFixed(2) + 'Mbp';\n  }\n\n  export function addCommasToBasePair(bp: number | null)\n  {\n    if (bp == null)\n    {\n      return null;\n    }\n\n    return bp.toLocaleString();\n  }\n}\n","import SVGConstants from \"@/utils/SVGConstants\";\nimport Chromosome from \"./Chromosome\";\n\nexport interface BasePairRange\n{\n  start: number;\n  stop: number;\n}\n\nexport class SelectedRegion\n{\n  svgYPoint: number; // The Y position on the backbone SVG\n  svgHeight: number; // The height of the selection on the backbone SVG\n  basePairStart: number;\n  basePairStop: number;\n\n  constructor(svgYPoint: number, svgHeight: number, basePairStart: number, basePairStop: number)\n  {\n    this.svgYPoint = svgYPoint;\n    this.svgHeight = svgHeight;\n    this.basePairStart = basePairStart;\n    this.basePairStop = basePairStop;\n  }\n\n  public get length()\n  {\n    return this.basePairStop - this.basePairStart;\n  }\n}\n\nexport default class BackboneSelection\n{\n  chromosome?: Chromosome;\n  baseSelection: SelectedRegion;\n  innerSelection?: SelectedRegion;\n  zoomLevel: number = 1;\n  orthologData?: any;\n\n\n  private shiftPercent: number = 0.2; // TODO: configurable?\n\n  constructor(baseSelection: SelectedRegion, chromosome?: Chromosome)\n  {\n    this.baseSelection = baseSelection;\n    this.chromosome = chromosome;\n  }\n\n  /**\n   * Adjusts the bp start/stop of the base selection (and inner selection if necessary) according to a given percentage\n   * @param percent percent to grow/shrink the selection by. Expects a whole number (e.g. 10 for 10% or -20 for -20%).\n   * @param backboneBasePairStop the cutoff base pair on the backbone (will likely be the end of the backbone chromosome)\n   * @param overviewBasePairToHeightRatio the bp/height ratio of the overview panel\n   */\n  public adjustBaseSelectionByPercentage(percent: number, backboneBasePairStop: number, overviewBasePairToHeightRatio: number)\n  {\n    const lengthAdjustment = Math.ceil(((percent / 100) * this.baseSelection.length) / 2);\n\n    const newStartBasePair = this.baseSelection.basePairStart - lengthAdjustment;\n    const newStopBasePair = this.baseSelection.basePairStop + lengthAdjustment;\n\n    this.adjustBaseSelectionByPosition(newStartBasePair, newStopBasePair, backboneBasePairStop, overviewBasePairToHeightRatio);\n  }\n\n  /**\n   * Adjusts the bp start/stop of the base selection (and inner selection if necessary) according to new start/stop positions\n   * @param newStartBasePair new start bp\n   * @param newStopBasePair new stop bp\n   * @param backboneBasePairStop the cutoff base pair on the backbone (will likely be the end of the backbone chromosome)\n   * @param overviewBasePairToHeightRatio the bp/height ratio of the overview panel\n   */\n  public adjustBaseSelectionByPosition(newStartBasePair: number, newStopBasePair: number, backboneBasePairStop: number, overviewBasePairToHeightRatio: number)\n  {\n    if (newStartBasePair < 0 && newStopBasePair > backboneBasePairStop)\n    {\n      newStartBasePair = 0;\n      newStopBasePair = backboneBasePairStop;\n    }\n    else if (newStartBasePair < 0)\n    {\n      // Add the extra length onto the end of the new stop base pair\n      newStopBasePair = (newStopBasePair - newStartBasePair > backboneBasePairStop) ? backboneBasePairStop : newStopBasePair - newStartBasePair;\n      newStartBasePair = 0;\n    }\n    else if (newStopBasePair > backboneBasePairStop)\n    {\n      // Subtract the extra length from the new start base pair\n      newStartBasePair = (newStartBasePair - (newStopBasePair - backboneBasePairStop) < 0) ? 0 : newStartBasePair - (newStopBasePair - backboneBasePairStop);\n      newStopBasePair = backboneBasePairStop;\n    }\n\n    // Calculate the new SVG starting Y position and height using new base pairs and the bp/height ratio\n    const svgHeightFromTopOfBackboneToStart = newStartBasePair / overviewBasePairToHeightRatio;\n    const svgY = svgHeightFromTopOfBackboneToStart + SVGConstants.overviewTrackYPosition;\n    const svgHeightOfNewBaseSelection = (newStopBasePair - newStartBasePair) / overviewBasePairToHeightRatio;\n\n    this.baseSelection = new SelectedRegion(svgY, svgHeightOfNewBaseSelection, newStartBasePair, newStopBasePair);\n    // Adjust inner selection if it is outside the bounds of the base selection\n    if (this.innerSelection)\n    {\n      let innerStart = this.innerSelection.basePairStart;\n      let innerStop = this.innerSelection.basePairStop;\n      let innerSelectionChanged = false;\n      if (this.innerSelection.basePairStart < this.baseSelection.basePairStart)\n      {\n        innerStart = this.baseSelection.basePairStart;\n        innerSelectionChanged = true;\n      }\n\n      if (this.innerSelection.basePairStop > this.baseSelection.basePairStop)\n      {\n        innerStop = this.baseSelection.basePairStop;\n        innerSelectionChanged = true;\n      }\n      \n      if (innerSelectionChanged)\n      {\n        this.generateInnerSelection(innerStart, innerStop, overviewBasePairToHeightRatio);\n      }\n    }\n  }\n\n  /**\n   * Creates an `innerSelection` based off of a zoom level\n   * @param detailedStart start bp of the detailed panel\n   * @param detailedStop stop bp of the detailed panel\n   * @param overviewBasePairToHeightRatio number to used to calculate the svg height and starting y position of the inner selection\n   * @returns the innerSelection region\n   */\n  public generateInnerSelection(detailedStart: number, detailedStop: number, overviewBasePairToHeightRatio: number)\n  {\n    const originalRegionLength = this.baseSelection.basePairStop - this.baseSelection.basePairStart;\n    const detailedRegionLength = detailedStop - detailedStart;\n    this.zoomLevel = parseFloat((1 / (detailedRegionLength / originalRegionLength)).toFixed(2));\n\n    detailedStart = (detailedStart < 0) ? 0 : Math.floor(detailedStart);\n    detailedStop = (this.chromosome?.seqLength && detailedStop > this.chromosome.seqLength) ? this.chromosome.seqLength : Math.ceil(detailedStop);\n    const innerSVGHeight = (detailedStop - detailedStart) / overviewBasePairToHeightRatio;\n    let innerSVGYPoint = this.baseSelection.svgYPoint;\n    if (detailedStart > this.baseSelection.basePairStart)\n    {\n      innerSVGYPoint = ((detailedStart - this.baseSelection.basePairStart) / overviewBasePairToHeightRatio) + this.baseSelection.svgYPoint;\n    }\n    else if (detailedStart < this.baseSelection.basePairStart)\n    {\n      innerSVGYPoint = this.baseSelection.svgYPoint - ((this.baseSelection.basePairStart - detailedStart) / overviewBasePairToHeightRatio);\n    }\n    this.innerSelection = new SelectedRegion(innerSVGYPoint, innerSVGHeight, detailedStart, detailedStop);\n    return this.innerSelection;\n  }\n\n  public moveInnerSelectionUp(overviewBasePairToHeightRatio: number)\n  {\n    if (!this.innerSelection)\n    {\n      return;\n    }\n\n    const innerSelectionLength = this.innerSelection.basePairStop - this.innerSelection.basePairStart;\n\n    let newStart = this.innerSelection.basePairStart - innerSelectionLength * this.shiftPercent;\n    let newStop = this.innerSelection.basePairStop - innerSelectionLength * this.shiftPercent;\n    if (newStart < this.baseSelection.basePairStart)\n    {\n      newStart = this.baseSelection.basePairStart;\n      newStop = this.baseSelection.basePairStart + innerSelectionLength;\n    }\n\n    return this.generateInnerSelection(newStart, newStop, overviewBasePairToHeightRatio);\n  }\n\n  public moveInnerSelectionDown(overviewBasePairToHeightRatio: number)\n  {\n    if (!this.innerSelection)\n    {\n      return;\n    }\n\n    const innerSelectionLength = this.innerSelection.basePairStop - this.innerSelection.basePairStart;\n\n    let newStart = this.innerSelection.basePairStart + innerSelectionLength * this.shiftPercent;\n    let newStop = this.innerSelection.basePairStop + innerSelectionLength * this.shiftPercent;\n    if (newStop > this.baseSelection.basePairStop)\n    {\n      newStart = this.baseSelection.basePairStop - innerSelectionLength;\n      newStop = this.baseSelection.basePairStop;\n    }\n\n    return this.generateInnerSelection(newStart, newStop, overviewBasePairToHeightRatio);\n  }\n}\n","/**\n * Colors are based on the UCSC color palette: https://nanx.me/ggsci/reference/pal_ucscgb.html (the 2nd 'pastel' colored one)\n */\nconst CHROMOSOME_COLOR_MAP: {[key: string]: string} = {\n  '1': '#ff7e76',\n  '2': '#fec27e',\n  '3': '#fde083',\n  '4': '#91ff87',\n  '5': '#a4c2ff',\n  '6': '#e289ff',\n  '7': '#c2c280',\n  '8': '#c2c2c2',\n  '9': '#ff7de2',\n  '10': '#e47773',\n  '11': '#ffe0e1',\n  '12': '#fcff89',\n  '13': '#e0ff88',\n  '14': '#89b374',\n  '15': '#6666e2',\n  '16': '#c3e0ff',\n  '17': '#91ffff',\n  '18': '#e0ffff',\n  '19': '#c572e2',\n  '20': '#e0c2ff',\n  '21': '#c3a374',\n  '22': '#a3a371',\n  'X': '#a3a3a3',\n  'Y': '#e0e0e0',\n  'MT': '#b2e190',\n  '2A': '#e0e0c2',\n  // Ran out of colors from the UCSC color palette\n  '2B': '#a52a2a'\n};\n\nconst UNMAPPED_CHROMOSOME_COLOR = '#a52a2a'; // brown\n\nexport class ChromosomeDTO\n{\n  mapKey: number = 0;\n  chromosome: string = '';\n  seqLength: number = 0;\n  gapLength: number = 0;\n  gapCount: number = 0;\n  contigCount: number = 0;\n  ordinalNumber: number = 0;\n}\n\nexport default class Chromosome extends ChromosomeDTO\n{\n  constructor(dto: ChromosomeDTO)\n  {\n    super();\n    Object.assign(this, dto);\n  }\n\n  static getColor(chromosome: string)\n  {\n    return CHROMOSOME_COLOR_MAP[chromosome] ?? UNMAPPED_CHROMOSOME_COLOR;\n  }\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TrackSVG.vue?vue&type=style&index=0&id=3fbf01da&lang=scss&scoped=true\"","import Map from '@/models/Map';\n\nexport class SpeciesDTO\n{\n  typeKey: number = 0;\n  name: string = '';\n  defaultMapKey: number = 0;\n  maps: Map[] = [];\n}\n\nexport default class Species extends SpeciesDTO\n{\n  activeMap: Map;\n\n  constructor(dto: SpeciesDTO)\n  {\n    super();\n    Object.assign(this, dto);\n    this.activeMap = this.maps?.filter(m => m.key === this.defaultMapKey)[0];\n  }\n\n  public copy()\n  {\n    return new Species({\n      typeKey: this.typeKey,\n      name: this.name,\n      defaultMapKey: this.defaultMapKey,\n      maps: this.maps\n    });\n  }\n}\n","export class MapDTO\n{\n  key: number = 0;\n  name: string = '';\n  description: string = '';\n  notes: string = '';\n  primaryRefAssembly: boolean = false;\n}\n\nexport default class Map extends MapDTO\n{\n  constructor(dto: MapDTO)\n  {\n    super();\n    Object.assign(this, dto);\n  }\n}","import httpInstance from '@/api/httpInstance';\nimport Species from '@/models/Species';\nimport MapType from '@/models/Map';\nimport Chromosome from '@/models/Chromosome';\nimport Gene from '@/models/Gene';\n\nexport default class SpeciesApi\n{\n  static async getSpecies(): Promise<Species[]>\n  {\n    const speciesRes = await httpInstance.get(`/vcmap/species`);\n    const speciesList: Species[] = [];\n    for (const species of speciesRes.data)\n    {\n      const mapsList: MapType[] = [];\n      let defaultMapKey = null;\n      for (const map of species.maps)\n      {\n        if (map.primaryRefAssembly)\n        {\n          defaultMapKey = map.key;\n        }\n        mapsList.push(new MapType({ key: map.key, name: map.name, description: map.description, notes: map.notes, primaryRefAssembly: map.primaryRefAssembly }));\n      }\n\n      speciesList.push(new Species({ typeKey: species.speciesTypeKey, name: species.name, defaultMapKey: defaultMapKey ?? species.maps[0].key, maps: mapsList }));\n    }\n    return speciesList;\n  }\n\n  static async getMaps(speciesTypeKey: Number):  Promise<MapType[]>\n  {\n    const res = await httpInstance.get(`/lookup/maps/${speciesTypeKey}`);\n    const mapsList: MapType[] = [];\n\n    for (const map in res.data)\n    {\n      const mapInfo = res.data[map];\n      mapsList.push(new MapType({ key: mapInfo.key, name: mapInfo.name, description: mapInfo.description, notes: mapInfo.notes, primaryRefAssembly: mapInfo.primaryRefAssembly }));\n    }\n\n    return mapsList;\n  }\n\n  static async getChromosomes(mapKey: Number):  Promise<Chromosome[]>\n  {\n    const res = await httpInstance.get(`/vcmap/maps/${mapKey}/chromosomes`);\n    const chrList: Chromosome[] = [];\n    const chrInfo = res.data;\n\n    for (const chr in chrInfo)\n    {\n      const chrData = chrInfo[chr];\n      chrList.push(new Chromosome({ mapKey: chrData.mapKey, chromosome: chrData.chromosome, seqLength: chrData.seqLength, gapLength: chrData.gapLength, gapCount: chrData.gapCount, contigCount: chrData.contigCount, ordinalNumber: chrData.ordinalNumber }));\n    }\n\n    return chrList;\n  }\n\n  static async getChromosomeInfo(chr: String, mapKey: Number):  Promise<Chromosome>\n  {\n    const res = await httpInstance.get(`/maps/chr/${chr}/${mapKey}`);\n    const chrInfo = res.data;\n    const chromosome: Chromosome = new Chromosome({ mapKey: chrInfo.mapKey, chromosome: chrInfo.chromosome, seqLength: chrInfo.seqLength, gapLength: chrInfo.gapLength, gapCount: chrInfo.gapCount, contigCount: chrInfo.contigCount, ordinalNumber: chrInfo.ordinalNumber });\n    return chromosome;\n  }\n\n\n  static async getGenesBySymbol(mapKey: Number, speciesName: string, symbolPrefix: String):  Promise<any>\n  {\n    const res = await httpInstance.get(`/vcmap/genes/map/${mapKey}?symbolPrefix=${symbolPrefix}`);\n\n    const geneList: Gene[] = [];\n\n    for (const gene in res.data)\n    {\n      const geneInfo = res.data[gene];\n      geneList.push(new Gene({ speciesName: speciesName, geneSymbol: geneInfo.gene.symbol, geneName: geneInfo.gene.name, geneType: geneInfo.gene.type, key: geneInfo.gene.key, geneRgdId: geneInfo.gene.rgdId, chr: geneInfo.chromosome, startPos: geneInfo.start, stopPos: geneInfo.stop, }));\n    }\n\n    return geneList;\n  }\n\n  static async getGenesByRegion(chromosome: String, start: Number, stop: Number, mapKey: Number, speciesName: string):  Promise<any>\n  {\n    const res = await httpInstance.get(`/genes/mapped/${chromosome}/${start}/${stop}/${mapKey}`);\n\n    const geneList: Gene[] = [];\n\n    for (const gene in res.data)\n    {\n      const geneInfo = res.data[gene];\n      geneList.push(new Gene({\n        geneSymbol: geneInfo.gene.symbol,\n        geneName: geneInfo.gene.name,\n        geneType: geneInfo.gene.type,\n        key: geneInfo.gene.key,\n        geneRgdId: geneInfo.gene.rgdId,\n        chr: geneInfo.chromosome,\n        startPos: geneInfo.start,\n        stopPos: geneInfo.stop,\n        speciesName: speciesName\n      }));\n    }\n\n    return geneList;\n  }\n\n  static async getGeneOrthologs(mapKey: Number, chromosome: String, start: Number, stop: Number, compMapKeys: Number[]):  Promise<any>\n  {\n    let mapKeyString = '';\n    for (let index = 0; index < compMapKeys.length; index++)\n    {\n      const key = compMapKeys[index];\n      index == compMapKeys.length -1 ? mapKeyString += key : mapKeyString += key + ',';\n    }\n    const res = await httpInstance.get(`/vcmap/genes/orthologs/${mapKey}/${chromosome}/${start}/${stop}}?mapKeys=${mapKeyString.toString()}`);\n    \n    const orthologList = new Map<string, any>();\n    for (const gene in res.data)\n    {\n      const geneInfo = res.data[gene];\n\n      orthologList.set(geneInfo.gene.geneSymbol, geneInfo.orthologs);\n    }\n    return orthologList;\n  }\n}","/**\n * Example app config. Copy and paste this file into this same directory (<root>/app/config/) \n * and rename it to `app.config.ts`\n *\n * API_BASE_URL: The fully qualified URL (with http scheme) to the RGD API web services\n *   (e.g. 'https://dev.rgd.mcw.edu/rgdws')\n */\n\nexport default {\n  API_BASE_URL: 'https://rest.rgd.mcw.edu/rgdws'\n\t\n};\n","import Axios from 'axios';\nimport config from '@/../config/app.config';\n\nif (!config.API_BASE_URL)\n{\n  console.warn('API_BASE_URL is not defined in your app configuration');\n}\n\nconst axiosInstance = Axios.create({\n  baseURL: config.API_BASE_URL\n});\n\nexport default axiosInstance;","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Zoom.vue?vue&type=style&index=0&id=11011324&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./OverviewControls.vue?vue&type=style&index=0&id=390543bb&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./HeaderPanel.vue?vue&type=style&index=0&id=7cf21b18&lang=scss&scoped=true\"","export default {\n  overviewPanelWidth: 300,\n  detailsPanelWidth: 500,\n  overviewTitleXPosition: 10,\n  detailsTitleXPosition: 310,\n  panelTitleYPosition: 15,\n  panelTitleHeight: 55,\n  backboneXPosition: 260,\n  viewboxHeight: 440,\n  trackWidth: 20,\n  dataTrackWidth: 10,\n  overviewTrackYPosition: 70,\n  trackLabelYPosition: 25,\n  trackMapLabelYPosition: 35,\n  selectedBackboneXPosition: 320,\n  navigationButtonHeight: 15,\n};","module.exports = __webpack_public_path__ + \"img/vcmap_logo_v2.b3987237.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./GeneInfo.vue?vue&type=style&index=0&id=25164ecc&lang=scss&scoped=true\"","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderSlot as _renderSlot, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createVNode as _createVNode, isRef as _isRef, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { computed } from 'vue';\n\n/**\n * Can use v-model:show to do 2 way binding\n */\ninterface Props \n{\n  header: string;\n  message?: string;\n  show: boolean;\n  theme?: 'error' | 'normal'\n}\n\ninterface Emits\n{\n  // eslint-disable-next-line\n  (eventName: 'update:show', value: boolean): void\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    header: { type: String, required: true },\n    message: { type: String, required: false },\n    show: { type: Boolean, required: true },\n    theme: { type: String, required: false }\n  },\n  emits: [\"update:show\"],\n  setup(__props: any, { emit }: { emit: ({\n  // eslint-disable-next-line\n  (eventName: 'update:show', value: boolean): void\n}), expose: any, slots: any, attrs: any }) {\n\nconst props = __props as {\n  header: string;\n  message?: string;\n  show: boolean;\n  theme?: 'error' | 'normal'\n}\n\n\n\nconst isActive = computed({\n  get() {\n    return props.show;\n  },\n  set(value: boolean) {\n    emit('update:show', value);\n  }\n});\n\nconst close = () => {\n  emit('update:show', false);\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Button = _resolveComponent(\"Button\")!\n  const _component_Dialog = _resolveComponent(\"Dialog\")!\n\n  return (_openBlock(), _createBlock(_component_Dialog, {\n    header: props.header,\n    visible: _unref(isActive),\n    \"onUpdate:visible\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(isActive) ? isActive.value = $event : null)),\n    class: \"vcmap-dialog\",\n    breakpoints: {'960px': '75vw', '640px': '100vw'},\n    draggable: false,\n    closable: false,\n    modal: true\n  }, {\n    footer: _withCtx(() => [\n      _renderSlot(_ctx.$slots, \"footer\", {}, () => [\n        _createVNode(_component_Button, {\n          label: \"Ok\",\n          class: _normalizeClass({'p-button-danger': (props.theme === 'error')}),\n          onClick: close,\n          autofocus: \"\"\n        }, null, 8, [\"class\"])\n      ])\n    ]),\n    default: _withCtx(() => [\n      _createElementVNode(\"p\", null, _toDisplayString(props.message), 1),\n      _renderSlot(_ctx.$slots, \"content\", {}, () => [\n        _createElementVNode(\"p\", null, _toDisplayString(props.message), 1)\n      ])\n    ]),\n    _: 3\n  }, 8, [\"header\", \"visible\"]))\n}\n}\n\n})","import script from \"./VCMapDialog.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./VCMapDialog.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./VCMapDialog.vue?vue&type=style&index=0&id=a15c115c&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./VCMapDialog.vue?vue&type=style&index=0&id=a15c115c&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./SVGViewbox.vue?vue&type=style&index=0&id=5cb6aa6e&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./SelectedDataPanel.vue?vue&type=style&index=0&id=3e872db8&lang=scss&scoped=true\"","<template>\n  <router-view/>\n</template>\n\n<style lang=\"scss\">\n/** Project wide SCSS */\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n\n.logo\n{\n  height: 4rem;\n}\n\n.version-label\n{\n  font-size: 0.75rem;\n  margin-left: 0.5rem;\n}\n\n.grid\n{\n  &.unpadded\n  {\n    padding: 0;\n    div[class^=\"col-\"]\n    {\n      padding-top: 0.1rem;\n      padding-bottom: 0;\n    }\n  }\n\n  div.bold\n  {\n    font-weight: bold;\n  }\n}\n\n.label.small\n{\n  font: normal 8px sans-serif;\n}\n\n.label.medium\n{\n  font: normal 11px sans-serif;\n}\n\n.label.bold\n{\n  font-style: bold;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=3db6875f\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=3db6875f&lang=scss\"\n\nimport exportComponent from \"/Users/jdepons/git/vcmap-ui/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import TrackSection from \"./TrackSection\";\nimport OrthologLine from \"./OrthologLine\";\nimport Gene from \"./Gene\";\n\n/**\n * Model that represents the Selected Data that will appear when Selected Data Panel\n */\nexport default class SelectedData\n{\n  genomicSection: TrackSection | OrthologLine | Gene;\n  type: string;\n\n  constructor(section: TrackSection | OrthologLine | Gene, type: string)\n  {\n    this.genomicSection = section;\n    this.type = type;\n  }\n\n}","import Gene from '@/models/Gene';\nimport SelectedData from '@/models/SelectedData';\nimport { Store } from \"vuex\";\nimport { VCMapState } from \"@/store\";\nimport TrackSection from '@/models/TrackSection';\n// Util methods to help process and update selection info\nexport function getGeneOrthologIds(store: Store<VCMapState>, gene: Gene) {\n  const geneOrthologs = store.state.selectedBackboneRegion.orthologData.get(gene.symbol);\n  let geneOrthologIds: number[] = [];\n  if (geneOrthologs) {\n    geneOrthologIds = Object.keys(geneOrthologs).map((geneKey) => geneOrthologs[geneKey][0].geneRgdId);\n  }\n  return geneOrthologIds;\n}\n\nexport function getNewSelectedData(store: Store<VCMapState>, gene: Gene): {rgdIds: number[], selectedData: SelectedData[]} {\n  const loadedGenes = store.state.loadedGenes as Map<string, any> ;\n  const backboneSpecies = store.state.species?.name || '';\n  const geneSpecies = gene.speciesName || '';\n  const comparativeSpecies = store.state.comparativeSpecies;\n  const compSpeciesNameMap = new Map<Number, string>();\n  comparativeSpecies.forEach((species: any) => compSpeciesNameMap.set(species.activeMap.key, species.name));\n  let geneOrthologs: any;\n  let selectedData: SelectedData[];\n  let rgdIds: number[];\n  // If the selected gene is on the backbone, just search the ortholog data and set the new data\n  if (geneSpecies === backboneSpecies) \n  {\n    geneOrthologs = store.state.selectedBackboneRegion.orthologData.get(gene.symbol);\n    selectedData = [new SelectedData(gene, 'Gene')];\n    rgdIds = [gene.rgdId, ...getGeneOrthologIds(store, gene)];\n  } \n  else \n  { \n    // otherwise we'll search the ortholog data if there's an ortholog matching this gene\n    // get the mapKey from the selected gene\n    const mapKey = [...compSpeciesNameMap].filter(entry => entry[1] === geneSpecies).map(entry => entry[0]);\n    // Check if there is a backone ortholog\n    const orthologResult = getOrthologsFromComparativeSpecies(store, gene, mapKey[0]);\n    geneOrthologs = orthologResult.orthologData;\n    const backboneSymbol = orthologResult.backboneSymbol;\n    // Check if we have the backbone gene loaded\n    let backboneGene = backboneSymbol ? loadedGenes.get(backboneSymbol.toLowerCase()) : null;\n    if (backboneGene)\n    {\n      backboneGene.has(backboneSpecies.toLowerCase()) ? backboneGene = backboneGene[backboneSpecies.toLowerCase()] : backboneGene = null;\n    }\n    // If the backbone gene is loaded, set that selected data, otherwise, just set the selected gene\n    selectedData = backboneGene ? [new SelectedData(backboneGene.gene, 'Gene')] : [new SelectedData(gene, 'Gene')];\n    rgdIds = backboneGene ? [backboneGene.rgdId, ...getGeneOrthologIds(store, backboneGene)] : [gene.rgdId];\n  }\n  // Go through the ortholog data for the backbone gene if it exists,\n  // and update the selected data object with the ortholog genes\n  if (geneOrthologs) {\n    const geneKeys = Object.keys(geneOrthologs);\n    for (let i = 0; i < geneKeys.length; i++) {\n      const ortholog = new Gene({\n        ...geneOrthologs[geneKeys[i]][0],\n        speciesName: compSpeciesNameMap.get(parseInt(geneKeys[i], 10))\n      });\n      selectedData.push(new SelectedData(ortholog, 'Gene'));\n    }\n  }\n  return {rgdIds: rgdIds, selectedData: selectedData} ;\n}\n\nexport function sortGeneList(geneList: TrackSection[]) {\n  // for combined or hiddent gene lists, sort LOC\n  // genes to end of list, otherwise sort alphabetically\n  geneList.sort((geneA, geneB) => {\n    const isGeneALOC = geneA.gene?.symbol.startsWith('LOC') || false;\n    const isGeneBLOC = geneB.gene?.symbol.startsWith('LOC') || false;\n    if (isGeneALOC && isGeneBLOC) {\n      const geneASymbol = geneA.gene?.symbol.toLowerCase() || '';\n      const geneBSymbol = geneB.gene?.symbol.toLowerCase() || '';\n      return (geneASymbol < geneBSymbol) ? -1 : (geneASymbol > geneBSymbol) ? 1 : 0;\n    }\n    else if (isGeneALOC) {\n      return 1;\n    }\n    else if (isGeneBLOC) {\n      return -1;\n    }\n    const geneASymbol = geneA.gene?.symbol.toLowerCase() || '';\n    const geneBSymbol = geneB.gene?.symbol.toLowerCase() || '';\n    return (geneASymbol < geneBSymbol) ? -1 : (geneASymbol > geneBSymbol) ? 1 : 0;\n  });\n}\n\nfunction getOrthologsFromComparativeSpecies(store: Store<VCMapState>, gene: Gene, mapKey: Number) {\n  const orthologData = store.state.selectedBackboneRegion.orthologData;\n  // Iterate through the entries in the orthologData map\n  const backboneOrthologKey = [...orthologData.entries()]\n      // Filter for an ortholog matching the selected gene's symbol\n      .filter((entry: any) => {\n        // Use the mapKey for this gene to only search the relevant ortholog results\n        if (entry[1][mapKey.toString()]) \n        {\n          const orthologGeneIdx = entry[1][mapKey.toString()]\n            .find((ortholog: any) => { ortholog.geneSymbol.toLowerCase() == gene.symbol.toLowerCase(); }) || -1;\n          return orthologGeneIdx !== -1;\n        } \n        else \n        {\n          return false;\n        }\n      })\n      // And then map for the symbol (key) of the backbone gene\n      .map((entry: any) => entry[0]);\n\n  // return the symbol for the backbone gene and the ortholog data\n  return {backboneSymbol: backboneOrthologKey[0], orthologData: orthologData.get(backboneOrthologKey[0])};\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, unref as _unref, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-3fbf01da\")\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"defs\", null, [\n  /*#__PURE__*/_createElementVNode(\"linearGradient\", {\n    id: \"selectedStripes\",\n    gradientUnits: \"userSpaceOnUse\",\n    x2: \"5\",\n    spreadMethod: \"repeat\",\n    gradientTransform: \"rotate(-45)\"\n  }, [\n    /*#__PURE__*/_createElementVNode(\"stop\", {\n      offset: \"0\",\n      \"stop-color\": \"gray\"\n    }),\n    /*#__PURE__*/_createElementVNode(\"stop\", {\n      offset: \"0.40\",\n      \"stop-color\": \"gray\"\n    }),\n    /*#__PURE__*/_createElementVNode(\"stop\", {\n      offset: \"0.40\",\n      \"stop-color\": \"lightgray\"\n    }),\n    /*#__PURE__*/_createElementVNode(\"stop\", {\n      offset: \"1.0\",\n      \"stop-color\": \"lightgray\"\n    })\n  ])\n], -1)\nconst _hoisted_2 = [\"x\", \"y\"]\nconst _hoisted_3 = [\"onMouseenter\", \"onMouseleave\", \"stroke\", \"x1\", \"x2\", \"y1\", \"y2\"]\nconst _hoisted_4 = [\"onMouseenter\", \"onMouseleave\", \"onClick\", \"x\", \"y\"]\nconst _hoisted_5 = [\"onMouseenter\", \"onMouseleave\", \"onClick\", \"fill\", \"fill-opacity\", \"x\", \"y\", \"width\", \"height\"]\nconst _hoisted_6 = [\"x1\", \"x2\", \"y1\", \"y2\"]\nconst _hoisted_7 = [\"onMouseenter\", \"onMouseleave\", \"fill\", \"x\", \"y\", \"width\", \"height\"]\nconst _hoisted_8 = [\"x1\", \"x2\", \"y1\", \"y2\"]\nconst _hoisted_9 = [\"x\", \"y\"]\nconst _hoisted_10 = [\"x1\", \"x2\", \"y1\", \"y2\"]\nconst _hoisted_11 = [\"x1\", \"x2\", \"y1\", \"y2\"]\nconst _hoisted_12 = [\"x\", \"width\", \"height\"]\n_popScopeId()\n\nimport { watch, onMounted} from 'vue';\nimport SelectedData from '@/models/SelectedData';\nimport Track from '@/models/Track';\nimport OrthologLine from '@/models/OrthologLine';\nimport TrackSection from '@/models/TrackSection';\nimport { toRefs } from '@vue/reactivity';\nimport { useStore } from 'vuex';\nimport SVGConstants from '@/utils/SVGConstants';\nimport { getMousePosSVG } from '@/utils/SVGHelpers';\nimport { key } from '@/store';\nimport { sortGeneList, getNewSelectedData, getGeneOrthologIds } from '@/utils/DataPanelHelpers';\n\ninterface Props \n{\n  showSyntenyOnHover?: boolean;\n  showStartStop?: boolean;\n  showChromosome?: boolean;\n  showGeneLabel?: boolean;\n  geneDataTrack?: boolean;\n  posX: number;\n  width: number;\n  track: Track;\n  lines?: OrthologLine[] | undefined;\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    showSyntenyOnHover: { type: Boolean, required: false },\n    showStartStop: { type: Boolean, required: false },\n    showChromosome: { type: Boolean, required: false },\n    showGeneLabel: { type: Boolean, required: false },\n    geneDataTrack: { type: Boolean, required: false },\n    posX: { type: Number, required: true },\n    width: { type: Number, required: true },\n    track: { type: null, required: true },\n    lines: { type: [Array, null], required: false }\n  },\n  setup(__props: any) {\n\nconst props = __props as {\n  showSyntenyOnHover?: boolean;\n  showStartStop?: boolean;\n  showChromosome?: boolean;\n  showGeneLabel?: boolean;\n  geneDataTrack?: boolean;\n  posX: number;\n  width: number;\n  track: Track;\n  lines?: OrthologLine[] | undefined;\n}\nconst LEVEL_2_WIDTH_MULTIPLIER = 0.75;\nconst LABEL_Y_OFFSET = 3;\nconst HOVER_HIGHLIGHT_COLOR = '#FF7C60';\nconst SELECTED_HIGHLIGHT_COLOR = '#FF4822';\n\nconst store = useStore(key);\nconst svg = document.querySelector('svg');\n\n\n\n//Converts each property in this object to its own reactive prop\ntoRefs(props);\n\n// update highlighting if selected genes change\nwatch(() => store.state.selectedGeneIds, () => {\n  highlightSelections(store.state.selectedGeneIds);\n});\n\n// Set up highlighting on mount, to handle selection updates\nonMounted(() => {\n  highlightSelections(store.state.selectedGeneIds);\n});\n\nconst onMouseEnter = (event: any, section: TrackSection, type: string) => {\n  \n  if (type === 'trackSection' || type === 'geneLabel') \n  {\n    if (section)\n    {\n      section.isHovered = true;\n    }\n  }\n  // If there are selected genes, don't update the selected data panel\n  if (store.state.selectedGeneIds.length === 0) {\n    const selectedData = new SelectedData(section, type);\n    store.dispatch('setSelectedData', [selectedData]);\n  }\n};\n\nconst onMouseLeave = (section: TrackSection, type: string) => {\n  if (type === 'trackSection' || type === 'geneLabel') \n  {\n    if (section && section.isHovered == true)\n    {\n      section.isHovered = false;\n    }\n  }\n  // Only reset data onMouseLeave if there isn't a selected gene\n  if (store.state.selectedGeneIds.length === 0) {\n    store.dispatch('setSelectedData', null);\n  }\n};\n\nconst onClick = (event: any, section: TrackSection, type: string) => {\n  if (!section.gene?.rgdId) {\n    return;\n  }\n  // If clicked section already selected, just reset the selectedGeneId state\n  if (store.state.selectedGeneIds.includes(section.gene?.rgdId || -1)) {\n    store.dispatch('setSelectedGeneIds', []);\n    store.dispatch('setSelectedData', null);\n    return;\n  }\n\n  // If shift key is held, we'll just add to the selections, otherwise, reset first\n  let geneIds: number[] = event.shiftKey ? [...store.state.selectedGeneIds] : [];\n\n  // Get the list of genes to build the selected data, if this is a gene label, we\n  // add all the combined genes to the selected data panel\n  // Otherwise if its a track section, we'll add the hidden genes\n  let newSelectedData: SelectedData[] = [];\n  const geneSectionList = type === 'geneLabel' ? [section, ...(section.combinedGenes || [])] : [section, ...(section.hiddenGenes || [])];\n  if (geneSectionList && geneSectionList.length > 0) {\n    // If this is a geneLabel, we're going to set all combined genes as \"selected\"\n    geneSectionList.forEach((section) => geneIds.push(section.gene.rgdId));\n    // Alphabetically sort the combined/hidden gene lists (LOC genes at end of list)\n    sortGeneList(geneSectionList);\n    // Set the new selected data from gene list\n    geneSectionList.forEach((section) => {\n      if (section.gene) {\n        const newData = getNewSelectedData(store, section.gene);\n        const geneAndOrthologs = newData.selectedData;\n        const newGeneIds = newData.rgdIds;\n        newSelectedData.push(...geneAndOrthologs);\n        geneIds.push(...newGeneIds);\n      }\n    });\n  }\n\n  store.dispatch('setSelectedGeneIds', geneIds || []);\n  if (event.shiftKey) {\n    const selectedDataArray = [...(store.state.selectedData || []), ...newSelectedData];\n    store.dispatch('setSelectedData', selectedDataArray);\n  } else {\n    store.dispatch('setSelectedData', newSelectedData);\n  }\n};\n\nconst highlightSelections = (selectedGeneIds: number[]) => {\n  // Look through the sections and highlight based on selected genes\n  props.track.sections.forEach((section) => {\n    if (checkSectionForGene(section, selectedGeneIds)) {\n      section.isSelected = true;\n    } else {\n      section.isSelected = false;\n    }\n  });\n  // Highlight the line if needed, and make sure genes highlighted too\n  // (this ensures backbone and comparitive genes are highlighted, regardless of which is clicked)\n  props.lines?.forEach((line) => {\n    if (selectedGeneIds.includes(line.backboneGene.gene?.rgdId || -1) ||\n        selectedGeneIds.includes(line.comparativeGene.gene?.rgdId || -1)) {\n      line.isSelected = true;\n      line.backboneGene.isSelected = true;\n      line.comparativeGene.isSelected = true;\n    } else {\n      line.isSelected = false;\n    }\n  });\n\n  // After selecting the sections, check if we should use alt labels\n  props.track.geneLabels.forEach((label) => {\n    // Only consider geneLabels that are already visible anyway\n    if (label.isVisible) {\n      // If the main gene for this section is selected, we'll use the normal label\n      let useAltLabel = false;\n      if (selectedGeneIds.includes(label.section.gene.rgdId)) {\n        useAltLabel = false;\n      } else { // Otherwise if any selected ids exist in the alt labels, we'll use an alt label\n        const altLabelIds = label.section.altLabels.map((label) => label.rgdId);\n        if (selectedGeneIds.some((id) => altLabelIds.includes(id))) {\n          useAltLabel = true;\n        }\n      }\n      label.section.showAltLabel = useAltLabel;\n    }\n  });\n};\n\nconst checkSectionForGene = (section: TrackSection, selectedGeneIds: number[]) => {\n  if (selectedGeneIds.includes(section.gene?.rgdId || -1)) {\n    return true;\n  }\n  if (section.hiddenGenes) {\n    for (let i = 0; i < section.hiddenGenes.length; i++) {\n      if(selectedGeneIds.includes(section.hiddenGenes[i].gene?.rgdId || -1)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\nconst getSectionFill = (section: TrackSection) => {\n  if (section.isSelected) {return SELECTED_HIGHLIGHT_COLOR;}\n  if (section.isHovered) {return HOVER_HIGHLIGHT_COLOR;}\n  return section.color;\n};\n\nconst getLabelText = (label: any) => {\n  if (!label.section.showAltLabel) {\n    return label.text;\n  } else {\n    const selectedGeneIds = store.state.selectedGeneIds;\n    const altLabelOptions = label.section.altLabels.filter((label) => selectedGeneIds.includes(label.rgdId));\n    let newLabelText = label.text;\n    for (let i = 0; i < altLabelOptions.length; i++) {\n      newLabelText = altLabelOptions[i].text;\n      // For now, just find the first label not starting iwth LOC\n      // Unless its the only selected gene available\n      if (!newLabelText.startsWith('LOC')) {\n        break;\n      }\n    }\n    return newLabelText;\n  }\n};\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.track.labels, (label, index) => {\n      return (_openBlock(), _createElementBlock(_Fragment, { key: index }, [\n        (__props.showStartStop && label.isVisible)\n          ? (_openBlock(), _createElementBlock(\"text\", {\n              key: 0,\n              \"data-test\": \"bp-label\",\n              class: \"label small\",\n              x: __props.posX + __props.width,\n              y: label.svgY + LABEL_Y_OFFSET\n            }, \" - \" + _toDisplayString(label.text), 9, _hoisted_2))\n          : _createCommentVNode(\"\", true)\n      ], 64))\n    }), 128)),\n    (__props.lines)\n      ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(__props.lines, (line, index) => {\n          return (_openBlock(), _createElementBlock(\"line\", {\n            key: index,\n            class: \"ortholog-line\",\n            onMouseenter: ($event: any) => (onMouseEnter($event, line, 'orthologLine')),\n            onMouseleave: ($event: any) => (onMouseLeave(line, 'orthologLine')),\n            stroke: (line.isSelected ? SELECTED_HIGHLIGHT_COLOR : 'lightgray'),\n            x1: __props.posX + __props.width,\n            x2: line.comparativeGeneX,\n            y1: line.backboneGeneY,\n            y2: line.comparativeGeneY\n          }, null, 40, _hoisted_3))\n        }), 128))\n      : _createCommentVNode(\"\", true),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.track.geneLabels, (label, index) => {\n      return (_openBlock(), _createElementBlock(_Fragment, { key: index }, [\n        (__props.showGeneLabel && label.isVisible)\n          ? (_openBlock(), _createElementBlock(\"text\", {\n              key: 0,\n              onMouseenter: ($event: any) => (onMouseEnter($event, label.section, 'geneLabel')),\n              onMouseleave: ($event: any) => (onMouseLeave(label.section, 'geneLabel')),\n              onClick: ($event: any) => (onClick($event, label.section, 'geneLabel')),\n              class: _normalizeClass((label.section.isSelected || label.section.showAltLabel ? 'bold-label' : 'label small')),\n              x: __props.posX + __props.width,\n              y: label.svgY + LABEL_Y_OFFSET\n            }, \" - \" + _toDisplayString(getLabelText(label)), 43, _hoisted_4))\n          : _createCommentVNode(\"\", true)\n      ], 64))\n    }), 128)),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.track.sections, (section, index) => {\n      return (_openBlock(), _createElementBlock(_Fragment, { key: index }, [\n        (section.shape !== 'line' && section.chainLevel !== 2)\n          ? (_openBlock(), _createElementBlock(\"rect\", {\n              key: 0,\n              \"data-test\": \"track-section-svg\",\n              class: \"section\",\n              onMouseenter: ($event: any) => (onMouseEnter($event, section, 'trackSection')),\n              onMouseleave: ($event: any) => (onMouseLeave(section, 'trackSection')),\n              onClick: ($event: any) => (onClick($event, section, 'trackSection')),\n              fill: getSectionFill(section),\n              \"fill-opacity\": __props.geneDataTrack ? .7 : 1,\n              x: __props.posX,\n              y: section.svgY,\n              width: __props.width,\n              height: section.height\n            }, null, 40, _hoisted_5))\n          : (section.shape === 'line' && section.chainLevel !== 2)\n            ? (_openBlock(), _createElementBlock(\"line\", {\n                key: 1,\n                \"data-test\": \"track-section-svg\",\n                class: \"section gap\",\n                x1: __props.posX + (__props.width / 2),\n                x2: __props.posX + (__props.width / 2),\n                y1: section.svgY,\n                y2: section.svgY2\n              }, null, 8, _hoisted_6))\n            : (section.shape !== 'line')\n              ? (_openBlock(), _createElementBlock(\"rect\", {\n                  key: 2,\n                  \"data-test\": \"track-section-svg\",\n                  class: \"section level-2\",\n                  onMouseenter: ($event: any) => (onMouseEnter($event, section, 'trackSection')),\n                  onMouseleave: ($event: any) => (onMouseLeave(section, 'trackSection')),\n                  fill: section.isHovered ? HOVER_HIGHLIGHT_COLOR : section.color,\n                  x: __props.posX + ((__props.width * (1 - LEVEL_2_WIDTH_MULTIPLIER)) / 2),\n                  y: section.svgY,\n                  width: __props.width * LEVEL_2_WIDTH_MULTIPLIER,\n                  height: section.height\n                }, null, 40, _hoisted_7))\n              : (section.shape === 'line')\n                ? (_openBlock(), _createElementBlock(\"line\", {\n                    key: 3,\n                    \"data-test\": \"track-section-svg\",\n                    class: \"section gap\",\n                    x1: __props.posX + (__props.width / 2),\n                    x2: __props.posX + (__props.width / 2),\n                    y1: section.svgY,\n                    y2: section.svgY2\n                  }, null, 8, _hoisted_8))\n                : _createCommentVNode(\"\", true),\n        (__props.showChromosome && section.height > 15 && section.shape !== 'line')\n          ? (_openBlock(), _createElementBlock(\"text\", {\n              key: 4,\n              class: \"chromosome-label\",\n              x: __props.posX + (__props.width / 2),\n              y: section.svgY + (section.height / 2),\n              \"dominant-baseline\": \"middle\",\n              \"text-anchor\": \"middle\"\n            }, _toDisplayString(section.chromosome), 9, _hoisted_9))\n          : _createCommentVNode(\"\", true),\n        (__props.showSyntenyOnHover)\n          ? (_openBlock(), _createElementBlock(_Fragment, { key: 5 }, [\n              (section.isHovered)\n                ? (_openBlock(), _createElementBlock(\"line\", {\n                    key: 0,\n                    class: \"section connection-line\",\n                    x1: __props.posX + __props.width,\n                    x2: _unref(SVGConstants).backboneXPosition,\n                    y1: section.svgY,\n                    y2: (section.isInverted) ? section.svgY2 : section.svgY\n                  }, null, 8, _hoisted_10))\n                : _createCommentVNode(\"\", true),\n              (section.isHovered)\n                ? (_openBlock(), _createElementBlock(\"line\", {\n                    key: 1,\n                    class: \"section connection-line\",\n                    x1: __props.posX + __props.width,\n                    x2: _unref(SVGConstants).backboneXPosition,\n                    y1: section.svgY2,\n                    y2: (section.isInverted) ? section.svgY : section.svgY2\n                  }, null, 8, _hoisted_11))\n                : _createCommentVNode(\"\", true)\n            ], 64))\n          : _createCommentVNode(\"\", true)\n      ], 64))\n    }), 128)),\n    _createElementVNode(\"rect\", {\n      class: \"panel\",\n      x: _unref(SVGConstants).overviewPanelWidth,\n      width: _unref(SVGConstants).detailsPanelWidth,\n      height: _unref(SVGConstants).panelTitleHeight\n    }, null, 8, _hoisted_12)\n  ], 64))\n}\n}\n\n})","import script from \"./TrackSVG.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TrackSVG.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TrackSVG.vue?vue&type=style&index=0&id=3fbf01da&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/jdepons/git/vcmap-ui/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3fbf01da\"]])\n\nexport default __exports__","import TrackSet from '@/models/TrackSet';\nimport { ref } from 'vue';\n\n/**\n * Composable that holds all of our logic related to the VCMapDialog and whether or not it should be shown\n */\nexport default function useDialog() {\n  const showDialog = ref(false);\n  const dialogHeader = ref('');\n  const dialogMessage = ref('');\n\n  const onError = (err: any, userMessage: string) => {\n    console.error(err);\n    dialogHeader.value = 'Error';\n    dialogMessage.value = userMessage;\n    showDialog.value = true;\n  };\n  \n  const showNoResultsDialog = () => {\n    dialogHeader.value = 'No Results';\n    dialogMessage.value = 'No syntenic regions were found for the selected species and base pair range.';\n    showDialog.value = true;\n  };\n  \n  const showPartialResultsDialog = (emptyTracks: TrackSet[]) => {\n    dialogHeader.value = 'Missing Results';\n    dialogMessage.value = `We did not find syntenic regions for the following species: ${emptyTracks.map(t => `${t.speciesTrack.name} (${t.speciesTrack.mapName})`).join(', ')}`;\n    showDialog.value = true;\n  };\n  \n  const checkSyntenyResultsOnComparativeSpecies = (comparativeTracks: TrackSet[]) => {\n    const resultsFound = comparativeTracks.some(trackSet => trackSet.speciesTrack.sections.length > 0);\n      if (!resultsFound)\n      {\n        showNoResultsDialog();\n      }\n      else if (comparativeTracks.some(trackSet => trackSet.speciesTrack.sections.length === 0))\n      {\n        // If only some results were found -- notify user about which ones produced no results\n        const emptyTracks = comparativeTracks.filter(trackSet => trackSet.speciesTrack.sections.length === 0);\n        showPartialResultsDialog(emptyTracks);\n      }\n  };\n\n  return {\n    onError, \n    checkSyntenyResultsOnComparativeSpecies,\n    dialogHeader,\n    dialogMessage,\n    showDialog\n  };\n}","/**\n * Helper method to get the coordinates of an event in the SVG viewbox\n */\nexport function getMousePosSVG(svg: SVGSVGElement | null, event: any)\n{\n  if (svg == null)\n  {\n    // For some reason, trying to create an instance of DOMPoint here causes a reference error in our unit tests\n    return { y: 0, x: 0 };\n  }\n\n  let p = svg.createSVGPoint();\n  p.x = event.clientX;\n  p.y = event.clientY;\n  const ctm = svg.getScreenCTM()?.inverse();\n  p = p.matrixTransform(ctm);\n  return p;\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-2e2eb8f4\")\nconst _hoisted_1 = [\"onMouseenter\", \"onMouseleave\", \"fill\", \"x\", \"y\", \"width\", \"height\"]\nconst _hoisted_2 = [\"x1\", \"x2\", \"y1\", \"y2\"]\nconst _hoisted_3 = [\"x\", \"y\"]\nconst _hoisted_4 = [\"x\", \"y\"]\nconst _hoisted_5 = [\"x\", \"y\", \"width\", \"height\"]\nconst _hoisted_6 = [\"x\", \"y\", \"width\", \"height\"]\nconst _hoisted_7 = [\"x\", \"y\"]\nconst _hoisted_8 = [\"x\", \"y\"]\nconst _hoisted_9 = [\"x\", \"y\"]\nconst _hoisted_10 = [\"x\", \"y\"]\n_popScopeId()\n\nimport BackboneSelection, { SelectedRegion } from '@/models/BackboneSelection';\nimport SelectedData from '@/models/SelectedData';\nimport Track, { Label } from '@/models/Track';\nimport TrackSection from '@/models/TrackSection';\nimport { toRefs } from '@vue/reactivity';\nimport { ref, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport SVGConstants from '@/utils/SVGConstants';\nimport { getMousePosSVG } from '@/utils/SVGHelpers';\nimport { key } from '@/store';\nimport { Formatter } from '@/utils/Formatter';\n\ninterface Props\n{\n  showDataOnHover?: boolean;\n  posX: number;\n  track: Track;\n  isDetailed?: boolean;\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    showDataOnHover: { type: Boolean, required: false },\n    posX: { type: Number, required: true },\n    track: { type: null, required: true },\n    isDetailed: { type: Boolean, required: false }\n  },\n  setup(__props: any) {\n\nconst props = __props as {\n  showDataOnHover?: boolean;\n  posX: number;\n  track: Track;\n  isDetailed?: boolean;\n}\nconst INNER_SELECTION_EXTRA_WIDTH = 4;\nconst START_LABEL_Y_OFFSET = -3;\nconst END_LABEL_Y_OFFSET = 7;\nconst HIGHLIGHT_COLOR = 'bisque';\n\nconst store = useStore(key);\nconst svg = document.querySelector('svg');\n\n\n\n//Converts each property in this object to its own reactive prop\ntoRefs(props);\nconst selectedRegion = ref(new BackboneSelection(new SelectedRegion(0,0,0,0), store.state.chromosome ?? undefined));\n\nwatch(() => store.state.selectedBackboneRegion, (newVal: BackboneSelection, oldVal: BackboneSelection) => {\n  // Watch for possible clear out of the selected backbone region\n  if (!props.isDetailed && oldVal.baseSelection.svgHeight > 0 && newVal.baseSelection.svgHeight === 0)\n  {\n    selectedRegion.value = new BackboneSelection(new SelectedRegion(0,0,0,0), store.state.chromosome ?? undefined);\n  }\n  else if (!props.isDetailed && newVal.baseSelection.svgHeight > 0)\n  {\n    selectedRegion.value = newVal;\n  }\n}, { deep: true });\n\nconst getAdjustedLabelY = (label: Label, index: number) => {\n  if (props.isDetailed)\n  {\n    if (label.svgY - SVGConstants.panelTitleHeight < 10)\n    {\n      return label.svgY + 3;\n    }\n    else if (label.svgY - (SVGConstants.panelTitleHeight + (SVGConstants.viewboxHeight -  SVGConstants.navigationButtonHeight)) < 10)\n    {\n      return label.svgY;\n    }\n  }\n\n  return index > 0 ? label.svgY + END_LABEL_Y_OFFSET : label.svgY + START_LABEL_Y_OFFSET;\n};\n\nconst onMouseEnter = (event: any, section: TrackSection, type: string) => {\n  \n  if (type === 'trackSection' || type === 'geneLabel') \n  {\n    if (section)\n    {\n      section.isHovered = true;\n    }\n  }\n  // Only set selected data if there are no selected genes\n  if (store.state.selectedGeneIds.length === 0) {\n    let currentSVGPoint = getMousePosSVG(svg, event);\n    const selectedData = new SelectedData(section, type);\n    store.dispatch('setSelectedData', [selectedData]);\n  }\n};\n\nconst onMouseLeave = (section: TrackSection, type: string) => {\n  if (type === 'trackSection' || type === 'geneLabel') \n  {\n    if (section && section.isHovered == true)\n    {\n      section.isHovered = false;\n    }\n  }\n  // Only reset selected data if there are no selected genes\n  if (store.state.selectedGeneIds.length === 0) {\n    store.dispatch('setSelectedData', null);\n  }\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.track.sections, (section, index) => {\n    return (_openBlock(), _createElementBlock(_Fragment, { key: index }, [\n      (section.shape !== 'line')\n        ? (_openBlock(), _createElementBlock(\"rect\", {\n            key: 0,\n            \"data-test\": \"track-section-svg\",\n            class: \"section\",\n            onMouseenter: ($event: any) => (onMouseEnter($event, section, 'trackSection')),\n            onMouseleave: ($event: any) => (onMouseLeave(section, 'trackSection')),\n            fill: section.isHovered && __props.showDataOnHover ? HIGHLIGHT_COLOR : section.color,\n            x: __props.posX,\n            y: section.svgY,\n            width: _unref(SVGConstants).trackWidth,\n            height: section.height\n          }, null, 40, _hoisted_1))\n        : (_openBlock(), _createElementBlock(\"line\", {\n            key: 1,\n            \"data-test\": \"track-section-svg\",\n            class: \"section gap\",\n            x1: __props.posX + (_unref(SVGConstants).trackWidth / 2),\n            x2: __props.posX + (_unref(SVGConstants).trackWidth / 2),\n            y1: section.svgY,\n            y2: section.svgY + section.height\n          }, null, 8, _hoisted_2)),\n      (section.shape !== 'line')\n        ? (_openBlock(), _createElementBlock(\"text\", {\n            key: 2,\n            class: \"chromosome-label\",\n            x: __props.posX + (_unref(SVGConstants).trackWidth / 2),\n            y: section.svgY + (section.height / 2),\n            \"dominant-baseline\": \"middle\",\n            \"text-anchor\": \"middle\"\n          }, _toDisplayString(section.chromosome), 9, _hoisted_3))\n        : _createCommentVNode(\"\", true),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.track.labels, (label, index) => {\n        return (_openBlock(), _createElementBlock(_Fragment, { key: index }, [\n          (label.isVisible)\n            ? (_openBlock(), _createElementBlock(\"text\", {\n                key: 0,\n                \"data-test\": \"bp-label\",\n                class: \"label small\",\n                x: __props.posX - (_unref(SVGConstants).trackWidth/2),\n                y: getAdjustedLabelY(label, index)\n              }, _toDisplayString(label.text), 9, _hoisted_4))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n      }), 128)),\n      (!__props.isDetailed && selectedRegion.value.baseSelection.svgHeight > 0)\n        ? (_openBlock(), _createElementBlock(\"rect\", {\n            key: 3,\n            \"data-test\": \"selected-region\",\n            class: \"selected-region\",\n            fill: \"#000\",\n            \"fill-opacity\": \"0.3\",\n            stroke: \"#333\",\n            \"stroke-width\": \"1\",\n            x: __props.posX,\n            y: selectedRegion.value.baseSelection.svgYPoint,\n            width: _unref(SVGConstants).trackWidth,\n            height: selectedRegion.value.baseSelection.svgHeight\n          }, null, 8, _hoisted_5))\n        : _createCommentVNode(\"\", true),\n      (!__props.isDetailed && selectedRegion.value.innerSelection && selectedRegion.value.innerSelection.svgHeight > 0)\n        ? (_openBlock(), _createElementBlock(\"rect\", {\n            key: 4,\n            stroke: \"green\",\n            fill: \"green\",\n            \"fill-opacity\": \"0.5\",\n            x: __props.posX - 2,\n            y: selectedRegion.value.innerSelection.svgYPoint,\n            width: _unref(SVGConstants).trackWidth + INNER_SELECTION_EXTRA_WIDTH,\n            height: selectedRegion.value.innerSelection.svgHeight\n          }, null, 8, _hoisted_6))\n        : _createCommentVNode(\"\", true),\n      (!__props.isDetailed && selectedRegion.value.baseSelection.svgYPoint > 75)\n        ? (_openBlock(), _createElementBlock(\"text\", {\n            key: 5,\n            class: \"label small\",\n            x: __props.posX - 3,\n            y: selectedRegion.value.baseSelection.svgYPoint - 1\n          }, _toDisplayString(_unref(Formatter).convertBasePairToLabel(selectedRegion.value.baseSelection.basePairStart)), 9, _hoisted_7))\n        : _createCommentVNode(\"\", true),\n      (!__props.isDetailed && (selectedRegion.value.baseSelection.svgYPoint + selectedRegion.value.baseSelection.svgHeight) < 405)\n        ? (_openBlock(), _createElementBlock(\"text\", {\n            key: 6,\n            class: \"label small\",\n            x: __props.posX - 3,\n            y: selectedRegion.value.baseSelection.svgYPoint + selectedRegion.value.baseSelection.svgHeight + 6\n          }, _toDisplayString(_unref(Formatter).convertBasePairToLabel(selectedRegion.value.baseSelection.basePairStop)), 9, _hoisted_8))\n        : _createCommentVNode(\"\", true),\n      (!__props.isDetailed && selectedRegion.value.innerSelection?.svgHeight > 0 && selectedRegion.value.innerSelection?.svgYPoint - selectedRegion.value.baseSelection.svgYPoint > 6)\n        ? (_openBlock(), _createElementBlock(\"text\", {\n            key: 7,\n            class: \"label small\",\n            x: __props.posX - 3,\n            y: selectedRegion.value.innerSelection?.svgYPoint - 1\n          }, _toDisplayString(_unref(Formatter).convertBasePairToLabel(selectedRegion.value.innerSelection.basePairStart)), 9, _hoisted_9))\n        : _createCommentVNode(\"\", true),\n      (!__props.isDetailed && selectedRegion.value.innerSelection?.svgHeight >= 6 && ((selectedRegion.value.baseSelection.svgYPoint + selectedRegion.value.baseSelection.svgHeight + 6) - (selectedRegion.value.innerSelection.svgYPoint + selectedRegion.value.innerSelection.svgHeight + 6) > 6))\n        ? (_openBlock(), _createElementBlock(\"text\", {\n            key: 8,\n            class: \"label small\",\n            x: __props.posX - 3,\n            y: selectedRegion.value.innerSelection?.svgYPoint + selectedRegion.value.innerSelection.svgHeight + 6\n          }, _toDisplayString(_unref(Formatter).convertBasePairToLabel(selectedRegion.value.innerSelection.basePairStop)), 9, _hoisted_10))\n        : _createCommentVNode(\"\", true)\n    ], 64))\n  }), 128))\n}\n}\n\n})","import script from \"./BackboneTrackSVG.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BackboneTrackSVG.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BackboneTrackSVG.vue?vue&type=style&index=0&id=2e2eb8f4&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/jdepons/git/vcmap-ui/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2e2eb8f4\"]])\n\nexport default __exports__","import SVGConstants from \"@/utils/SVGConstants\";\nimport Gene from \"./Gene\";\nimport { SpeciesSyntenyData } from \"./SyntenicRegion\";\nimport TrackSection from \"./TrackSection\";\n\ninterface TrackParams\n{\n  speciesName: string;\n  sections: TrackSection[];\n  mapName?: string;\n  speciesMap?: number;\n  isSyntenyTrack?: boolean;\n  startingSVGY: number;\n  type: 'backbone' | 'comparative' | 'gene';\n  rawGeneData?: Gene[];\n  rawSyntenyData?: SpeciesSyntenyData;\n}\n\nexport interface Label\n{\n  svgY: number;\n  text: string;\n  isVisible: boolean;\n  symbol?: string;\n  section?: TrackSection;\n}\n\nexport default class Track\n{\n  sections: TrackSection[] = [];\n  name: string;\n  mapName?: string;\n  speciesMap?: Number;\n  labels: Label[] = [];\n  geneLabels: Label[] = [];\n  startingSVGY: number = 0;\n  type = 'backbone';\n  rawGeneData?: Gene[]; // Tracks made from genes will populate this with the raw gene data it used from the API\n  rawSyntenyData?: SpeciesSyntenyData; // Tracks made from synteny will populate this with the raw syntenic region data it used from the API\n\n  constructor(params: TrackParams)\n  {\n    this.name = params.speciesName;\n    this.sections = params.sections;\n    this.mapName = params.mapName;\n    this.speciesMap = params.speciesMap;\n    this.startingSVGY = params.startingSVGY;\n    this.type = params.type;\n    this.rawGeneData = params.rawGeneData;\n    this.rawSyntenyData = params.rawSyntenyData;\n    this.setSectionSVGPositions(this.sections, params.isSyntenyTrack);\n  \n    this.buildAndSortLabelObjects(this.sections);\n    this.createCombinedGeneLabels(this.sections);\n  }\n\n  public get height()\n  {\n    let totalHeight = 0;\n    this.sections.forEach(section => {\n      totalHeight += section.height + section.offsetHeight;\n    });\n    return totalHeight;\n  }\n\n  public get svgY()\n  {\n    if (this.sections.length > 0)\n    {\n      return this.sections[0].svgY;\n    }\n\n    return 0;\n  }\n\n  /**\n   * Sets the starting Y position of each track section based on the height of the previous section\n   * and any offsets that might need to be applied for gaps.\n   */\n  private setSectionSVGPositions(sections: TrackSection[], isSyntenyTrack?: boolean)\n  {\n    if (isSyntenyTrack)\n    {\n      const level1Sections = sections.filter(s => s.chainLevel === 1);\n      const level2Sections = sections.filter(s => s.chainLevel === 2);\n      // Set the SVG Y position of each section according to the other sections it its level\n      level1Sections.forEach((section, index) => this.setSectionYPosition(section, index, level1Sections));\n      level2Sections.forEach((section, index) => this.setSectionYPosition(section, index, level2Sections));\n\n      // The order of the sections in the array determines the order in which SVGs will be drawn. Sections at the end\n      // will be closer to the foreground while sections at the beginning will be closer to the background.\n      this.sections = level2Sections.filter(s => s.shape === 'line') // level 2 gaps should be in the background\n        .concat(level1Sections.filter(s => s.shape !== 'line')) // level 1 blocks\n        .concat(level2Sections.filter(s => s.shape !== 'line')) // level 2 blocks\n        .concat(level1Sections.filter(s => s.shape === 'line')); // level 1 gaps should be in the foreground\n    }\n    else\n    {\n      sections.forEach((section, index) => this.setSectionYPosition(section, index, sections));\n    }\n  }\n\n  private setSectionYPosition(section: TrackSection, index: number, sections: TrackSection[])\n  {\n    // If track is in the overview, leave some space between the title panels and the track\n    let currentYPos = this.startingSVGY;\n    let previousSectionIndex = index - 1;\n    while (previousSectionIndex >= 0 && index !== 0)\n    {\n      const previousTrackSection = sections[previousSectionIndex];\n      currentYPos += previousTrackSection.height + previousTrackSection.offsetHeight;\n      previousSectionIndex--;\n    }\n\n    // Add offset if one is defined\n    currentYPos += section.offsetHeight;\n\n    if (this.type === 'gene')\n    {\n      if (section.svgY !== 0)\n      {\n        return section.svgY;\n      }\n    }\n\n    section.svgY = currentYPos;\n  }\n\n  private buildAndSortLabelObjects(sections: TrackSection[])\n  {\n    const labels: Label[] = [];\n    sections.forEach(s => {\n      labels.push({\n        svgY: s.svgY - SVGConstants.panelTitleHeight <= 3 ? s.svgY + 5 : s.svgY,\n        text: s.startBPLabel ?? '',\n        isVisible: false\n      });\n      labels.push({\n        svgY: (SVGConstants.viewboxHeight - SVGConstants.navigationButtonHeight) - s.svgY2 <= 3 ? s.svgY2 - 5 : s.svgY2,\n        text: s.stopBPLabel ?? '',\n        isVisible: false\n      });\n    });\n\n    labels.sort((a, b) => a.svgY - b.svgY);\n\n    labels.forEach((label, index) => {\n      if (index === 0)\n      {\n        label.isVisible = true;\n        return;\n      }\n\n      // Find nearest, previous visible label\n      let previousLabel: Label | undefined;\n      let currentIndex = index - 1;\n      while (previousLabel == null && currentIndex >= 0)\n      {\n        if (labels[currentIndex].isVisible)\n        {\n          previousLabel = labels[currentIndex];\n        }\n        currentIndex--;\n      }\n\n      if (previousLabel == null || (label.svgY - previousLabel.svgY > 10))\n      {\n        label.isVisible = true;\n      }\n    });\n    this.labels = labels;\n  }\n\n  private createCombinedGeneLabels(drawnSections: TrackSection[])\n  {\n    //sort genes by longest to shortest\n    drawnSections.sort((a, b) => b.height - a.height);\n    \n    //create labels for each gene, track section with labels using map\n    const geneLabelsArray: any[] = [];\n    let labels: Label[] = [];\n\n    \n    drawnSections.forEach(s => {\n      if (!s.gene || !s.isVisible)\n      {\n        return;\n      }\n      const labelObject = {svgY: s.svgY - SVGConstants.panelTitleHeight <= 3 ? (s.svgY + 5): s.svgY + (s.height/2), text: s.geneLabel ?? '', isVisible: false, };\n      labels.push(labelObject);\n      geneLabelsArray.push({'key': Math.trunc(labelObject.svgY).toString(), 'labelShown': false, 'labelCombined': false, 'labelY': labelObject.svgY, 'trackSection': s});\n    });\n\n    //labels are sorted in order of longest gene to shortest\n    for (let index = 0; index < labels.length; index++)\n    {\n      const label = labels[index];\n      const labelSections = geneLabelsArray.filter((geneLabel) => geneLabel.key === Math.trunc(label.svgY).toString());\n      for (let i = 0; i < labelSections.length; i++) {\n        const labelSection = labelSections[i];\n        if (labelSection)\n        {\n          if (labelSection.labelCombined)\n          {\n            labelSection.labelShown = false;\n            continue;\n          }\n\n          //check for labels above and below the current label that would overlap\n          for (let keyDiff = 1; keyDiff < 10; keyDiff++)\n          {\n            const aboveKey = (Math.trunc(label.svgY) - keyDiff).toString();\n            const belowKey = (Math.trunc(label.svgY) + keyDiff).toString();\n\n            const aboveKeyCheck = geneLabelsArray.findIndex((geneLabel) => geneLabel.key === aboveKey);\n            const belowKeyCheck = geneLabelsArray.findIndex((geneLabel) => geneLabel.key === belowKey);\n\n            if (aboveKeyCheck !== -1)\n            {\n              const sectionsAbove = geneLabelsArray.filter((geneLabel) => geneLabel.key === aboveKey);\n              //gene has already been combined into a label\n              for (let i = 0; i < sectionsAbove.length; i++) {\n                const sectionAbove = sectionsAbove[i];\n                if (sectionAbove.labelCombined)\n                {\n                  sectionAbove.labelShown = false;\n                }\n                else if (labelSection.trackSection.gene.symbol.split(\"\", 3).join(\"\").toLowerCase() == 'loc')\n                {\n                  sectionAbove.trackSection.combinedGenes ? sectionAbove.trackSection.combinedGenes.push(labelSection.trackSection) : sectionAbove.trackSection.combinedGenes = [labelSection.trackSection];\n                  sectionAbove.trackSection.altLabels = [...sectionAbove.trackSection.altLabels, ...labelSection.trackSection.altLabels];\n                  labelSection.labelCombined = true;\n                  labelSection.labelShown = false;\n                  continue;\n                }\n                else\n                {\n                  labelSection.trackSection.combinedGenes ? labelSection.trackSection.combinedGenes.push(sectionAbove.trackSection) : labelSection.trackSection.combinedGenes = [sectionAbove.trackSection];\n                  labelSection.trackSection.altLabels = [...labelSection.trackSection.altLabels, ...sectionAbove.trackSection.altLabels];\n                  if (sectionAbove.trackSection.combinedGenes)\n                  {\n                    sectionAbove.trackSection.combinedGenes.forEach((section: TrackSection) => {\n                      labelSection.trackSection.combinedGenes.push(section);\n                      labelSection.trackSection.altLabels = [...labelSection.trackSection.altLabels, ...section.altLabels];\n                    });\n                  } \n                  sectionAbove.labelCombined = true;\n                }\n              }\n            }\n            if (belowKeyCheck !== -1)\n            {\n              const sectionsBelow = geneLabelsArray.filter((geneLabel) => geneLabel.key === belowKey);\n              for (let i = 0; i < sectionsBelow.length; i++) {\n                const sectionBelow = sectionsBelow[i];\n                if (sectionBelow.labelCombined)\n                {\n                  sectionBelow.labelShown = false;\n                }\n                else if (labelSection.trackSection.gene.symbol.split(\"\", 3).join(\"\").toLowerCase() == 'loc')\n                {\n                  sectionBelow.trackSection.combinedGenes ? sectionBelow.trackSection.combinedGenes.push(labelSection.trackSection) : sectionBelow.trackSection.combinedGenes = [labelSection.trackSection];\n                  sectionBelow.trackSection.altLabels = [...sectionBelow.trackSection.altLabels, ...labelSection.trackSection.altLabels];\n                  labelSection.labelCombined = true;\n                  labelSection.labelShown = false;\n                  continue;\n                }\n                else\n                {\n                  labelSection.trackSection.combinedGenes ? labelSection.trackSection.combinedGenes.push(sectionBelow.trackSection) : labelSection.trackSection.combinedGenes = [sectionBelow.trackSection];\n                  labelSection.trackSection.altLabels = [...labelSection.trackSection.altLabels, ...sectionBelow.trackSection.altLabels];\n                  if (sectionBelow.trackSection.combinedGenes)\n                  {\n                    sectionBelow.trackSection.combinedGenes.forEach((section: TrackSection) => {\n                      labelSection.trackSection.combinedGenes.push(section);\n                      labelSection.trackSection.altLabels = [...labelSection.trackSection.altLabels, ...section.altLabels];\n                    });\n                  } \n                  sectionBelow.labelCombined = true;\n                }\n              }\n            }\n\n            // Only show the first label if there are multiple for this section\n            if (i === 0) {\n              labelSection.labelShown = true;\n            }\n          }\n        }\n      }\n    }\n\n    labels = [];\n    geneLabelsArray.forEach((value) => {\n      const labelObject = {svgY: value.labelY, text: value.trackSection.geneLabel, isVisible: value.labelShown, section: value.trackSection};\n      labels.push(labelObject);\n    });\n\n    this.geneLabels = labels;\n  }\n}","import Track from \"./Track\";\nimport OrthologLine from \"./OrthologLine\";\n\nexport default class DataTrack\n{\n  type: string;\n  name: string;\n  color: string;\n  track: Track;\n  isDisplayed: boolean;\n  isComparativeView: boolean;\n  orthologLines: OrthologLine[];\n\n  constructor(type: string, name: string, track: Track, color: string)\n  {\n    this.type = type;\n    this.name = name;\n    this.track = track;\n    this.color = color;\n    this.isDisplayed = false;\n    this.isComparativeView = false;\n    this.orthologLines = [];\n  }\n\n  public setIsDisplayed(isDisplayed: boolean)\n  {\n    this.isDisplayed = isDisplayed;\n  }\n\n  public setIsComparativeView(isComparativeView: boolean)\n  {\n    this.isComparativeView = isComparativeView;\n  }\n\n  public setColor(color: string)\n  {\n    this.color = color;\n  }\n\n  public setOrthologLines(orthologLines: OrthologLine[])\n  {\n    this.orthologLines = orthologLines;\n  }\n}","import Gene from './Gene';\nexport interface SpeciesSyntenyData\n{\n  speciesName: string;\n  mapName: string;\n  mapKey: number;\n  regionData: SyntenyRegionData[];\n  allGenes?: Gene[];\n  allGenesMap?: Map<string, any>;\n}\n\nexport interface SyntenyRegionData\n{\n  block: SyntenicRegion;\n  gaps: SyntenicRegion[];\n  genes: Gene[];\n}\n\nexport class SyntenicRegionDTO\n{\n  backboneMapKey: number = 0;\n  backboneChromosome: string = '';\n  backboneStart: number = 0;\n  backboneStop: number = 0;\n  mapKey: number = 0;\n  chromosome: string = '';\n  start: number = 0;\n  stop: number = 0;\n  orientation: string = '';\n  chainLevel: number = 0;\n  chainType: string = 'top';\n}\n\nexport default class SyntenicRegion extends SyntenicRegionDTO\n{\n  constructor(dto: SyntenicRegionDTO)\n  {\n    super();\n    Object.assign(this, dto);\n  }\n\n  public get length()\n  {\n    return this.stop - this.start;\n  }\n}","import httpInstance from '@/api/httpInstance';\nimport SyntenicRegion, { SpeciesSyntenyData, SyntenicRegionDTO, SyntenyRegionData } from '@/models/SyntenicRegion';\nimport Chromosome from '@/models/Chromosome';\nimport Species from '@/models/Species';\nimport Gene from '@/models/Gene';\n\ninterface SyntenyBlocksParams\n{\n  backboneChromosome: Chromosome; \n  start: number; \n  stop: number;\n  threshold?: number;\n  includeGenes?: number; //if includeGenes=1 genes are included for each synteny block\n}\n\nexport default class SyntenyApi\n{\n  static async getSyntenicRegions(params: SyntenyBlocksParams, comparativeSpecies: Species[])\n  {\n    try\n    {\n      const syntenyApiCalls: Promise<any>[] = [];\n      const comparativeSpeciesMaps = comparativeSpecies.map(s => s.activeMap);\n      comparativeSpeciesMaps.forEach(map => {\n        let apiRoute = `/vcmap/synteny/${params.backboneChromosome?.mapKey}/${params.backboneChromosome?.chromosome}/${params.start}/${params.stop}/${map.key}`;\n\n        if (params.threshold != null && params.threshold > 0)\n        {\n          apiRoute += `?threshold=${params.threshold}`;\n\n          if (params.includeGenes != null && params.includeGenes == 1)\n          {\n            apiRoute += `&includeGenes=${params.includeGenes}`;\n          }\n        }\n\n        else if (params.includeGenes != null && params.includeGenes == 1)\n        {\n          apiRoute += `?includeGenes=${params.includeGenes}`;\n        }\n\n        syntenyApiCalls.push(httpInstance.get(apiRoute));\n      });\n\n      const syntenyResults = await Promise.allSettled(syntenyApiCalls);\n      const speciesSyntenyData: SpeciesSyntenyData[] = [];\n      syntenyResults.forEach((result, index) => {\n        const regions: SyntenyRegionData[] = [];\n        const allGenes: Gene[] = [];\n        if (result.status === 'fulfilled')\n        {\n          result.value.data.forEach((regionData: any) => {\n            const block = new SyntenicRegion(regionData.block as SyntenicRegionDTO);\n            const gaps = regionData.gaps?.map((g: any) => new SyntenicRegion(g as SyntenicRegionDTO));\n            const genes: Gene[] = [];\n            regionData.genes?.forEach((gene: any) => {\n              const currGene = new Gene(gene);\n              currGene.speciesName = comparativeSpecies[index].name;\n              genes.push(currGene);\n            });\n            Array.prototype.push.apply(allGenes, genes);\n            regions.push({\n              block: block,\n              gaps: gaps ?? [],\n              genes: genes ?? [],\n            });\n          });\n        }\n        else\n        {\n          console.error(result.status, result.reason);\n        }\n\n        speciesSyntenyData.push({\n          speciesName: comparativeSpecies[index].name,\n          mapName: comparativeSpeciesMaps[index].name,\n          mapKey: comparativeSpeciesMaps[index].key,\n          regionData: regions,\n          allGenes: allGenes,\n        });\n        console.debug(`Syntenic regions found for mapKey '${comparativeSpeciesMaps[index].key}', threshold: '${params.threshold}': ${regions.length}`);\n      });\n\n      return speciesSyntenyData;\n    }\n    catch (error)\n    {\n      console.error(error);\n    }\n  }\n}","import { Formatter } from '@/utils/Formatter';\nimport BackboneSelection, { SelectedRegion } from './BackboneSelection';\nimport Chromosome from './Chromosome';\nimport Gene from './Gene';\n\ninterface TrackSectionParams\n{\n  start: number; // starting base pair of this section, following the direction of its orientation (start could be larger than stop if inverted)\n  stop: number; // ending base pair of this section, following the direction of its orientation (stop could be smaller than start if inverted)\n  backboneStart: number; // base pair on the backbone that this section's starting base pair lines up with\n  backboneStop: number; // base pair on the backbone that this section's ending base pair lines up with\n  chromosome: string; // chromosome name\n  cutoff: number; // last base pair that is displayed for the backbone\n  offsetCount?: number; // number of base pairs before this section should begin, useful for knowing when to begin drawing the section\n  basePairToHeightRatio: number; // number of base pairs per unit of height in the SVG, use the Resolution module to get the correct ratio\n  svgY?: number; // the Y position of the section on the SVG\n  color?: string; // explicitly defined color of the section\n  shape: 'rect' | 'line';\n  gene?: Gene; // optional - the gene that this section represents\n  hiddenGenes?: TrackSection[]; // optional - list of gene track sections that are hidden due to threshold or contained by this section\n  combinedGenes?: TrackSection[]; // optional - list of gene track sections that are combined into this section label\n  isComparativeGene?: boolean; // optional - whether this section is a comparative section\n  chainLevel?: number;\n  isInverted?: boolean;\n  isVisible?: boolean;\n  blockId?: number;  //used to identify the block in the synteny track when processing genes\n}\n\nexport default class TrackSection\n{\n  sectionStart: number = 0;\n  sectionStop: number = 0;\n  backboneStart: number = 0;\n  backboneStop: number = 0;\n  chromosome: string = '';\n  chainLevel?: number;\n  gene?: Gene;\n  trackColor: string = '';\n  isHovered: boolean = false;\n  isSelected: boolean = false;\n  hiddenGenes?: TrackSection[] = [];\n  combinedGenes?: TrackSection[] = [];\n  altLabels: {rgdId: number, text: string}[] = [];\n  showAltLabel: boolean = false;\n  isComparativeGene?: boolean = false;\n  shape: 'rect' | 'line' = 'rect';\n  svgY: number = 0;\n  adjustedHeight?: number = 0;\n  isInverted: boolean = false;\n  isVisible: boolean = true;\n  _offsetCount: number = 0;\n  blockId?: number;\n  _backboneCutoff: number = 0;\n  _BPToHeightRatio: number = 0;\n  _displayBackboneStart: number = 0; // the displayed starting base pair position on the backbone that this section lines up with\n  _displayBackboneStop: number = 0; // the displayed ending base pair position on the backbone that this section lines up with\n\n  constructor(params: TrackSectionParams)\n  {\n    this.sectionStart = params.start;\n    this.sectionStop = params.stop;\n    this.backboneStart = params.backboneStart;\n    this.backboneStop = params.backboneStop;\n    this.chromosome = params.chromosome;\n    this.gene = params.gene;\n    this.trackColor = params.color ?? '';\n    this.hiddenGenes = [...params.hiddenGenes || []];\n    this.combinedGenes = [...params.hiddenGenes || []];\n    this.altLabels = params.hiddenGenes ? params.hiddenGenes.map((section) => {\n      return {rgdId: section.gene?.rgdId || -1, text: section.gene?.symbol || ''};\n    }) : [];\n    this.altLabels.unshift({rgdId: params.gene?.rgdId || -1, text: params.gene?.symbol || ''});\n    this.isComparativeGene = params.isComparativeGene;\n    this.shape = params.shape;\n    this._backboneCutoff = params.cutoff;\n    this._offsetCount = params.offsetCount ?? 0;\n    this._BPToHeightRatio = params.basePairToHeightRatio;\n    this.chainLevel = params.chainLevel;\n    this.isInverted = params.isInverted ?? false;\n    this.isVisible = params.isVisible ?? true;\n    this.blockId = params.blockId;\n    params.svgY ? this.svgY = params.svgY : this.svgY = 0;\n\n    // Calculate the display start BP and stop BP relative to the backbone that this section might aligning against:\n    this.calculateDisplayedBPRegionRelativeToBackbone();\n  }\n\n  public get color()\n  {\n    let color;\n    color = Chromosome.getColor(this.chromosome);\n    this.trackColor == '' ? color : color = this.trackColor;\n    return color;\n  }\n\n  public get startBPLabel()\n  {\n    if (this._displayBackboneStart !== this.backboneStart)\n    {\n      return Formatter.convertBasePairToLabel(this.sectionStart + (this._displayBackboneStart - this.backboneStart));\n    }\n\n    return Formatter.convertBasePairToLabel(this.sectionStart);\n  }\n\n  public get stopBPLabel()\n  {\n    if (this._displayBackboneStop !== this.backboneStop)\n    {\n      return Formatter.convertBasePairToLabel(this.sectionStop - (this.backboneStop - this._displayBackboneStop));\n    }\n\n    return Formatter.convertBasePairToLabel(this.sectionStop);\n  }\n\n  public get regionLabel()\n  {\n    const start = this.isInverted ? this.sectionStop : this.sectionStart;\n    const stop = this.isInverted ? this.sectionStart : this.sectionStop;\n\n    return Formatter.addCommasToBasePair(start) + ' - ' + Formatter.addCommasToBasePair(stop);\n  }\n\n  public get geneLabel()\n  {\n    if (this.gene)\n    {\n      let geneName = this.gene.symbol;\n      let truncatedGenes = '';\n\n      if (!this.combinedGenes && !this.hiddenGenes)\n      {\n        return geneName;\n      }\n\n      if (this.combinedGenes && this.combinedGenes.length > 0)\n      {\n        // Combined genes for this section includes hidden genes plus the added combined\n        // So the number of genes represented is combined + 1 (the gene itself)\n        truncatedGenes = `...(${this.combinedGenes.length + 1})`;\n      }\n      else if (this.hiddenGenes && this.hiddenGenes.length > 0)\n      {\n        truncatedGenes = `...(${this.hiddenGenes.length})`;\n      }\n      \n      if (truncatedGenes.length > 0)\n      {\n        truncatedGenes.length > 9 ? geneName = geneName.substring(0, 4) : geneName = geneName.substring(0, 5);\n        geneName += truncatedGenes;\n      }\n      else\n      {\n        if (geneName.length > 9)\n        {\n          geneName = geneName.substring(0, 10) + '...';\n        }\n      }\n      return geneName;\n    }\n  }\n\n  // Getter for the height of this section in SVG units\n  public get height()\n  {\n    if (!this.isVisible)\n    {\n      return 0;\n    }\n    let height = (this._displayBackboneStop - this._displayBackboneStart) / this._BPToHeightRatio;\n    if (this.adjustedHeight)\n    {\n      height = this.adjustedHeight;\n    }\n    return height;\n  }\n\n  // Getter for the ending SVG Y point\n  public get svgY2()\n  {\n    let svgY2 = this.svgY + this.height;\n    if (this.adjustedHeight)\n    {\n      svgY2 = this.svgY + this.adjustedHeight;\n    }\n    return svgY2;\n  }\n\n  public get offsetHeight()\n  {\n    // offset height cannot be negative (happens if synteny block starts before start of the backbone region)\n    return (this._offsetCount >= 0) ? (this._offsetCount / this._BPToHeightRatio) : 0;\n  }\n\n  /**\n   * Creates a BackboneSelection object based on a desired selected region\n   * @param start starting basepair\n   * @param stop stopping basepair\n   * @param basePairToHeightRatio the ratio of bp/svg height units (depends on what panel the track section is rendered in)\n   * @param chromosome backbone chromosome model\n   * @returns a BackboneSelection object containing an inner selection of the same region\n   */\n  public generateBackboneSelection(start: number, stop: number, basePairToHeightRatio: number, chromosome: Chromosome)\n  {\n    const startingSVGY = this.svgY + (start - this.sectionStart) / basePairToHeightRatio;\n    const svgHeight = (stop - start) / basePairToHeightRatio;\n\n    const selection = new BackboneSelection(new SelectedRegion(startingSVGY, svgHeight, start, stop), chromosome);\n    selection.generateInnerSelection(start, stop, basePairToHeightRatio);\n    return selection;\n  }\n\n  private calculateDisplayedBPRegionRelativeToBackbone()\n  {\n    // The display start and stop BP can be different than the actual start/stop BPs of this section. The display is used\n    // to calculate the how tall the section is on the screen. If the base pair region of this section extends before or\n    // after the base pair region of the backbone it is being compared to, we want to modify the display BPs so that they line\n    // up appropriately with that region. This is why we use a `_backboneCutoff` prop when calculating the `displayStopBP` and why we\n    // might need to adjust the `displayStartBP` when the `_offsetCount` is negative (indicating that the start of this section extends\n    // above the backbone region).\n    this._displayBackboneStop = (this.backboneStop > this._backboneCutoff) ? this._backboneCutoff : this.backboneStop;\n    this._displayBackboneStart = (this._offsetCount >= 0) ? this.backboneStart : this.backboneStart - this._offsetCount;\n\n    if (this._displayBackboneStop < this._displayBackboneStart)\n    {\n      if (this.backboneStop > this._displayBackboneStart)\n      {\n        this._displayBackboneStop = this.backboneStop;\n      }\n      \n    }\n  }\n}","import SpeciesApi from \"@/api/SpeciesApi\";\nimport SyntenyApi from \"@/api/SyntenyApi\";\nimport Chromosome from \"@/models/Chromosome\";\nimport DataTrack from \"@/models/DataTrack\";\nimport Gene from \"@/models/Gene\";\nimport Species from \"@/models/Species\";\nimport SyntenicRegion, { SpeciesSyntenyData, SyntenyRegionData } from \"@/models/SyntenicRegion\";\nimport BackboneSelection from '@/models/BackboneSelection';\nimport Track from \"@/models/Track\";\nimport TrackSet from \"@/models/TrackSet\";\nimport TrackSection from \"@/models/TrackSection\";\nimport SVGConstants from \"./SVGConstants\";\n\n\nconst GENES_DATA_TRACK_THRESHOLD_MULTIPLIER = 5;\nconst GAPS_THRESHOLD_MULTIPLIER = 10;\n\n/**\n * Creates the backbone track model and sets the viewbox height based on the size of the backbone track\n */\nexport function createBackboneTrack(species: Species, chromosome: Chromosome, startPos: number, stopPos: number, basePairToHeightRatio: number, startingSVGYPos = SVGConstants.panelTitleHeight)\n{\n  const speciesName = species.name;\n  const backboneChromosomeString = chromosome.chromosome;\n  const trackSection = new TrackSection({\n    start: startPos,\n    stop: stopPos,\n    backboneStart: startPos, \n    backboneStop: stopPos, \n    chromosome: backboneChromosomeString, \n    cutoff: stopPos, \n    basePairToHeightRatio: basePairToHeightRatio,\n    shape: 'rect'\n  });\n  return new Track({ speciesName: speciesName, sections: [trackSection], startingSVGY: startingSVGYPos, mapName: species.activeMap.name, type: 'backbone' });\n}\n\n\n/**\n * Creates the synteny tracks for a particular set of comparative species\n */\nexport async function createSyntenyTracks(comparativeSpecies: Species[], backboneChr: Chromosome, backboneStart: number, backboneStop: number, basePairToHeightRatio: number, syntenyThreshold: number, startingSVGYPos: number, isComparative: boolean, backboneSelection: BackboneSelection)\n{\n  const speciesSyntenyDataArray =  isComparative ? await SyntenyApi.getSyntenicRegions({\n    backboneChromosome: backboneChr,\n    start: backboneStart,\n    stop: backboneStop,\n    threshold: syntenyThreshold,\n    includeGenes: 1,\n  }, comparativeSpecies)\n\n  :await SyntenyApi.getSyntenicRegions({\n    backboneChromosome: backboneChr,\n    start: backboneStart,\n    stop: backboneStop,\n    threshold: syntenyThreshold\n  }, comparativeSpecies);\n\n  const tracks: TrackSet[] = [];\n  speciesSyntenyDataArray?.forEach(speciesSyntenyData => {\n    const speciesTracks = createSyntenyTrackFromSpeciesSyntenyData(speciesSyntenyData, backboneStart, backboneStop, basePairToHeightRatio, syntenyThreshold, startingSVGYPos, backboneSelection, isComparative);\n    const speciesTrack = speciesTracks.speciesTrack;\n    const geneTrack = speciesTracks.geneTrack;\n    const geneMap = speciesTracks.geneMap as Map<string, any>;\n\n    if (geneMap.size > 0)\n    {\n      speciesSyntenyData.allGenesMap = geneMap;\n    }\n    \n    const geneDataTrack = new DataTrack('Genes', geneTrack.name + ' Detailed Genes', geneTrack, 'red');\n    geneDataTrack.setIsComparativeView(true);\n    geneDataTrack.isDisplayed = true;\n\n    const trackSet = new TrackSet(speciesTrack, [geneDataTrack]);\n    tracks.push(trackSet);\n  });\n\n  return {tracks: tracks, speciesSyntenyDataArray: speciesSyntenyDataArray};\n}\n\nexport function createSyntenyTrackFromSpeciesSyntenyData(speciesSyntenyData: SpeciesSyntenyData, backboneStart: number, backboneStop: number, basePairToHeightRatio: number, syntenyThreshold: number, startingSVGYPos: number, backboneSelection: BackboneSelection, isComparative: boolean)\n{\n  console.debug(`-- Building synteny track for species: ${speciesSyntenyData.speciesName} / ${speciesSyntenyData.mapName} --`);\n  const trackSections = splitLevel1And2RegionsIntoSections(speciesSyntenyData, backboneStart, backboneStop, basePairToHeightRatio, syntenyThreshold);\n  const speciesTrack = new Track({ speciesName: speciesSyntenyData.speciesName, speciesMap: speciesSyntenyData.mapKey, sections: trackSections.tracks, mapName: speciesSyntenyData.mapName, isSyntenyTrack: true, startingSVGY: startingSVGYPos, rawSyntenyData: speciesSyntenyData, type: 'comparative' });\n\n  const geneTrack = new Track({ speciesName: speciesSyntenyData.speciesName, sections: trackSections.genes, mapName: speciesSyntenyData.mapName, startingSVGY: startingSVGYPos, rawGeneData: [], type: 'gene' });\n  const geneMap = trackSections.geneMap;\n\n  return {'speciesTrack': speciesTrack , 'geneTrack': geneTrack, 'geneMap': geneMap};\n}\n\n/**\n * Creates the backbone data tracks (currently just genes)\n */\nexport async function createBackboneDataTracks(species: Species, chromosome: Chromosome, startPos: number, stopPos: number)\n{\n  const genes = await SpeciesApi.getGenesByRegion(chromosome.chromosome, startPos, stopPos, species.defaultMapKey, species.name);\n  return genes;\n}\n\nexport function createBackboneGeneTrackFromGenesData(genes: Gene[], speciesName: string, startPos: number, stopPos: number,  basePairToHeightRatio: number, isComparative: boolean, syntenyThreshold: number, startingSVGYPos: number, backboneSelection: BackboneSelection)\n{\n  const sections: TrackSection[] = [];\n  let hiddenSections: TrackSection[] = [];\n\n  const topSvgYCutoff = 55;\n  \n  const threshold = syntenyThreshold * GENES_DATA_TRACK_THRESHOLD_MULTIPLIER;\n  for (let index = 0; index < genes.length; index++)\n  {\n    const gene = genes[index];\n    let visibleFlag = true;\n    if (gene.stop < startPos || gene.start > stopPos)\n    {\n      visibleFlag = false;\n    }\n\n    const geneSize = gene.stop - gene.start;\n    const blockStartOffset = (gene.start - startPos ) / basePairToHeightRatio;\n    const geneSvgY = blockStartOffset + startingSVGYPos;\n\n    if ( geneSize < threshold)\n    {\n      const hiddenTrackSection = new TrackSection({\n        start: gene.start,\n        stop: gene.stop,\n        backboneStart: gene.start, \n        backboneStop: gene.stop, \n        chromosome: gene.chromosome, \n        cutoff: stopPos, \n        basePairToHeightRatio: basePairToHeightRatio,\n        shape: 'rect',\n        gene: gene,\n        isVisible: visibleFlag,\n      });\n\n      hiddenSections.push(hiddenTrackSection);\n    }\n    \n    else\n    {\n      const trackSection = new TrackSection({\n        start: gene.start,\n        stop: gene.stop,\n        backboneStart: gene.start, \n        backboneStop: gene.stop,\n        chromosome: gene.chromosome, \n        cutoff: stopPos,\n        svgY: geneSvgY, \n        basePairToHeightRatio: basePairToHeightRatio,\n        color: '#00000',\n        shape: 'rect',\n        gene: gene,\n        isVisible: visibleFlag,\n        hiddenGenes: hiddenSections.length > 0 ? hiddenSections : []\n      });\n\n      hiddenSections =  [];\n\n      //gene is above the top nav button, adjust to be cutoff correctly\n      /* if (geneSvgY < topSvgYCutoff && visibleFlag)\n      {\n        //bottom of gene is below nav button\n        if (trackSection.svgY2 > topSvgYCutoff)\n        {\n          const visibleHeight = trackSection.height - (topSvgYCutoff - trackSection.svgY);\n          \n          trackSection.adjustedHeight = visibleHeight > 0 ? visibleHeight : .01;\n          trackSection.svgY = topSvgYCutoff;\n        }\n      } */\n      \n      sections.push(trackSection);\n    }\n  }\n\n\n  let geneDataTrack;\n  const geneTrack = new Track({ speciesName: speciesName, sections: sections, startingSVGY: startingSVGYPos, rawGeneData: genes, type: 'gene' });\n\n  if (isComparative)\n  { \n    geneDataTrack = new DataTrack('Genes', speciesName + ' Detailed Genes', geneTrack, 'red');\n    geneDataTrack.setIsComparativeView(true);\n    geneDataTrack.isDisplayed = true;\n  }\n  else\n  {\n    geneDataTrack = new DataTrack('Genes', speciesName + ' Overview Genes', geneTrack, 'red');\n    geneDataTrack.isDisplayed = true;\n  }\n\n  return geneDataTrack;\n}\n\n\nfunction splitLevel1And2RegionsIntoSections(speciesSyntenyData: SpeciesSyntenyData, backboneStart: number, backboneStop: number, basePairToHeightRatio: number, threshold: number,)\n{\n  const regions: SyntenyRegionData[] = speciesSyntenyData.regionData;\n  console.debug('LEVEL 1');\n  const level1Sections = splitBlocksAndGapsIntoSections(\n    speciesSyntenyData,\n    regions.filter(r => r.block.chainLevel === 1),\n    backboneStart,\n    backboneStop,\n    basePairToHeightRatio,\n    threshold,\n  );\n  console.debug('LEVEL 2');\n  const level2Sections = splitBlocksAndGapsIntoSections(\n    speciesSyntenyData,\n    regions.filter(r => r.block.chainLevel === 2),\n    backboneStart,\n    backboneStop,\n    basePairToHeightRatio,\n    threshold,\n  );\n\n  const trackSections = level1Sections.tracks.concat(level2Sections.tracks);\n  const geneSections = level1Sections.geneSections.concat(level2Sections.geneSections);\n  const gaplessSections = level1Sections.gapless.concat(level2Sections.gapless);\n  const geneMap = level1Sections.geneMap;\n  \n  return {'tracks': trackSections as TrackSection[], 'genes': geneSections as TrackSection[], 'gapless': gaplessSections as TrackSection[], 'geneMap': geneMap as Map<string, any>};\n}\n\nfunction splitBlocksAndGapsIntoSections(speciesSyntenyData: SpeciesSyntenyData, regions: SyntenyRegionData[], backboneStart: number, backboneStop: number, basePairToHeightRatio: number, threshold: number)\n{\n  const trackSections: TrackSection[] = [];\n  const blockGenesMap = new Map<number, any>();\n  const gaplessBlockSections: TrackSection[] = [];\n\n  let previousBlockBackboneStop = backboneStart;\n  let previousGaplessBlockStop = backboneStart;\n\n  const filteredRegions = regions.filter(r => {\n    // Filter out blocks that are not at least partially in the selected/zoomed-in backbone region\n    return r.block.backboneStop > backboneStart && r.block.backboneStart < backboneStop;\n  });\n\n  let blockIdCounter = 1;\n  let processedBlockSections: TrackSection[] = [];\n  filteredRegions.forEach(region => {\n    const lastBlockId = blockIdCounter;\n    const block = region.block;\n    if (block.backboneStop <= backboneStart || block.backboneStart >= backboneStop)\n    {\n      return;\n    }\n\n    console.debug(`Filtering out gaps with threshold: ${threshold * GAPS_THRESHOLD_MULTIPLIER}`);\n    const gaps = region.gaps.filter(g => { \n      // Filter out:\n      // + gaps that are too small\n      // + gaps that are a different chain level than the block\n      // + gaps that are not at least partially in the selected/zoomed-in backbone region\n      return g.length >= threshold * GAPS_THRESHOLD_MULTIPLIER && g.chainLevel === block.chainLevel && g.backboneStop > backboneStart && g.backboneStart < backboneStop; \n    });\n\n    const isInverted = block.orientation === '-';\n\n    const visibleBlockEnds = calculateVisibleBlockEnds(block, backboneStart, backboneStop, isInverted);\n    const blockStart = visibleBlockEnds[0];\n    const blockStop = visibleBlockEnds[1];\n\n    const genes = region.genes;\n    const currGaplessBlockSection = new TrackSection({\n      start: block.start,\n      stop: block.stop,\n      backboneStart: block.backboneStart, \n      backboneStop: block.backboneStop, \n      chromosome: block.chromosome, \n      cutoff: backboneStop, \n      offsetCount: block.backboneStart - previousGaplessBlockStop,\n      basePairToHeightRatio: basePairToHeightRatio,\n      shape: 'rect',\n      chainLevel: block.chainLevel,\n      isInverted: isInverted,\n      blockId: blockIdCounter,\n    });\n    previousGaplessBlockStop = block.backboneStop;\n\n    gaplessBlockSections.push(currGaplessBlockSection);\n    blockGenesMap.set(blockIdCounter, {'genes': genes, 'sections': [], 'start': blockStart, 'stop': blockStop});\n    blockIdCounter++;\n\n    if (gaps.length === 0)\n    {\n      // No gaps, create section for this synteny block like normal\n      const blockSection = new TrackSection({\n        start: blockStart,\n        stop: blockStop,\n        backboneStart: block.backboneStart, \n        backboneStop: block.backboneStop, \n        chromosome: block.chromosome, \n        cutoff: backboneStop, \n        offsetCount: block.backboneStart - previousBlockBackboneStop,\n        basePairToHeightRatio: basePairToHeightRatio,\n        shape: 'rect',\n        chainLevel: block.chainLevel,\n        isInverted: isInverted,\n        blockId: lastBlockId,\n      });\n      trackSections.push(blockSection);\n      processedBlockSections.push(blockSection);\n\n      previousBlockBackboneStop = block.backboneStop;\n      return;\n    }\n\n    // Split the block and its gaps into their own TrackSections\n    gaps.forEach((gap, index) => {\n\n      const gapStart = (isInverted) ? gap.stop : gap.start;\n      const gapStop = (isInverted) ? gap.start : gap.stop;\n\n      if (index === 0 && (gap.backboneStart <= backboneStart))\n      {\n        // Block starts off with a gap\n        const gapSection = new TrackSection({\n          start: gapStart,\n          stop: gapStop,\n          backboneStart: gap.backboneStart, \n          backboneStop: gap.backboneStop, \n          chromosome: gap.chromosome, \n          cutoff: backboneStop, \n          offsetCount: gap.backboneStart - previousBlockBackboneStop,\n          basePairToHeightRatio: basePairToHeightRatio,\n          shape: 'line',\n          chainLevel: block.chainLevel,\n          isInverted: isInverted,\n        });\n        trackSections.push(gapSection);\n        processedBlockSections.push(gapSection);\n        \n      }\n      else if (index === 0)\n      {\n        // Starts off with part of a block and then the gap\n        const blockSection = new TrackSection({\n          start: blockStart,\n          stop: gapStart,\n          backboneStart: block.backboneStart, \n          backboneStop: gap.backboneStart, \n          chromosome: block.chromosome, \n          cutoff: backboneStop, \n          offsetCount: block.backboneStart - previousBlockBackboneStop,\n          basePairToHeightRatio: basePairToHeightRatio,\n          shape: 'rect',\n          chainLevel: block.chainLevel,\n          isInverted: isInverted,\n        });\n        trackSections.push(blockSection);\n        processedBlockSections.push(blockSection);\n\n        const gapSection = new TrackSection({\n          start: gapStart,\n          stop: gapStop,\n          backboneStart: gap.backboneStart, \n          backboneStop: gap.backboneStop, \n          chromosome: gap.chromosome, \n          cutoff: backboneStop,\n          basePairToHeightRatio: basePairToHeightRatio,\n          shape: 'line',\n          chainLevel: block.chainLevel,\n          isInverted: isInverted,\n        });\n        trackSections.push(gapSection);\n        processedBlockSections.push(gapSection);\n      }\n      else\n      {\n        // Create a section for the part of the block that comes before this gap\n        const previousGap = gaps[index - 1];\n        const blockSection = new TrackSection({\n          start: (isInverted) ? previousGap.start : previousGap.stop,\n          stop: gapStart,\n          backboneStart: previousGap.backboneStop, \n          backboneStop: gap.backboneStart, \n          chromosome: block.chromosome, \n          cutoff: backboneStop,\n          basePairToHeightRatio: basePairToHeightRatio,\n          shape: 'rect',\n          chainLevel: block.chainLevel,\n          isInverted: isInverted,\n        });\n        trackSections.push(blockSection);\n        processedBlockSections.push(blockSection);\n\n        const gapSection = new TrackSection({\n          start: gapStart,\n          stop: gapStop,\n          backboneStart: gap.backboneStart, \n          backboneStop: gap.backboneStop, \n          chromosome: gap.chromosome, \n          cutoff: backboneStop,\n          basePairToHeightRatio: basePairToHeightRatio,\n          shape: 'line',\n          chainLevel: block.chainLevel,\n          isInverted: isInverted,\n        });\n        trackSections.push(gapSection);\n        processedBlockSections.push(gapSection);\n      }\n    });\n\n    const lastGap = gaps[gaps.length - 1];\n    if (lastGap.backboneStop < backboneStop && lastGap.stop < block.stop)\n    {\n      // Create a section for the last part of the block\n      const blockSection = new TrackSection({\n        start: (isInverted) ? lastGap.start : lastGap.stop,\n        stop: blockStop,\n        backboneStart: lastGap.backboneStop, \n        backboneStop: block.backboneStop, \n        chromosome: block.chromosome, \n        cutoff: backboneStop,\n        basePairToHeightRatio: basePairToHeightRatio,\n        shape: 'rect',\n        chainLevel: block.chainLevel,\n        isInverted: isInverted,\n      });\n      trackSections.push(blockSection);\n      processedBlockSections.push(blockSection);\n\n    \n    }\n    else\n    {\n      console.debug('Block section thrown out due to extending past displayed backbone region');\n    }\n\n    const currBlockMap = blockGenesMap.get(lastBlockId);\n    const tempProcessedTrack = new Track({ speciesName: speciesSyntenyData.speciesName, speciesMap: speciesSyntenyData.mapKey, sections: processedBlockSections, mapName: speciesSyntenyData.mapName, isSyntenyTrack: true, startingSVGY: SVGConstants.panelTitleHeight, rawSyntenyData: speciesSyntenyData, type: 'comparative' });\n\n    currBlockMap.sections = tempProcessedTrack.sections;\n    processedBlockSections = [];\n\n    previousBlockBackboneStop = block.backboneStop;\n  });\n\n  const speciesTrack = new Track({ speciesName: speciesSyntenyData.speciesName, speciesMap: speciesSyntenyData.mapKey, sections: gaplessBlockSections, mapName: speciesSyntenyData.mapName, isSyntenyTrack: true, startingSVGY: SVGConstants.panelTitleHeight, rawSyntenyData: speciesSyntenyData, type: 'comparative' });\n\n  const geneThreshold = threshold * GENES_DATA_TRACK_THRESHOLD_MULTIPLIER;\n  const geneInfo = createGeneSectionsFromSyntenyBlocks(speciesTrack.sections, geneThreshold, blockGenesMap, speciesSyntenyData );\n\n  const geneSections = geneInfo.geneSections;\n  const geneMap = geneInfo.geneMap;\n\n  console.debug(`Regions split into ${trackSections.length} sections`, trackSections);\n  warnIfNegativeHeight(trackSections);\n\n  return { 'tracks': trackSections as TrackSection[], 'geneSections': geneSections as TrackSection[], 'gapless': gaplessBlockSections as TrackSection[], 'geneMap': geneMap as Map<string, any> };\n}\n\nfunction calculateVisibleBlockEnds(blockInfo: SyntenicRegion, backboneStart: number, backboneStop: number, isInverted: boolean)\n{\n  //calculate the percentage of the block backbone that is not visible above and below current viewport\n  const blockStart = isInverted ? blockInfo.stop : blockInfo.start;\n  const blockStop = isInverted ? blockInfo.start : blockInfo.stop;\n  const blockBackboneStart = blockInfo.backboneStart;\n  const blockBackboneStop = blockInfo.backboneStop;\n  let visibleTop: number = blockStart; \n  let visibleBottom: number = blockStop;\n  \n\n  const blockBackboneLength = blockBackboneStop - blockBackboneStart;\n  const blockLength = Math.abs(blockStop - blockStart);\n\n  const topBasePairDifference = backboneStart - blockBackboneStart;\n  const bottomBasePairDifference = blockBackboneStop - backboneStop;\n  \n  if (topBasePairDifference > 0)\n  {\n    const topPercentHidden = topBasePairDifference / blockBackboneLength;\n    visibleTop = isInverted ? (blockStart) - (blockLength * topPercentHidden) : (blockLength * topPercentHidden) + (blockStart);\n  }\n\n  if (bottomBasePairDifference > 0)\n  {\n    const bottomPercentHidden = bottomBasePairDifference / blockBackboneLength;\n    visibleBottom = isInverted ? blockStop + (blockLength * bottomPercentHidden) : blockStop - (blockLength * bottomPercentHidden);\n  }\n  \n  return [visibleTop, visibleBottom];\n}\n\nfunction createGeneSectionsFromSyntenyBlocks(syntenyBlockSections: TrackSection[], threshold: number, blockMap: Map<number, any>, speciesSyntenyData: SpeciesSyntenyData,)\n{\n  const geneSections: TrackSection[] = [];\n  let hiddenSections: TrackSection[] = [];\n\n  //convert all genes to map to use for quick lookup of drawn coords during selection\n  const allGenesMap = new Map<string, any>();\n  const currentSpecies = speciesSyntenyData.speciesName.toLowerCase();\n  const allGenesArray = speciesSyntenyData.allGenes;\n\n  if (allGenesArray)\n  {\n    allGenesArray.forEach((gene: Gene) => {\n      if (!gene.symbol)\n      {\n        return;\n      }\n      const geneSymbol = gene.symbol.toLowerCase();\n      const geneObject = { gene: gene, drawn: [], visible: [] };\n      const speciesObject = {[currentSpecies as string]: geneObject};\n      allGenesMap.set(geneSymbol, speciesObject);\n    });\n  }\n\n  syntenyBlockSections.forEach((syntenyBlockSection) => {\n    //first, check for genes in the block using map\n    if (!syntenyBlockSection?.blockId)\n    {\n      return; \n    }\n\n    const blockInfo = blockMap.get(syntenyBlockSection?.blockId);\n\n    //currently we are skipping rendering of level 2 genes\n    if (syntenyBlockSection.chainLevel && syntenyBlockSection.chainLevel == 2)\n    {\n      return;\n    }\n\n    if (!blockInfo)\n    {\n      return;\n    }\n    else\n    {\n      const blockGenes = blockInfo.genes;\n      const sections = blockInfo.sections as TrackSection[];\n      const visibleBlockStart = blockInfo.start;\n      const visibleBlockStop = blockInfo.stop;\n\n      //sort the processed sections by svgy to determine currently visible sections of block\n      sections.sort((a, b) => a.svgY - b.svgY);\n      let blockStop: number = visibleBlockStop;\n      let blockStart: number = visibleBlockStart;\n      const blockStartSvgY: number = syntenyBlockSection.svgY;\n\n      if (syntenyBlockSection.isInverted)\n      {\n        blockStart = visibleBlockStop;\n        blockStop = visibleBlockStart;\n      }\n\n      const blockRatio = (blockStop - blockStart) / syntenyBlockSection.height;\n\n      blockGenes.forEach((gene: Gene) => {\n        const geneSize = gene.stop - gene.start; //length of gene in bp\n        const correctGeneStart = gene.start; //< blockStart ? blockStart : gene.start; //adjusted start of gene; if gene starts before block start, use block start\n        const correctGeneStop = gene.stop; //> blockStop ? blockStop : gene.stop; //adjusted stop of gene; if gene stops after block stop, use block stop\n        \n        let blockStartOffset = 0; //offset of gene from block start in svg units\n        if (syntenyBlockSection.isInverted)\n        {\n          blockStartOffset = (blockStop - correctGeneStop) / blockRatio;\n        }\n        else\n        {\n          blockStartOffset = (correctGeneStart - blockStart) / blockRatio;\n        }\n        const geneSvgY = blockStartSvgY + blockStartOffset;\n\n        //update gene object with drawn coords if found\n        const geneSymbol = gene.symbol.toLowerCase();\n        const geneObject = allGenesMap.get(geneSymbol);\n        if (geneObject)\n        {\n          geneObject[currentSpecies]['drawn'].push({ svgY: geneSvgY, sectionStart: gene.start, sectionStop: gene.stop, backboneStart: correctGeneStart, backboneStop: correctGeneStop,});\n        }\n        else\n        {\n          allGenesMap.set(geneSymbol, {[currentSpecies]: {gene: gene, drawn: [{ svgY: geneSvgY, backboneStart: correctGeneStart, backboneStop: correctGeneStop,}], }});\n        }\n        \n        if (geneSize < threshold)\n        {\n          //gene is too small to be displayed, create hidden section \n          const hiddenTrackSection = new TrackSection({\n            start: gene.start,\n            stop: gene.stop,\n            backboneStart: correctGeneStart, \n            backboneStop: correctGeneStop, \n            chromosome: gene.chromosome, \n            cutoff: correctGeneStop, \n            basePairToHeightRatio: blockRatio,\n            isComparativeGene: true,\n            shape: 'rect',\n            gene: gene,\n          });\n\n          hiddenSections.push(hiddenTrackSection);\n        }\n        else\n        {\n          const trackSection = new TrackSection({\n            start: correctGeneStart,\n            stop: correctGeneStop,\n            backboneStart: correctGeneStart, \n            backboneStop: correctGeneStop, \n            chromosome: gene.chromosome, \n            cutoff: correctGeneStop, \n            basePairToHeightRatio: blockRatio,\n            isComparativeGene: true,\n            svgY: geneSvgY,\n            color: '#00000',\n            shape: 'rect',\n            gene: gene,\n            hiddenGenes: hiddenSections.length > 0 ? hiddenSections : []\n          });\n          \n          hiddenSections = [];\n          geneSections.push(trackSection);\n        }\n      });\n    }\n  });\n\n  return {'geneSections': geneSections as TrackSection[], 'geneMap': allGenesMap as Map<string, any>};\n}\nfunction warnIfNegativeHeight(trackSections: TrackSection[])\n{\n  trackSections.forEach((section, index) => {\n    if (section.svgY < 55 || section.svgY > 425)\n    {\n      return;\n    }\n    else if (section.height < 0)\n    {\n      console.warn('Negative height', index, section);\n    }\n  });\n}","import Track from \"./Track\";\nimport DataTrack from \"./DataTrack\";\nimport { createBackboneGeneTrackFromGenesData, createSyntenyTrackFromSpeciesSyntenyData } from \"@/utils/TrackBuilder\";\nimport TrackSection from \"./TrackSection\";\nimport BackboneSelection, { SelectedRegion, BasePairRange } from './BackboneSelection';\n\n\n//track sets are a grouping of a species track and its respective data tracks\nexport default class TrackSet\n{\n  speciesTrack: Track;\n  dataTracks: DataTrack[];\n  svgY: number;\n\n  constructor(speciesTrack: Track, dataTracks: DataTrack[])\n  {\n    this.speciesTrack = speciesTrack;\n    this.svgY = this.speciesTrack.startingSVGY;\n    this.dataTracks = dataTracks;\n  }\n\n  public getVisibleRegion(start: number, stop: number, basePairToHeightRatio: number, syntenyThreshold: number, backboneSelection: BackboneSelection)\n  {\n    let convertedSpeciesTrack: Track | undefined;\n    const convertedDataTracks: DataTrack[] = [];\n\n    let geneMap: Map<string, any> | null = null;\n\n    if (this.speciesTrack.type === 'backbone')\n    {\n      // Recreate the singular backbone section using the new basepair start/stops\n      const trackSection = new TrackSection({\n        start: start,\n        stop: stop,\n        backboneStart: start, \n        backboneStop: stop, \n        chromosome: this.speciesTrack.sections[0]?.chromosome, \n        cutoff: stop, \n        basePairToHeightRatio: basePairToHeightRatio,\n        shape: 'rect'\n      });\n\n      convertedSpeciesTrack = new Track({ speciesName: this.speciesTrack.name, sections: [trackSection], startingSVGY: this.svgY, mapName: this.speciesTrack.mapName, type: 'backbone' });\n\n      if (this.dataTracks.length)\n      {\n        this.dataTracks.forEach(dataTrack => {\n          if (dataTrack.track.rawGeneData)\n          {\n            const convertedSpeciesDataTrack = createBackboneGeneTrackFromGenesData(\n              dataTrack.track.rawGeneData,\n              dataTrack.track.name,\n              start,\n              stop,\n              basePairToHeightRatio,\n              true, // this will always be used on the detailed panel\n              syntenyThreshold,\n              this.svgY,\n              backboneSelection\n            );\n\n            convertedDataTracks.push(convertedSpeciesDataTrack);\n          }\n        });\n      }\n    }\n    else if (this.speciesTrack.type === 'comparative' && this.speciesTrack.rawSyntenyData)\n    {\n      const speciesTracks = createSyntenyTrackFromSpeciesSyntenyData(\n        this.speciesTrack.rawSyntenyData,\n        start,\n        stop,\n        basePairToHeightRatio,\n        syntenyThreshold,\n        this.svgY,\n        backboneSelection,\n        true\n      );\n      convertedSpeciesTrack = speciesTracks.speciesTrack;\n\n      if (this.dataTracks.length)\n      {\n        const geneTrack = speciesTracks.geneTrack;\n        const geneDataTrack = new DataTrack('Genes', geneTrack.name + ' Detailed Genes', geneTrack, 'red');\n        geneDataTrack.setIsComparativeView(true);\n        geneDataTrack.isDisplayed = true;\n\n        convertedDataTracks.push(geneDataTrack);\n      }\n\n      geneMap = speciesTracks.geneMap as Map<string, any>;\n    }\n    \n    if (!convertedSpeciesTrack)\n    {\n      // Something went wrong... species track should have raw synteny data associated with it\n      return;\n    }\n\n    const visibleRegionTrackSet = new TrackSet(convertedSpeciesTrack, convertedDataTracks);\n    \n    return { 'visibleRegionTrackSet': visibleRegionTrackSet, 'geneMap': geneMap };\n  }\n}\n","import TrackSection from './TrackSection';\n\ninterface OrthologLineParams\n{\n  backboneY: number;\n  comparativeX: number;\n  comparativeY: number;\n\n  backboneGene: TrackSection;\n  comparativeGene: TrackSection;\n}\n\nexport default class OrthologLine\n{\n  backboneGeneY: number;\n  comparativeGeneX: number;\n  comparativeGeneY: number;\n  backboneGene: TrackSection;\n  comparativeGene: TrackSection;\n  isSelected: boolean = false;\n\n  constructor(params: OrthologLineParams)\n  {\n    this.backboneGeneY = params.backboneY;\n    this.comparativeGeneX = params.comparativeX;\n    this.comparativeGeneY = params.comparativeY;\n    this.backboneGene = params.backboneGene;\n    this.comparativeGene = params.comparativeGene;\n  }\n}\n\n\n","import { onMounted, ref } from \"vue\";\nimport { getMousePosSVG } from '@/utils/SVGHelpers';\nimport { Store } from \"vuex\";\nimport { VCMapState } from \"@/store\";\nimport SVGConstants from \"@/utils/SVGConstants\";\n\nexport default function useDetailedPanelZoom(store: Store<VCMapState>) {\n  let inSelectMode = false;\n  let startingPoint: DOMPoint | { y: number, x: number };\n  const startDetailedSelectionY = ref<number>();\n  const stopDetailedSelectionY = ref<number>();\n  let svg: SVGSVGElement | null;\n\n  onMounted(() => {\n    svg = document.querySelector('svg');\n  });\n\n  const initZoomSelection = (event: any) => {\n    if (store.state.isOverviewPanelUpdating || store.state.isDetailedPanelUpdating)\n    {\n      // Don't allow zoom until both panels are done updating\n      return;\n    }\n\n    const selectedRegion = store.state.selectedBackboneRegion;\n    if (!selectedRegion.innerSelection)\n    {\n      console.warn('Cannot zoom on the detailed panel without a selection in the overview');\n      return;\n    }\n\n    inSelectMode = true;\n    startingPoint = getMousePosSVG(svg, event);\n    startDetailedSelectionY.value = startingPoint.y;\n  };\n\n  const updateZoomSelection = (event: any) => {\n    if (!inSelectMode) return;\n\n    const currentSVGPoint = getMousePosSVG(svg, event);\n\n    if (currentSVGPoint.y < startingPoint.y)\n    {\n      // We are moving above the starting point\n      startDetailedSelectionY.value = currentSVGPoint.y;\n      stopDetailedSelectionY.value = startingPoint.y;\n    }\n    else\n    {\n      // We are moving below the starting point\n      stopDetailedSelectionY.value = currentSVGPoint.y;\n    }\n  };\n\n  const completeZoomSelection = () => {\n    if (!inSelectMode) return;\n\n    inSelectMode = false;\n\n    const selection = store.state.selectedBackboneRegion;\n    if (startDetailedSelectionY.value != null && stopDetailedSelectionY.value != null && selection.innerSelection != null)\n    {\n      // Calculate start/stop base pairs based on bp to height ratio in the detailed panel\n      const basePairsFromInnerSelection1 = Math.floor((startDetailedSelectionY.value - SVGConstants.panelTitleHeight) * store.state.detailedBasePairToHeightRatio);\n      const basePairStart = basePairsFromInnerSelection1 + selection.innerSelection.basePairStart;\n\n      const basePairsFromInnerSelection2 = Math.floor((stopDetailedSelectionY.value - SVGConstants.panelTitleHeight) * store.state.detailedBasePairToHeightRatio);\n      const basePairStop = basePairsFromInnerSelection2 + selection.innerSelection.basePairStart;\n\n      store.dispatch('setDetailedBasePairRange', { start: basePairStart, stop: basePairStop });\n    }\n\n    // Clear selection box\n    startDetailedSelectionY.value = undefined;\n    stopDetailedSelectionY.value = undefined;\n  };\n\n  return {\n    startDetailedSelectionY,\n    stopDetailedSelectionY,\n    initZoomSelection,\n    updateZoomSelection,\n    completeZoomSelection\n  };\n}","/**\n *  Custom Error Messages for VCMap \n */\n\nexport const backboneOverviewError = new Error('Cannot render the overview panel without valid species, chromosome, and start/stop for the backbone');\n\nexport const backboneDetailedError = new Error('Cannot render the detailed panel without valid species and chromosome for the backbone');\n\nexport const noRegionLengthError = new Error('Region length must be greater than zero');\n\nexport const missingComparativeSpeciesError = new Error('Cannot load synteny without any comparative species maps selected');","import { onMounted, ref } from \"vue\";\nimport { getMousePosSVG } from '@/utils/SVGHelpers';\nimport { Store } from \"vuex\";\nimport { VCMapState } from \"@/store\";\nimport TrackSet from \"@/models/TrackSet\";\nimport BackboneSelection, { SelectedRegion } from \"@/models/BackboneSelection\";\n\nexport default function useOverviewPanelSelection(store: Store<VCMapState>) {\n  let inSelectMode = false;\n  let startingPoint: DOMPoint | { y: number, x: number };\n  const startOverviewSelectionY = ref<number>();\n  const stopOverviewSelectionY = ref<number>();\n  let svg: SVGSVGElement | null;\n\n  onMounted(() => {\n    svg = document.querySelector('svg');\n  });\n\n  const initOverviewSelection = (event: any) => {\n    if (store.state.isOverviewPanelUpdating || store.state.isDetailedPanelUpdating)\n    {\n      // Don't allow a selection until both panels are done updating\n      return;\n    }\n\n    inSelectMode = true;\n    startingPoint = getMousePosSVG(svg, event);\n    startOverviewSelectionY.value = startingPoint.y;\n  };\n\n  const updateOverviewSelection = (event: any) => {\n    if (!inSelectMode) return;\n\n    const currentSVGPoint = getMousePosSVG(svg, event);\n\n    if (currentSVGPoint.y < startingPoint.y)\n    {\n      // We are moving above the starting point\n      startOverviewSelectionY.value = currentSVGPoint.y;\n      stopOverviewSelectionY.value = startingPoint.y;\n    }\n    else\n    {\n      // We are moving below the starting point\n      stopOverviewSelectionY.value = currentSVGPoint.y;\n    }\n  };\n\n  const completeOverviewSelection = (overviewTrackSets: TrackSet[]) => {\n    if (!inSelectMode || overviewTrackSets.length === 0) return;\n\n    inSelectMode = false;\n\n    const backboneTracks = overviewTrackSets.filter(set => set.speciesTrack.type === 'backbone');\n    if (backboneTracks.length === 0)\n    {\n      return;\n    }\n\n    // Only 1 backbone track section should exist in the overview track sets\n    const backboneOverviewTrackSection = backboneTracks[0].speciesTrack.sections[0] ?? null;\n    if (startOverviewSelectionY.value != null && stopOverviewSelectionY.value != null && backboneOverviewTrackSection != null)\n    {\n      // Calculate start/stop base pairs based on bp to height ratio in the overview panel\n      const startingBasePairCountFromStartOfBackbone = Math.floor((startOverviewSelectionY.value - backboneOverviewTrackSection.svgY) * store.state.overviewBasePairToHeightRatio);\n      let basePairStart = startingBasePairCountFromStartOfBackbone + backboneOverviewTrackSection.sectionStart;\n\n      const stoppingBasePairCountFromStartOfBackbone = Math.floor((stopOverviewSelectionY.value - backboneOverviewTrackSection.svgY) * store.state.overviewBasePairToHeightRatio);\n      let basePairStop = stoppingBasePairCountFromStartOfBackbone + backboneOverviewTrackSection.sectionStart;\n\n      let startSVGY = startOverviewSelectionY.value;\n      if (basePairStart < backboneOverviewTrackSection.sectionStart)\n      {\n        basePairStart = backboneOverviewTrackSection.sectionStart;\n        startSVGY = backboneOverviewTrackSection.svgY;\n      }\n\n      let stopSVGY = stopOverviewSelectionY.value;\n      if (basePairStop > backboneOverviewTrackSection.sectionStop)\n      {\n        basePairStop = backboneOverviewTrackSection.sectionStop;\n        stopSVGY = backboneOverviewTrackSection.svgY2;\n      }\n\n      const selectedBackboneRegion = new BackboneSelection(new SelectedRegion(startSVGY, stopSVGY - startSVGY, basePairStart, basePairStop), store.state.chromosome ?? undefined);\n      selectedBackboneRegion.generateInnerSelection(basePairStart, basePairStop, store.state.overviewBasePairToHeightRatio);\n      store.dispatch('setBackboneSelection', selectedBackboneRegion);\n    }\n\n    // Clear selection box\n    startOverviewSelectionY.value = undefined;\n    stopOverviewSelectionY.value = undefined;\n  };\n\n  return {\n    startOverviewSelectionY,\n    stopOverviewSelectionY,\n    initOverviewSelection,\n    updateOverviewSelection,\n    completeOverviewSelection\n  };\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, isRef as _isRef, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '../../node_modules/primeicons/raw-svg/chevron-up.svg'\nimport _imports_1 from '../../node_modules/primeicons/raw-svg/chevron-down.svg'\n\n\n_pushScopeId(\"data-v-5cb6aa6e\")\nconst _hoisted_1 = [\"viewBox\"]\nconst _hoisted_2 = [\"height\"]\nconst _hoisted_3 = [\"width\", \"height\"]\nconst _hoisted_4 = [\"x\", \"width\", \"height\"]\nconst _hoisted_5 = [\"width\", \"height\"]\nconst _hoisted_6 = [\"x\", \"width\", \"height\"]\nconst _hoisted_7 = [\"x\", \"y\"]\nconst _hoisted_8 = [\"x\", \"y\"]\nconst _hoisted_9 = [\"x\", \"y\"]\nconst _hoisted_10 = [\"x\", \"y\"]\nconst _hoisted_11 = [\"x\", \"y\"]\nconst _hoisted_12 = [\"x\", \"y\"]\nconst _hoisted_13 = [\"x\", \"y\", \"width\", \"height\"]\nconst _hoisted_14 = [\"x\", \"y\", \"width\", \"height\"]\nconst _hoisted_15 = [\"x\", \"y\"]\nconst _hoisted_16 = [\"x\", \"y\"]\nconst _hoisted_17 = [\"x\", \"y\", \"width\", \"height\"]\nconst _hoisted_18 = [\"y\", \"width\", \"height\"]\n_popScopeId()\n\nimport Track from '@/models/Track';\nimport TrackSection from '@/models/TrackSection';\nimport Species from '@/models/Species';\nimport { computed, onMounted, ref, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport TrackSVG from './TrackSVG.vue';\nimport SVGConstants from '@/utils/SVGConstants';\nimport BackboneSelection, { SelectedRegion } from '@/models/BackboneSelection';\nimport VCMapDialog from '@/components/VCMapDialog.vue';\nimport useDialog from '@/composables/useDialog';\nimport BackboneTrackSVG from './BackboneTrackSVG.vue';\nimport TrackSet from '@/models/TrackSet';\nimport OrthologLine from '@/models/OrthologLine';\nimport Gene from '@/models/Gene';\nimport { SpeciesSyntenyData } from '@/models/SyntenicRegion';\nimport SelectedData from '@/models/SelectedData';\nimport useDetailedPanelZoom from '@/composables/useDetailedPanelZoom';\nimport { key } from '@/store';\nimport { backboneDetailedError, backboneOverviewError, missingComparativeSpeciesError, noRegionLengthError } from '@/utils/VCMapErrors';\nimport { createBackboneDataTracks, createBackboneGeneTrackFromGenesData, createBackboneTrack, createSyntenyTracks } from '@/utils/TrackBuilder';\nimport useOverviewPanelSelection from '@/composables/useOverviewPanelSelection';\nimport SpeciesApi from '@/api/SpeciesApi';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst store = useStore(key);\n\nconst { showDialog, dialogHeader, dialogMessage, onError, checkSyntenyResultsOnComparativeSpecies } = useDialog();\nconst { startDetailedSelectionY, stopDetailedSelectionY, initZoomSelection, updateZoomSelection, completeZoomSelection } = useDetailedPanelZoom(store);\nconst { startOverviewSelectionY, stopOverviewSelectionY, initOverviewSelection, updateOverviewSelection, completeOverviewSelection } = useOverviewPanelSelection(store);\n\nconst overviewTrackSets = ref<TrackSet[]>([]); // The currently displayed TrackSets in the Overview panel\nconst detailTrackSets = ref<TrackSet[]>([]); // The currently displayed TrackSets in the Detailed panel\n\nlet comparativeOverviewTracks: Track[] = []; // Keeps track of current comparative tracks displayed in the overview panel\nlet selectionTrackSets: TrackSet[] = []; // The track sets for the entire selected region\nlet geneReload: boolean = false; //whether or not load by gene reload has occurred\n\n\nasync function attachToProgressLoader(storeLoadingActionName: string, func: () => Promise<any>)\n{\n  try\n  {\n    store.dispatch(storeLoadingActionName, true);\n    await func();\n  }\n  catch (err)\n  {\n    onError(err, 'An error occurred while updating the overview panel');\n  }\n  finally\n  {\n    store.dispatch(storeLoadingActionName, false);\n  }\n}\n\nonMounted(async () => {\n  // Clear any prior selections or set as the searched gene\n  const gene = store.state.gene;\n  if (gene) {\n    let selectedData = new SelectedData(gene, 'Gene');\n    store.dispatch('setSelectedData', [selectedData]);\n  } else {\n    store.dispatch('setSelectedData', null);\n  }\n\n  await attachToProgressLoader('setIsOverviewPanelUpdating', updateOverviewPanel);\n  checkSyntenyResultsOnComparativeSpecies(comparativeOverviewTracks);\n});\n\nwatch(() => store.state.detailedBasePairRange, () => {\n  attachToProgressLoader('setIsDetailedPanelUpdating', updateDetailsPanel);\n});\n\nconst arePanelsLoading = computed(() => {\n  return store.state.isOverviewPanelUpdating || store.state.isDetailedPanelUpdating;\n});\n\nconst updateOverviewPanel = async () => {\n  const overviewUpdateStart = Date.now();\n\n  const backboneSpecies = store.state.species;\n  const backboneChromosome = store.state.chromosome;\n  const backboneStart = store.state.startPos;\n  const backboneStop = store.state.stopPos;\n  const loadType = store.state.configTab;\n\n  if (backboneSpecies == null || backboneChromosome == null || backboneStart == null || backboneStop == null)\n  {\n    onError(backboneOverviewError, backboneOverviewError.message);\n    overviewTrackSets.value = [];\n    return;\n  }\n\n  if (backboneStop - backboneStart <= 0)\n  {\n    onError(noRegionLengthError, noRegionLengthError.message);\n    overviewTrackSets.value = [];\n    return;\n  }\n\n  overviewTrackSets.value = [];\n  // The backbone is the entire chromosome\n  store.dispatch('setOverviewResolution', backboneChromosome.seqLength);\n  let backboneTrack = createBackboneTrack(backboneSpecies, backboneChromosome, 0, backboneChromosome.seqLength, store.state.overviewBasePairToHeightRatio, SVGConstants.overviewTrackYPosition);\n\n  const backboneTrackSet = new TrackSet(backboneTrack, []);\n  overviewTrackSets.value.push(backboneTrackSet);\n\n  if (store.state.comparativeSpecies.length === 0)\n  {\n    onError(missingComparativeSpeciesError, missingComparativeSpeciesError.message);\n    return;\n  }\n\n  let syntenyTrackResults = await createSyntenyTracks(\n    store.state.comparativeSpecies,\n    backboneChromosome,\n    0,\n    backboneChromosome.seqLength, \n    store.state.overviewBasePairToHeightRatio,\n    store.state.overviewSyntenyThreshold,\n    SVGConstants.overviewTrackYPosition, // SVG positioning of the overview tracks will start just underneath the header panels with a bit of space in between\n    false,\n    store.state.selectedBackboneRegion\n );\n comparativeOverviewTracks = syntenyTrackResults.tracks;\n\n  for (let index = 0; index < comparativeOverviewTracks.length; index++)\n  {\n    const comparativeTrackSet = comparativeOverviewTracks[index];\n    overviewTrackSets.value.push(comparativeTrackSet);\n  }\n\n  // Set the backbone selection to the start and stop positions selected on the config screen if a selection doesn't already exist\n  // (the backbone should have just 1 [0] section)\n  const prevBackboneSelection = store.state.selectedBackboneRegion;\n  if (backboneTrack.sections.length > 0 && prevBackboneSelection.baseSelection.svgHeight === 0)\n  {\n    //if initially loading by gene, we need to set and process the full backbone range and syntenic blocks to find ortholog positions to later adjust so all are visible in the detail panel\n    if (loadType === 0)\n    {\n      const selection = backboneTrack.sections[0].generateBackboneSelection(0, backboneChromosome.seqLength, store.state.overviewBasePairToHeightRatio, backboneChromosome);\n      store.dispatch('setBackboneSelection', selection);\n    }\n    else\n    {\n      const selection = backboneTrack.sections[0].generateBackboneSelection(backboneStart, backboneStop, store.state.overviewBasePairToHeightRatio, backboneChromosome);\n      store.dispatch('setBackboneSelection', selection);\n    }\n  }\n  else\n  {\n    // Recreate the BackboneSelection model b/c the model loses its functions after page refresh (vuex-persist plugin does not preserve functions on objects)\n    const recreatedSelection = new BackboneSelection(\n      new SelectedRegion(prevBackboneSelection.baseSelection.svgYPoint, prevBackboneSelection.baseSelection.svgHeight, prevBackboneSelection.baseSelection.basePairStart, prevBackboneSelection.baseSelection.basePairStop), \n      prevBackboneSelection.chromosome\n    );\n    if (prevBackboneSelection.innerSelection)\n    {\n      recreatedSelection.generateInnerSelection(prevBackboneSelection.innerSelection.basePairStart, prevBackboneSelection.innerSelection.basePairStop, store.state.overviewBasePairToHeightRatio);\n    }\n    else\n    {\n      recreatedSelection.generateInnerSelection(prevBackboneSelection.baseSelection.basePairStart, prevBackboneSelection.baseSelection.basePairStop, store.state.overviewBasePairToHeightRatio);\n    }\n    \n    store.dispatch('setBackboneSelection', recreatedSelection);\n  }\n\n  console.log(`Update overview time: ${(Date.now() - overviewUpdateStart)} ms`);\n};\n\nconst updateDetailsPanel = async () => {\n  const detailedUpdateStart = Date.now();\n  store.dispatch('setIsDetailedPanelUpdating', true);\n\n  const backboneSpecies = store.state.species;\n  const backboneChromosome = store.state.chromosome;\n  const loadType = store.state.configTab;\n  const originalSelectedBackboneRegion = store.state.selectedBackboneRegion;\n  const detailedBasePairRange = store.state.detailedBasePairRange;\n  if (detailedBasePairRange.stop - detailedBasePairRange.start <= 0)\n  {\n    // Clear out our selection TrackSets\n    selectionTrackSets = [];\n    detailTrackSets.value = [];\n    return;\n  }\n\n  if (backboneSpecies == null || backboneChromosome == null)\n  {\n    onError(backboneDetailedError, backboneDetailedError.message);\n    selectionTrackSets = [];\n    detailTrackSets.value = [];\n    return;\n  }\n\n  detailTrackSets.value = [];\n  selectionTrackSets = [];\n  // Get the range of the inner section that will be shown in the Detailed panel\n  const zoomedSelection = originalSelectedBackboneRegion.generateInnerSelection(detailedBasePairRange.start, detailedBasePairRange.stop, store.state.overviewBasePairToHeightRatio);\n  // Update the Detailed panel rez to match that region length\n  store.dispatch('setDetailsResolution', zoomedSelection.basePairStop - zoomedSelection.basePairStart);\n\n  // Create the backbone track for the entire base selection at the updated Detailed panel resolution\n  const backboneSelectionTrack = createBackboneTrack(backboneSpecies, backboneChromosome, originalSelectedBackboneRegion.baseSelection.basePairStart, originalSelectedBackboneRegion.baseSelection.basePairStop, store.state.detailedBasePairToHeightRatio);\n\n  // Create the backbone data tracks for the entire selection at the updated Detailed panel resolution\n  let tempBackboneGenes: Gene[] = await createBackboneDataTracks(backboneSpecies, backboneChromosome, originalSelectedBackboneRegion.baseSelection.basePairStart, originalSelectedBackboneRegion.baseSelection.basePairStop) ?? null;\n  tempBackboneGenes.forEach(gene => gene.speciesName = backboneSpecies.name);\n  let tempBackboneTracks = createBackboneGeneTrackFromGenesData(tempBackboneGenes, backboneSpecies.name,\n    originalSelectedBackboneRegion.baseSelection.basePairStart, originalSelectedBackboneRegion.baseSelection.basePairStop,\n    store.state.detailedBasePairToHeightRatio, true, store.state.detailsSyntenyThreshold, SVGConstants.panelTitleHeight, store.state.selectedBackboneRegion);\n\n  if (backboneSelectionTrack != null && tempBackboneTracks != null)\n  {\n    selectionTrackSets.push(new TrackSet(backboneSelectionTrack, [tempBackboneTracks]));\n\n    if (store.state.comparativeSpecies.length === 0)\n    {\n      onError(missingComparativeSpeciesError, missingComparativeSpeciesError.message);\n      return;\n    }\n\n    let syntenyTracksResults = await createSyntenyTracks(\n      store.state.comparativeSpecies,\n      backboneChromosome,\n      originalSelectedBackboneRegion.baseSelection.basePairStart, \n      originalSelectedBackboneRegion.baseSelection.basePairStop,\n      store.state.detailedBasePairToHeightRatio,\n      store.state.detailsSyntenyThreshold,\n      SVGConstants.panelTitleHeight, // SVG positioning of detailed tracks will start immediately after the header panel\n      true,\n      store.state.selectedBackboneRegion,\n    );\n\n    let comparativeSelectionTracks: TrackSet[] = syntenyTracksResults.tracks;\n    let syntenyDataArray: SpeciesSyntenyData[] = syntenyTracksResults?.speciesSyntenyDataArray || [];\n    let allSpeciesGeneMap: Map<string, any> = new Map();\n\n    //Construct the master map of all genes drawn for the backbone and all comparative species\n    syntenyDataArray.forEach((dataArray) => {\n      let speciesName = dataArray.speciesName.toLowerCase();\n      if (allSpeciesGeneMap.size == 0 && dataArray.allGenesMap) \n      {\n        //if the map is empty, add all genes from the first species\n        allSpeciesGeneMap = new Map(dataArray.allGenesMap as Map<string, any>);\n      } \n      else if (dataArray.allGenesMap) \n      {\n        //begin inserting genes from the second species map into the master map\n        dataArray.allGenesMap.forEach((value, key) => {\n          if (!allSpeciesGeneMap.has(key)) \n          {\n            //if gene is not already in the master map, add it\n            allSpeciesGeneMap.set(key, value);\n          }\n          else\n          {\n            let masterEntry = allSpeciesGeneMap.get(key);\n            let speciesEntry = (dataArray.allGenesMap as Map<string, any>).get(key);\n\n            masterEntry[speciesName] = speciesEntry[speciesName];\n          }\n        });\n      }    \n    });\n\n    //map backbone species genes to the master map\n    tempBackboneGenes.forEach((gene: Gene) => \n    {\n      let backboneSpeciesName = gene.speciesName?.toLowerCase();\n      const geneSymbol = gene.symbol.toLowerCase();\n      const geneObject = { gene: gene, drawn: [], };\n      const speciesObject = {[backboneSpeciesName as string]: geneObject};\n      let geneMapIndex = allSpeciesGeneMap.get(geneSymbol);\n      if (geneMapIndex)\n      {\n        //if gene is already in the master map, add the backbone species gene to the master map index\n        geneMapIndex[backboneSpeciesName as string] = geneObject;\n      }\n      else\n      {\n        //if gene is not in the master map, add it\n        allSpeciesGeneMap.set(geneSymbol, speciesObject);\n      }\n    });\n\n    store.dispatch('setLoadedGenes', allSpeciesGeneMap);\n\n    //if loading by gene initially, we need to find the backbone start of the \"highest\" positioned ortholog, and the backbone stop of the \"lowest\" positioned ortholog, then setting the backbone selection to those coords\n    if ((loadType == 0) && (store.state.selectedGeneIds.length > 0) && (!geneReload))\n    {\n      const loadedGenes = store.state.loadedGenes;\n      const loadSelectedGene = store.state.gene;\n      const loadedGeneSymbol = loadSelectedGene.symbol.toLowerCase();\n      const loadedGeneSpecies = loadSelectedGene.speciesName.toLowerCase();\n      const backboneStart = store.state.loadStart;\n      const backboneStop = store.state.loadStop;\n\n      const orthologs = loadedGenes.get(loadedGeneSymbol);\n      let drawnOrthologs = [];\n      for (let [key, value] of Object.entries(orthologs)) \n      {\n        if (value.gene.speciesName.toLowerCase() !== loadedGeneSpecies) \n        {\n          if (value.visible.length > 0)\n          {\n            drawnOrthologs = drawnOrthologs.concat(value.visible);\n          }\n          else if (value.drawn.length > 0)\n          {\n            drawnOrthologs = drawnOrthologs.concat(value.drawn);\n          }\n        }\n      }\n\n      const selectionStart = originalSelectedBackboneRegion.innerSelection?.basePairStart || originalSelectedBackboneRegion.baseSelection.basePairStart;\n      const selectionStop = originalSelectedBackboneRegion.innerSelection?.basePairStop || originalSelectedBackboneRegion.baseSelection.basePairStop;\n\n      const geneBasePairLength = loadSelectedGene.stop - loadSelectedGene.start;\n      const newInnerStart = Math.max(Math.floor(loadSelectedGene.start - 3 * geneBasePairLength), originalSelectedBackboneRegion.baseSelection.basePairStart);\n      const newInnerStop = Math.min(Math.floor(loadSelectedGene.stop + 3 * geneBasePairLength), originalSelectedBackboneRegion.baseSelection.basePairStop);\n\n      //convert ortholog svgs to backbone coords\n      if (drawnOrthologs.length > 0)\n      {\n        drawnOrthologs.sort((a, b) => a.svgY - b.svgY);\n        const highestOrtholog = drawnOrthologs[0];\n        const lowestOrtholog = drawnOrthologs[drawnOrthologs.length - 1];\n\n        const topOrthologLength = highestOrtholog.sectionStop - highestOrtholog.sectionStart;\n        const bottomOrthologLength = lowestOrtholog.sectionStop - lowestOrtholog.sectionStart;\n\n        const basePairsFromInnerSelection1 = Math.floor((highestOrtholog.svgY - SVGConstants.panelTitleHeight) * store.state.detailedBasePairToHeightRatio);\n        const basePairStart = Math.max(basePairsFromInnerSelection1 + selectionStart - (topOrthologLength * 5), originalSelectedBackboneRegion.baseSelection.basePairStart);\n\n        const basePairsFromInnerSelection2 = Math.floor((lowestOrtholog.svgY - SVGConstants.panelTitleHeight) * store.state.detailedBasePairToHeightRatio);\n        const basePairStop = Math.min(basePairsFromInnerSelection2 + selectionStart + (bottomOrthologLength * 5), originalSelectedBackboneRegion.baseSelection.basePairStop);\n\n        //confirm the searched gene is visible in the result and adjust if not\n        if (newInnerStart > basePairStart && newInnerStop < basePairStop)\n        {\n          store.dispatch('setDetailedBasePairRange', { start: basePairStart, stop: basePairStop});\n        }\n        else if (newInnerStart < basePairStart)\n        {\n          newInnerStop > basePairStop ? store.dispatch('setDetailedBasePairRange', { start: newInnerStart, stop: newInnerStop }) : store.dispatch('setDetailedBasePairRange', { start: newInnerStart, stop: basePairStop });\n        }\n        else if (newInnerStop > basePairStop)\n        {\n          newInnerStart < basePairStart ? store.dispatch('setDetailedBasePairRange', { start: newInnerStart, stop: newInnerStop}) : store.dispatch('setDetailedBasePairRange', { start: basePairStart, stop: newInnerStop}); \n        }\n        geneReload = true;\n        return;\n      }\n      else\n      {\n        const selection = backboneSelectionTrack.sections[0].generateBackboneSelection(newInnerStart, newInnerStop, store.state.detailedBasePairToHeightRatio, backboneChromosome);\n        store.dispatch('clearBackboneSelection');\n        store.dispatch('setBackboneSelection', selection);\n        geneReload = true;\n        return;\n      }\n    }\n\n    const compSpeciesMaps: Number[] = [];\n    const compSpeciesNames: string[] = [];\n    for (let index = 0; index < comparativeSelectionTracks.length; index++)\n    {\n      let track = comparativeSelectionTracks[index];\n      selectionTrackSets.push(track);\n      if (track.speciesTrack.speciesMap)\n      {\n        compSpeciesMaps.push(track.speciesTrack.speciesMap);\n        compSpeciesNames.push(track.speciesTrack.name);\n      }\n    }\n\n    const backboneGeneOrthologs = await SpeciesApi.getGeneOrthologs(backboneSpecies.defaultMapKey, backboneChromosome.chromosome, originalSelectedBackboneRegion.baseSelection.basePairStart, originalSelectedBackboneRegion.baseSelection.basePairStop, compSpeciesMaps);\n    const syntenicGeneMaps = [];\n\n    // Create the displayed TrackSets for the Detailed panel based on the zoomed start/stop\n    selectionTrackSets.forEach(trackSet => {\n      const visibleTrackSet = trackSet.getVisibleRegion(zoomedSelection.basePairStart, zoomedSelection.basePairStop, store.state.detailedBasePairToHeightRatio, store.state.detailsSyntenyThreshold, store.state.selectedBackboneRegion);\n      if (visibleTrackSet)\n      {\n        if (visibleTrackSet.visibleRegionTrackSet)\n        {\n          detailTrackSets.value.push(visibleTrackSet.visibleRegionTrackSet);\n        }\n        if (visibleTrackSet.geneMap)\n        {\n          syntenicGeneMaps.push(visibleTrackSet.geneMap);\n        }\n      }\n    });\n\n    if (syntenicGeneMaps.length > 0)\n    {\n      constructLoadedGenes(syntenicGeneMaps, allSpeciesGeneMap, compSpeciesNames);\n    }\n\n    if (backboneGeneOrthologs)\n    {\n      store.dispatch('setBackboneOrthologData', backboneGeneOrthologs);\n      generateOrthologLines(backboneGeneOrthologs, compSpeciesMaps);\n    }\n  }\n  else\n  {\n    // Could not create TrackSets for the backbone or its data tracks -> clear out all detailed panel TrackSets\n    selectionTrackSets = [];\n    detailTrackSets.value = [];\n  }\n\n  store.dispatch('setIsDetailedPanelUpdating', false);\n  console.log(`Update detailed time: ${(Date.now() - detailedUpdateStart)} ms`);\n\n};\n\nconst generateOrthologLines = (orthologData: any, comparativeMaps: Number[]) => {\n  let orthologLines: OrthologLine[] = [];\n  let possibleOrthologs: Object[] = [];\n  let backboneGenes = detailTrackSets.value[0].dataTracks[0].track.sections;\n  \n\n  backboneGenes.forEach(backboneGene => {\n    //check ortholog data for currently visible backbone genes that have orthologs\n    let orthologInfo = orthologData.get(backboneGene.gene.symbol);\n    const comparativeSpecies = store.state.comparativeSpecies;\n    const compSpeciesNameMap = new Map<Number, string>();\n    comparativeSpecies.forEach((species: any) => compSpeciesNameMap.set(species.activeMap.key, species.name));\n    if (orthologInfo)\n    {\n      possibleOrthologs.push({'backboneGene': backboneGene, 'orthologs': orthologInfo});\n\n      // if this is a selected gene, set orthologs as selected and for data panel\n      if (store.state.selectedGeneIds.includes(backboneGene.gene.rgdId))\n      {\n        const selectedIds: number[] = store.state.selectedGeneIds;\n        const selectedData: SelectedData[] = store.state.selectedData;\n        const orthologKeys = Object.keys(orthologInfo);\n        orthologKeys.forEach((key) => {\n          const orthologGene = new Gene({\n            ...orthologInfo[key][0],\n            key: orthologInfo[key][0].mapKey,\n            speciesName: compSpeciesNameMap.get(orthologInfo[key][0].mapKey)\n          });\n          if (!selectedIds.includes(orthologGene.rgdId)) {\n            selectedIds.push(orthologGene.rgdId);\n            selectedData.push(new SelectedData(orthologGene, 'Gene'));\n          }\n        });\n        store.dispatch('setSelectedGeneIds', selectedIds);\n        store.dispatch('setSelectedData', selectedData);\n      }\n    }\n  });\n  \n  //gather the genes for each comparative species\n  let comparativeGenes = {};\n  comparativeMaps.forEach(comparativeMap => {\n    //create a key for each comparative species\n    comparativeGenes[comparativeMap] = [];\n  });\n  \n  //gather the genes for each comparative species from the currently visible data tracks\n  detailTrackSets.value.forEach((trackSet, index) => {\n    const speciesMap = trackSet.speciesTrack.speciesMap;\n    if (speciesMap)\n    {\n      if (comparativeGenes[speciesMap])\n      {\n        const sections = trackSet.dataTracks[0].track.sections;\n        const sectionMap = new Map<string, any>();\n        const xPos = getDetailedPanelTrackXOffset(index, 'datatrack', 1) + SVGConstants.selectedBackboneXPosition;\n        sections.forEach(section => {\n          let existingGene = sectionMap.get(section.gene.symbol);\n\n          if (!section.isVisible)\n          {\n            if (section.height < 0)\n            {\n              return;\n            }\n          }\n          if (!existingGene)\n          {\n            sectionMap.set(section.gene.symbol, {'section': section, 'xPos': xPos, 'duplicates': []});\n          }\n          else\n          {\n            existingGene.duplicates.push({'section': section, 'xPos': xPos});\n          }\n        });\n        comparativeGenes[speciesMap] = sectionMap;\n      }\n    }\n  });\n\n  //find correlating orthologs on comparative species and create ortholog lines\n  possibleOrthologs.forEach(possibleOrtholog => {\n    const compSpeciesOrthologs = possibleOrtholog.orthologs;\n    const backboneGene = possibleOrtholog.backboneGene;\n\n    Object.entries(compSpeciesOrthologs).forEach(speciesMap =>{\n      const compOrthologInfo = speciesMap[1];\n      const speciesMapKey = speciesMap[0];\n      \n      if (compOrthologInfo.length > 1)\n      {\n        compOrthologInfo.forEach(gene => {\n          const geneSymbol = gene.geneSymbol;\n          const comparativeGene = comparativeGenes[speciesMapKey].get(geneSymbol);\n          \n          if (comparativeGene)\n          {\n            const orthologLine = createOrthologLine(backboneGene, comparativeGene, );\n            orthologLines.push(orthologLine);\n\n            //if this gene has duplicate located elsewhere, add an ortholog line for each duplicate\n            if (comparativeGene.duplicates.length > 0)\n            {\n              comparativeGene.duplicates.forEach(duplicate => {\n                const orthologLine = createOrthologLine(backboneGene, duplicate, );\n                orthologLines.push(orthologLine);\n              });\n            }\n          }\n        });\n      }\n      else\n      {\n        if (comparativeGenes[speciesMapKey])\n        {\n          const geneSymbol = compOrthologInfo[0].geneSymbol;\n          const comparativeGene = comparativeGenes[speciesMapKey].get(geneSymbol);\n          if (comparativeGene)\n          {\n            const orthologLine = createOrthologLine(backboneGene, comparativeGene);\n            orthologLines.push(orthologLine);\n            \n            if (comparativeGene.duplicates.length > 0)\n            {\n              comparativeGene.duplicates.forEach(duplicate => {\n                const orthologLine = createOrthologLine(backboneGene, duplicate);\n                orthologLines.push(orthologLine);\n              });\n            }\n          }\n        }\n      }\n    });\n  });\n\n  if (detailTrackSets.value[0].dataTracks[0].orthologLines.length > 0)\n  {\n    detailTrackSets.value[0].dataTracks[0].orthologLines = [];\n    detailTrackSets.value[0].dataTracks[0].setOrthologLines(orthologLines);\n  }\n  else\n  {\n    detailTrackSets.value[0].dataTracks[0].setOrthologLines(orthologLines);\n  }\n};\n\nconst createOrthologLine = (backboneGeneSection: any, comparativeGeneSection: any,) => {\n  let orthologLine = new OrthologLine({backboneY: backboneGeneSection.svgY + (backboneGeneSection.height/2), backboneGene: backboneGeneSection, comparativeY: comparativeGeneSection.section.svgY + (comparativeGeneSection.section.height/2), comparativeX: comparativeGeneSection.xPos, comparativeGene: comparativeGeneSection.section});\n  return orthologLine;\n};\n\nconst constructLoadedGenes = (comparativeSpeciesGeneMapsArray: any, allGenesMap: any, comparativeSpeciesArray: string[]) => {\n  let visibleSpeciesGenesMap: Map<string, any> = new Map();\n  \n\n  comparativeSpeciesArray.forEach( (species: string) => {\n    const speciesName = species.toLowerCase();\n    comparativeSpeciesGeneMapsArray.forEach( (speciesGeneMap: Map<string, any>) => {\n      if (visibleSpeciesGenesMap.size == 0) \n      {\n        //if the map is empty, add all genes from the first species\n        visibleSpeciesGenesMap = new Map(speciesGeneMap as Map<string, any>);\n        return;\n      } \n      else\n      {\n        //begin inserting genes from the second species map into the master map\n        speciesGeneMap.forEach((value, key) => {\n          if (!visibleSpeciesGenesMap.has(key)) \n          {\n            //if gene is not already in the master map, add it\n            visibleSpeciesGenesMap.set(key, value);\n          }\n          else\n          {\n            let masterEntry = visibleSpeciesGenesMap.get(key);\n            let speciesEntry = (speciesGeneMap as Map<string, any>).get(key);\n            \n            if (!masterEntry[speciesName] && speciesEntry[speciesName])\n            {\n              //if the gene is already in the master map, but the species is not, add the species\n              masterEntry[speciesName] = speciesEntry[speciesName];\n            }\n          }\n        });\n      }\n    });\n  });\n\n  //merge the allGenesMap and visible GenesMap so we have accurate positional data for all genes\n  comparativeSpeciesArray.forEach( (species: string) => {\n    const speciesName = species.toLowerCase();\n    visibleSpeciesGenesMap.forEach((value, key) => {\n      if (allGenesMap.has(key)) \n      {\n        let masterEntry = allGenesMap.get(key);\n        let speciesEntry = value;\n\n        if (speciesEntry[speciesName])\n        {\n          if(speciesEntry[speciesName].drawn.length > 0)\n          {\n            masterEntry[speciesName].visible = speciesEntry[speciesName].drawn;\n          }\n        }\n      }\n      else\n      {\n        //if gene is not already in the master map, add it\n        allGenesMap.set(key, value);\n      }\n    });\n  });\n\n  store.dispatch('setLoadedGenes', allGenesMap);\n};\n\n/**\n * Gets the offset of the X position relative to the backbone species track\n */\nconst getOverviewPanelTrackXOffset = (trackNumber: number) => {\n  let totalTracks = trackNumber;\n  let offset = 0;\n\n  totalTracks == 0 ? offset = 0 : offset = (totalTracks * -80);\n\n  return offset;\n};\n\nconst getDetailedPanelTrackXOffset = (trackNumber: number, trackType: string, dataTrackNum?: number) => {\n  let totalTracks = trackNumber;\n  let offset = 0;\n  \n  //data tracks are drawn on the right side of the backbone track, and first\n  if (trackType == 'datatrack' && dataTrackNum != null)\n  {\n    //every displayed datatrack will have a buffer of 30 between tracks - if last datatrack\n    totalTracks == 0 ? offset = 30 : offset = (totalTracks * 120) + (dataTrackNum * 30);\n  }\n  else\n  {\n    //the backbone track will have no calculable offset for its datatrack, so we set it to 30.  Later tracks will have a buffer of 30 added between them\n    offset = (totalTracks * 120);\n  }\n\n  return offset;\n};\n\nconst navigateUp = () => {\n  if (isNavigationUpDisabled.value) return;\n\n  const selectedRegion = store.state.selectedBackboneRegion;\n  // Adjust the inner selection on the selected region\n  selectedRegion.moveInnerSelectionUp(store.state.overviewBasePairToHeightRatio);\n\n  // Create the displayed TrackSets for the Detailed panel based on the zoomed start/stop\n  detailTrackSets.value = [];\n  const syntenicGeneMaps = [];\n  \n  selectionTrackSets.forEach(trackSet => {\n    if (!selectedRegion.innerSelection) return;\n    \n\n    const visibleTrackSet = trackSet.getVisibleRegion(selectedRegion.innerSelection.basePairStart, selectedRegion.innerSelection.basePairStop, store.state.detailedBasePairToHeightRatio, store.state.detailsSyntenyThreshold, store.state.selectedBackboneRegion);\n    if (visibleTrackSet)\n    {\n      if (visibleTrackSet.visibleRegionTrackSet)\n      {\n        detailTrackSets.value.push(visibleTrackSet.visibleRegionTrackSet);\n      }\n      if (visibleTrackSet.geneMap)\n      {\n        syntenicGeneMaps.push(visibleTrackSet.geneMap);\n      }\n    }\n  });\n\n  if (syntenicGeneMaps.length > 0)\n  {\n    let comparativeSpecies = store.state.comparativeSpecies;\n    const comparativeSpeciesArray = [];\n    const allGenesMap = store.state.loadedGenes; \n    \n    comparativeSpecies.forEach(species => {comparativeSpeciesArray.push(species.name.toLowerCase());});\n    constructLoadedGenes(syntenicGeneMaps, allGenesMap, comparativeSpeciesArray);\n  }\n\n  if (selectedRegion.orthologData)\n  {\n    let comparativeSpecies = store.state.comparativeSpecies;\n    const comparativeSpeciesMaps = [];\n    comparativeSpecies.forEach(species => {comparativeSpeciesMaps.push(species.activeMap.key);});\n    generateOrthologLines(selectedRegion.orthologData, comparativeSpeciesMaps);\n  }\n};\n\nconst navigateDown = () => {\n  if (isNavigationDownDisabled.value) return;\n\n  const selectedRegion = store.state.selectedBackboneRegion;\n  // Adjust the inner selection on the selected region\n  selectedRegion.moveInnerSelectionDown(store.state.overviewBasePairToHeightRatio);\n\n  // Create the displayed TrackSets for the Detailed panel based on the zoomed start/stop\n  detailTrackSets.value = [];\n  const syntenicGeneMaps = [];\n\n  selectionTrackSets.forEach(trackSet => {\n    if (!selectedRegion.innerSelection) return;\n\n    const visibleTrackSet = trackSet.getVisibleRegion(selectedRegion.innerSelection.basePairStart, selectedRegion.innerSelection.basePairStop, store.state.detailedBasePairToHeightRatio, store.state.detailsSyntenyThreshold, store.state.selectedBackboneRegion);\n    if (visibleTrackSet)\n    {\n      if (visibleTrackSet.visibleRegionTrackSet)\n      {\n        detailTrackSets.value.push(visibleTrackSet.visibleRegionTrackSet);\n      }\n      if (visibleTrackSet.geneMap)\n      {\n        syntenicGeneMaps.push(visibleTrackSet.geneMap);\n      }\n    }\n  });\n\n  if (syntenicGeneMaps.length > 0)\n  {\n    let comparativeSpecies = store.state.comparativeSpecies;\n    const comparativeSpeciesArray = [];\n    const allGenesMap = store.state.loadedGenes; \n    \n    comparativeSpecies.forEach(species => {comparativeSpeciesArray.push(species.name.toLowerCase());});\n    constructLoadedGenes(syntenicGeneMaps, allGenesMap, comparativeSpeciesArray);\n  }\n\n  if (selectedRegion.orthologData)\n  {\n    const comparativeSpecies = store.state.comparativeSpecies;\n    const comparativeSpeciesMaps = [];\n    comparativeSpecies.forEach(species => {comparativeSpeciesMaps.push(species.activeMap.key);});\n    generateOrthologLines(selectedRegion.orthologData, comparativeSpeciesMaps);\n  }\n};\n\nconst isNavigationUpDisabled = computed(() => {\n  if (arePanelsLoading.value)\n  {\n    return true;\n  }\n\n  const selectedRegion = store.state.selectedBackboneRegion;\n  if (selectedRegion.zoomLevel <= 1)\n  {\n    return true;\n  }\n\n  if (selectedRegion.innerSelection)\n  {\n    return selectedRegion.baseSelection.basePairStart >= selectedRegion.innerSelection.basePairStart;\n  }\n\n  return false;\n});\n\nconst isNavigationDownDisabled = computed(() => {\n  if (arePanelsLoading.value)\n  {\n    return true;\n  }\n  \n  const selectedRegion = store.state.selectedBackboneRegion;\n  if (selectedRegion.zoomLevel <= 1)\n  {\n    return true;\n  }\n\n  if (selectedRegion.innerSelection)\n  {\n    return selectedRegion.baseSelection.basePairStop <= selectedRegion.innerSelection.basePairStop;\n  }\n\n  return false;\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_ProgressBar = _resolveComponent(\"ProgressBar\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_ProgressBar, {\n      class: \"vcmap-loader\",\n      mode: _unref(arePanelsLoading) ? 'indeterminate' : 'determinate',\n      value: 0,\n      showValue: false\n    }, null, 8, [\"mode\"]),\n    (_openBlock(), _createElementBlock(\"svg\", {\n      viewBox: '0 0 800 ' + _unref(SVGConstants).viewboxHeight,\n      xmlns: \"http://www.w3.org/2000/svg\",\n      id: \"svg-wrapper\",\n      width: \"100%\"\n    }, [\n      _createElementVNode(\"rect\", {\n        class: \"panel\",\n        x: \"0\",\n        width: \"800\",\n        height: _unref(SVGConstants).viewboxHeight\n      }, null, 8, _hoisted_2),\n      _createElementVNode(\"rect\", {\n        class: _normalizeClass([\"panel selectable\", {'is-loading': _unref(arePanelsLoading)}]),\n        x: \"0\",\n        onMousedown: _cache[0] || (_cache[0] = _withModifiers(\n//@ts-ignore\n(...args) => (_unref(initOverviewSelection) && _unref(initOverviewSelection)(...args)), [\"left\"])),\n        onMousemove: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_unref(updateOverviewSelection) && _unref(updateOverviewSelection)(...args))),\n        onMouseup: _cache[2] || (_cache[2] = _withModifiers(($event: any) => (_unref(completeOverviewSelection)(overviewTrackSets.value as TrackSet[])), [\"left\"])),\n        width: _unref(SVGConstants).overviewPanelWidth,\n        height: _unref(SVGConstants).viewboxHeight\n      }, null, 42, _hoisted_3),\n      _createElementVNode(\"rect\", {\n        class: _normalizeClass([\"panel selectable\", {'is-loading': _unref(arePanelsLoading)}]),\n        onMousedown: _cache[3] || (_cache[3] = _withModifiers(\n//@ts-ignore\n(...args) => (_unref(initZoomSelection) && _unref(initZoomSelection)(...args)), [\"left\"])),\n        onMousemove: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_unref(updateZoomSelection) && _unref(updateZoomSelection)(...args))),\n        onMouseup: _cache[5] || (_cache[5] = _withModifiers(\n//@ts-ignore\n(...args) => (_unref(completeZoomSelection) && _unref(completeZoomSelection)(...args)), [\"left\"])),\n        x: _unref(SVGConstants).overviewPanelWidth,\n        width: _unref(SVGConstants).detailsPanelWidth,\n        height: _unref(SVGConstants).viewboxHeight\n      }, null, 42, _hoisted_4),\n      _createElementVNode(\"rect\", {\n        class: \"panel\",\n        x: \"0\",\n        width: _unref(SVGConstants).overviewPanelWidth,\n        height: _unref(SVGConstants).panelTitleHeight\n      }, null, 8, _hoisted_5),\n      _createElementVNode(\"rect\", {\n        class: \"panel\",\n        x: _unref(SVGConstants).overviewPanelWidth,\n        width: _unref(SVGConstants).detailsPanelWidth,\n        height: _unref(SVGConstants).panelTitleHeight\n      }, null, 8, _hoisted_6),\n      _createElementVNode(\"text\", {\n        class: \"label medium bold\",\n        x: _unref(SVGConstants).overviewTitleXPosition,\n        y: _unref(SVGConstants).panelTitleYPosition\n      }, \"Overview\", 8, _hoisted_7),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(overviewTrackSets.value, (trackSet, index) => {\n        return (_openBlock(), _createElementBlock(_Fragment, { key: trackSet }, [\n          (index != 0)\n            ? (_openBlock(), _createBlock(TrackSVG, {\n                key: 0,\n                \"show-chromosome\": \"\",\n                \"show-synteny-on-hover\": \"\",\n                \"show-start-stop\": \"\",\n                \"pos-x\": getOverviewPanelTrackXOffset(index) + _unref(SVGConstants).backboneXPosition,\n                width: _unref(SVGConstants).trackWidth,\n                track: trackSet.speciesTrack as Track\n              }, null, 8, [\"pos-x\", \"width\", \"track\"]))\n            : (_openBlock(), _createBlock(BackboneTrackSVG, {\n                key: 1,\n                \"show-data-on-hover\": \"\",\n                \"pos-x\": getOverviewPanelTrackXOffset(index) + _unref(SVGConstants).backboneXPosition,\n                track: trackSet.speciesTrack as Track\n              }, null, 8, [\"pos-x\", \"track\"])),\n          _createElementVNode(\"text\", {\n            class: \"label small\",\n            x: getOverviewPanelTrackXOffset(index) + _unref(SVGConstants).backboneXPosition,\n            y: _unref(SVGConstants).trackLabelYPosition\n          }, _toDisplayString(trackSet.speciesTrack.name), 9, _hoisted_8),\n          _createElementVNode(\"text\", {\n            class: \"label small\",\n            x: getOverviewPanelTrackXOffset(index) + _unref(SVGConstants).backboneXPosition,\n            y: _unref(SVGConstants).trackMapLabelYPosition\n          }, _toDisplayString(trackSet.speciesTrack.mapName), 9, _hoisted_9)\n        ], 64))\n      }), 128)),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(detailTrackSets.value, (trackSet, index) => {\n        return (_openBlock(), _createElementBlock(_Fragment, { key: trackSet }, [\n          (index != 0)\n            ? (_openBlock(), _createBlock(TrackSVG, {\n                key: 0,\n                \"show-chromosome\": \"\",\n                \"pos-x\": getDetailedPanelTrackXOffset(index, 'track') + _unref(SVGConstants).selectedBackboneXPosition,\n                width: _unref(SVGConstants).trackWidth,\n                track: trackSet.speciesTrack as Track\n              }, null, 8, [\"pos-x\", \"width\", \"track\"]))\n            : (_openBlock(), _createBlock(BackboneTrackSVG, {\n                key: 1,\n                \"is-detailed\": \"\",\n                \"show-data-on-hover\": \"\",\n                \"pos-x\": getDetailedPanelTrackXOffset(index, 'track') + _unref(SVGConstants).selectedBackboneXPosition,\n                track: trackSet.speciesTrack as Track\n              }, null, 8, [\"pos-x\", \"track\"])),\n          (trackSet.dataTracks.length > 0)\n            ? (_openBlock(true), _createElementBlock(_Fragment, { key: 2 }, _renderList(trackSet.dataTracks, (dataTrack, index2) => {\n                return (_openBlock(), _createElementBlock(_Fragment, {\n                  key: dataTrack.name\n                }, [\n                  (dataTrack.isDisplayed)\n                    ? (_openBlock(), _createBlock(TrackSVG, {\n                        key: 0,\n                        \"gene-data-track\": \"\",\n                        \"show-gene-label\": \"\",\n                        \"pos-x\": getDetailedPanelTrackXOffset(index, 'datatrack', index2 + 1) + _unref(SVGConstants).selectedBackboneXPosition,\n                        width: _unref(SVGConstants).dataTrackWidth,\n                        lines: dataTrack.orthologLines as OrthologLine[] ?? [],\n                        track: dataTrack.track as Track\n                      }, null, 8, [\"pos-x\", \"width\", \"lines\", \"track\"]))\n                    : _createCommentVNode(\"\", true)\n                ], 64))\n              }), 128))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n      }), 128)),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(detailTrackSets.value, (trackSet, index) => {\n        return (_openBlock(), _createElementBlock(_Fragment, { key: trackSet }, [\n          _createElementVNode(\"text\", {\n            class: \"label small\",\n            x: getDetailedPanelTrackXOffset(index, 'track') + _unref(SVGConstants).selectedBackboneXPosition,\n            y: _unref(SVGConstants).trackLabelYPosition\n          }, _toDisplayString(trackSet.speciesTrack.name), 9, _hoisted_10),\n          _createElementVNode(\"text\", {\n            class: \"label small\",\n            x: getDetailedPanelTrackXOffset(index, 'track') + _unref(SVGConstants).selectedBackboneXPosition,\n            y: _unref(SVGConstants).trackMapLabelYPosition\n          }, _toDisplayString(trackSet.speciesTrack.mapName), 9, _hoisted_11)\n        ], 64))\n      }), 128)),\n      _createElementVNode(\"text\", {\n        class: \"label medium bold\",\n        x: _unref(SVGConstants).selectedBackboneXPosition,\n        y: _unref(SVGConstants).panelTitleYPosition\n      }, \"Detailed\", 8, _hoisted_12),\n      _createElementVNode(\"rect\", {\n        class: _normalizeClass([\"navigation-btn\", {'disabled': _unref(isNavigationUpDisabled) }]),\n        onClick: navigateUp,\n        x: _unref(SVGConstants).overviewPanelWidth,\n        y: _unref(SVGConstants).panelTitleHeight - _unref(SVGConstants).navigationButtonHeight,\n        width: _unref(SVGConstants).detailsPanelWidth,\n        height: _unref(SVGConstants).navigationButtonHeight\n      }, null, 10, _hoisted_13),\n      _createElementVNode(\"rect\", {\n        class: _normalizeClass([\"navigation-btn\", {'disabled': _unref(isNavigationDownDisabled) }]),\n        onClick: navigateDown,\n        x: _unref(SVGConstants).overviewPanelWidth,\n        y: _unref(SVGConstants).viewboxHeight - _unref(SVGConstants).navigationButtonHeight,\n        width: _unref(SVGConstants).detailsPanelWidth,\n        height: _unref(SVGConstants).navigationButtonHeight\n      }, null, 10, _hoisted_14),\n      _createElementVNode(\"image\", {\n        class: \"nav-btn-img\",\n        href: _imports_0,\n        onClick: navigateUp,\n        x: _unref(SVGConstants).overviewPanelWidth + (_unref(SVGConstants).detailsPanelWidth / 2),\n        y: _unref(SVGConstants).panelTitleHeight - _unref(SVGConstants).navigationButtonHeight - 1,\n        width: \"20\",\n        height: \"20\"\n      }, null, 8, _hoisted_15),\n      _createElementVNode(\"image\", {\n        class: \"nav-btn-img\",\n        href: _imports_1,\n        onClick: navigateDown,\n        x: _unref(SVGConstants).overviewPanelWidth + (_unref(SVGConstants).detailsPanelWidth / 2),\n        y: _unref(SVGConstants).viewboxHeight - _unref(SVGConstants).navigationButtonHeight - 1,\n        width: \"20\",\n        height: \"20\"\n      }, null, 8, _hoisted_16),\n      (_unref(startDetailedSelectionY) && _unref(stopDetailedSelectionY))\n        ? (_openBlock(), _createElementBlock(\"rect\", {\n            key: 0,\n            onMouseup: _cache[6] || (_cache[6] = _withModifiers(\n//@ts-ignore\n(...args) => (_unref(completeZoomSelection) && _unref(completeZoomSelection)(...args)), [\"left\"])),\n            onMousemove: _cache[7] || (_cache[7] = \n//@ts-ignore\n(...args) => (_unref(updateZoomSelection) && _unref(updateZoomSelection)(...args))),\n            fill: \"lightgray\",\n            \"fill-opacity\": \"0.4\",\n            x: _unref(SVGConstants).overviewPanelWidth,\n            y: _unref(startDetailedSelectionY),\n            width: _unref(SVGConstants).detailsPanelWidth,\n            height: _unref(stopDetailedSelectionY) - _unref(startDetailedSelectionY)\n          }, null, 40, _hoisted_17))\n        : _createCommentVNode(\"\", true),\n      (_unref(startOverviewSelectionY) && _unref(stopOverviewSelectionY))\n        ? (_openBlock(), _createElementBlock(\"rect\", {\n            key: 1,\n            onMouseup: _cache[8] || (_cache[8] = _withModifiers(($event: any) => (_unref(completeOverviewSelection)(overviewTrackSets.value as TrackSet[])), [\"left\"])),\n            onMousemove: _cache[9] || (_cache[9] = \n//@ts-ignore\n(...args) => (_unref(updateOverviewSelection) && _unref(updateOverviewSelection)(...args))),\n            fill: \"lightgray\",\n            \"fill-opacity\": \"0.4\",\n            x: 0,\n            y: _unref(startOverviewSelectionY),\n            width: _unref(SVGConstants).overviewPanelWidth,\n            height: _unref(stopOverviewSelectionY) - _unref(startOverviewSelectionY)\n          }, null, 40, _hoisted_18))\n        : _createCommentVNode(\"\", true)\n    ], 8, _hoisted_1)),\n    _createVNode(VCMapDialog, {\n      show: _unref(showDialog),\n      \"onUpdate:show\": _cache[10] || (_cache[10] = ($event: any) => (_isRef(showDialog) ? showDialog.value = $event : null)),\n      header: _unref(dialogHeader),\n      message: _unref(dialogMessage)\n    }, null, 8, [\"show\", \"header\", \"message\"])\n  ], 64))\n}\n}\n\n})","import script from \"./SVGViewbox.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SVGViewbox.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SVGViewbox.vue?vue&type=style&index=0&id=5cb6aa6e&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/jdepons/git/vcmap-ui/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5cb6aa6e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, isRef as _isRef, createVNode as _createVNode, withCtx as _withCtx, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-390543bb\")\nconst _hoisted_1 = { class: \"grid unpadded col-4\" }\nconst _hoisted_2 = { class: \"col-12\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"Overview\", -1)\nconst _hoisted_4 = { class: \"grid unpadded\" }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"col-5\" }, \"Displaying:\", -1)\nconst _hoisted_6 = {\n  class: \"col-7 bold\",\n  \"data-test\": \"backbone-overview-display\"\n}\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"col-5\" }, \"Assembly:\", -1)\nconst _hoisted_8 = { class: \"col-7 bold\" }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"col-5\" }, \"Length:\", -1)\nconst _hoisted_10 = { class: \"col-7 bold\" }\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"col-5\" }, \"Synteny Threshold:\", -1)\nconst _hoisted_12 = { class: \"col-7 bold\" }\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"col-5\" }, \"Base Selection:\", -1)\nconst _hoisted_14 = { class: \"col-7 bold\" }\nconst _hoisted_15 = { class: \"grid p-d-flex\" }\nconst _hoisted_16 = { class: \"col-6\" }\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"h4\", { class: \"config-label\" }, \"Start Position\", -1)\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"label-description\" }, \"Min: 0bp\", -1)\nconst _hoisted_19 = { class: \"col-6\" }\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"h4\", { class: \"config-label\" }, \"Stop Position\", -1)\nconst _hoisted_21 = { class: \"label-description\" }\nconst _hoisted_22 = { class: \"grid p-d-flex\" }\nconst _hoisted_23 = { class: \"col-6 left-align-btn\" }\nconst _hoisted_24 = { class: \"col-6\" }\n_popScopeId()\n\nimport { Formatter } from '@/utils/Formatter';\nimport { computed, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { key } from '@/store';\nimport VCMapDialog from './VCMapDialog.vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst store = useStore(key);\n\nlet showEditModal = ref(false);\nlet startPosition = ref(store.state.selectedBackboneRegion.baseSelection.basePairStart);\nlet stopPosition = ref(store.state.selectedBackboneRegion.baseSelection.basePairStop);\n\nconst areSelectionButtonsDisabled = computed(() => {\n  return store.state.selectedBackboneRegion.baseSelection.svgHeight <= 0 \n    || store.state.chromosome == null\n    || store.state.isOverviewPanelUpdating \n    || store.state.isDetailedPanelUpdating;\n});\n\nconst isValidStartStop = computed(() => {\n  return startPosition.value !== stopPosition.value;\n});\n\nconst maxPosition = computed(() => {\n  return store.state.chromosome?.seqLength ?? 0;\n});\n\nconst formattedBackboneStart = computed(() => {\n  return Formatter.addCommasToBasePair(0);\n});\n\nconst formattedBackboneStop = computed(() => {\n  return (store.state.chromosome) ? Formatter.addCommasToBasePair(store.state.chromosome.seqLength) : '-';\n});\n\nconst backboneLength = computed(() => {\n  if (store.state.chromosome == null)\n  {\n    return '-';\n  }\n\n  return Formatter.addCommasToBasePair(store.state.chromosome.seqLength);\n});\n\nconst selectionRange = computed(() => {\n  let selectedRegion = store.state.selectedBackboneRegion;\n  if (selectedRegion == null || (selectedRegion.baseSelection.basePairStop - selectedRegion.baseSelection.basePairStart <= 0))\n  {\n    return '-';\n  }\n\n  return `${Formatter.addCommasToBasePair(selectedRegion.baseSelection.basePairStart)}bp - ${Formatter.addCommasToBasePair(selectedRegion.baseSelection.basePairStop)}bp`;\n});\n\nconst clearSelection = () => {\n  store.dispatch('clearBackboneSelection');\n};\n\nconst changeSelectionByPercentage = (percent: number) => {\n  if (store.state.chromosome == null)\n  {\n    console.error('Chromosome seq length required when adjusting backbone base selection');\n    return;\n  }\n\n  const selectedBackboneRegion = store.state.selectedBackboneRegion;\n  selectedBackboneRegion.adjustBaseSelectionByPercentage(percent, store.state.chromosome.seqLength, store.state.overviewBasePairToHeightRatio);\n  store.dispatch('setBackboneSelection', selectedBackboneRegion);\n};\n\nconst openSelectionEditModal = () => {\n  startPosition.value = store.state.selectedBackboneRegion.baseSelection.basePairStart;\n  stopPosition.value = store.state.selectedBackboneRegion.baseSelection.basePairStop;\n  showEditModal.value = true;\n};\n\nconst closeModal = () => {\n  showEditModal.value = false;\n};\n\nconst saveSelectionChange = () => {\n  if (store.state.chromosome == null)\n  {\n    console.error('Chromosome seq length required when adjusting backbone base selection');\n    return;\n  }\n\n  if (isValidStartStop.value)\n  {\n    const selectedBackboneRegion = store.state.selectedBackboneRegion;\n    selectedBackboneRegion.adjustBaseSelectionByPosition(startPosition.value, stopPosition.value, store.state.chromosome?.seqLength, store.state.overviewBasePairToHeightRatio);\n    store.dispatch('setBackboneSelection', selectedBackboneRegion);\n  }\n  showEditModal.value = false;\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_InputNumber = _resolveComponent(\"InputNumber\")!\n  const _component_Button = _resolveComponent(\"Button\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _hoisted_3,\n        _createElementVNode(\"div\", _hoisted_4, [\n          _hoisted_5,\n          _createElementVNode(\"div\", _hoisted_6, _toDisplayString(_unref(store).state.species?.name) + \" chr\" + _toDisplayString(_unref(store).state.chromosome?.chromosome) + \":\" + _toDisplayString(_unref(formattedBackboneStart)) + \"-\" + _toDisplayString(_unref(formattedBackboneStop)), 1),\n          _hoisted_7,\n          _createElementVNode(\"div\", _hoisted_8, _toDisplayString(_unref(store).state.species?.activeMap.name), 1),\n          _hoisted_9,\n          _createElementVNode(\"div\", _hoisted_10, _toDisplayString(_unref(backboneLength)) + \"bp\", 1),\n          _hoisted_11,\n          _createElementVNode(\"div\", _hoisted_12, _toDisplayString(_unref(Formatter).addCommasToBasePair(_unref(store).state.overviewSyntenyThreshold)) + \"bp\", 1),\n          _hoisted_13,\n          _createElementVNode(\"div\", _hoisted_14, [\n            _createElementVNode(\"span\", {\n              class: \"clickable-range\",\n              onClick: openSelectionEditModal\n            }, _toDisplayString(_unref(selectionRange)), 1)\n          ])\n        ])\n      ])\n    ]),\n    _createVNode(VCMapDialog, {\n      show: _unref(showEditModal),\n      \"onUpdate:show\": _cache[2] || (_cache[2] = ($event: any) => (_isRef(showEditModal) ? showEditModal.value = $event : showEditModal = $event)),\n      header: \"Edit Base Selection Start/Stop Positions\"\n    }, {\n      content: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_15, [\n          _createElementVNode(\"div\", _hoisted_16, [\n            _hoisted_17,\n            _hoisted_18,\n            _createVNode(_component_InputNumber, {\n              showButtons: \"\",\n              modelValue: _unref(startPosition),\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(startPosition) ? startPosition.value = $event : startPosition = $event)),\n              suffix: \"bp\",\n              step: 500,\n              max: _unref(maxPosition) - 1,\n              min: 0\n            }, null, 8, [\"modelValue\", \"max\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_19, [\n            _hoisted_20,\n            _createElementVNode(\"p\", _hoisted_21, \"Max: \" + _toDisplayString(_unref(Formatter).addCommasToBasePair(_unref(maxPosition))) + \"bp\", 1),\n            _createVNode(_component_InputNumber, {\n              showButtons: \"\",\n              modelValue: _unref(stopPosition),\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => (_isRef(stopPosition) ? stopPosition.value = $event : stopPosition = $event)),\n              suffix: \"bp\",\n              step: 500,\n              max: _unref(maxPosition),\n              min: 1\n            }, null, 8, [\"modelValue\", \"max\"])\n          ])\n        ])\n      ]),\n      footer: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_22, [\n          _createElementVNode(\"div\", _hoisted_23, [\n            _createVNode(_component_Button, {\n              label: \"Cancel\",\n              class: \"p-button-primary\",\n              onClick: closeModal\n            })\n          ]),\n          _createElementVNode(\"div\", _hoisted_24, [\n            _createVNode(_component_Button, {\n              label: \"Confirm New Selection\",\n              class: \"p-button-success\",\n              onClick: saveSelectionChange,\n              disabled: !_unref(isValidStartStop) || _unref(store).state.isOverviewPanelUpdating || _unref(store).state.isDetailedPanelUpdating\n            }, null, 8, [\"disabled\"])\n          ])\n        ])\n      ]),\n      _: 1\n    }, 8, [\"show\"])\n  ], 64))\n}\n}\n\n})","import script from \"./OverviewControls.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./OverviewControls.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./OverviewControls.vue?vue&type=style&index=0&id=390543bb&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/jdepons/git/vcmap-ui/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-390543bb\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-11011324\")\nconst _hoisted_1 = { \"data-test\": \"zoom-level-label\" }\n_popScopeId()\n\nimport { useStore } from 'vuex';\nimport { key } from '@/store';\nimport { computed, ref, watch } from 'vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst ZOOM_DEBOUNCE_MILLIS = 500;\nconst store = useStore(key);\n\nconst zoomLevel = ref(1);\nlet zoomProcessTimeoutId: number | undefined;\n\nwatch(() => store.state.isDetailedPanelUpdating, (isUpdating) => {\n  if (!isUpdating)\n  {\n    zoomLevel.value = store.state.selectedBackboneRegion.zoomLevel;\n  }\n});\n\nconst isZoomDisabled = computed(() => {\n  return store.state.selectedBackboneRegion.innerSelection == null;\n});\n\nconst onZoomChange = (zoomLevel: number) => {\n  // Sort of manual debounce here... the change event fires frequently as someone drags the slider\n  // so we need to only processing the zoom when the user has stopped moving the slider for a certain\n  // period of time\n  if (zoomProcessTimeoutId != undefined)\n  {\n    clearTimeout(zoomProcessTimeoutId);\n  }\n\n  if (store.state.isDetailedPanelUpdating)\n  {\n    return;\n  }\n\n  zoomProcessTimeoutId = setTimeout(() => {\n    zoom(zoomLevel);\n  }, ZOOM_DEBOUNCE_MILLIS);\n};\n\nconst zoom = (zoomLevel: number) => {\n  const selectedRegion = store.state.selectedBackboneRegion;\n\n  if (zoomLevel === 1)\n  {\n    store.dispatch('setDetailedBasePairRange', { start: selectedRegion.baseSelection.basePairStart, stop: selectedRegion.baseSelection.basePairStop });\n  }\n  else\n  {\n    let zoomedStart = selectedRegion.baseSelection.basePairStart;\n    let zoomedStop = selectedRegion.baseSelection.basePairStop;\n    let currentLength = zoomedStop - zoomedStart;\n    if (selectedRegion.innerSelection)\n    {\n      zoomedStart = selectedRegion.innerSelection.basePairStart;\n      zoomedStop = selectedRegion.innerSelection.basePairStop;\n      currentLength = zoomedStop - zoomedStart;\n    }\n\n    const newRegionLength = (zoomedStop - zoomedStart) * (selectedRegion.zoomLevel / zoomLevel);\n    const lengthDiff = currentLength - newRegionLength;\n\n    if (lengthDiff > 0)\n    {\n      // Zooming in\n      zoomedStart = zoomedStart + (lengthDiff / 2);\n      zoomedStop = zoomedStop - (lengthDiff / 2);\n    }\n    else if (lengthDiff < 0)\n    {\n      // Zooming out\n      zoomedStart = zoomedStart + (lengthDiff / 2);\n      zoomedStop = zoomedStop - (lengthDiff / 2);\n\n      if (zoomedStart < selectedRegion.baseSelection.basePairStart)\n      {\n        zoomedStart = selectedRegion.baseSelection.basePairStart;\n        // Apply the rest of the region length to the end along with a sanity check to make sure the stop doesn't extend past the base selection\n        zoomedStop = (zoomedStart - lengthDiff > selectedRegion.baseSelection.basePairStop) ? selectedRegion.baseSelection.basePairStop : zoomedStart + newRegionLength;\n      }\n      else if (zoomedStop > selectedRegion.baseSelection.basePairStop)\n      {\n        zoomedStop = selectedRegion.baseSelection.basePairStop;\n        // Apply the rest of the region length to the start along with a sanity check to make the start doesn't extend above the base selection\n        zoomedStart = (zoomedStop + lengthDiff < selectedRegion.baseSelection.basePairStart) ? selectedRegion.baseSelection.basePairStart : zoomedStop - newRegionLength;\n      }\n    }\n\n    store.dispatch('setDetailedBasePairRange', { start: zoomedStart, stop: zoomedStop });\n  }\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Slider = _resolveComponent(\"Slider\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"span\", _hoisted_1, _toDisplayString(zoomLevel.value) + \"x\", 1),\n    _createVNode(_component_Slider, {\n      disabled: _unref(isZoomDisabled) || _unref(store).state.isDetailedPanelUpdating,\n      class: \"zoom-slider\",\n      \"data-test\": \"zoom-slider\",\n      modelValue: zoomLevel.value,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (zoomLevel.value = $event)),\n      step: 1,\n      min: 1,\n      max: 100,\n      onChange: onZoomChange\n    }, null, 8, [\"disabled\", \"modelValue\"])\n  ], 64))\n}\n}\n\n})","import script from \"./Zoom.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Zoom.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Zoom.vue?vue&type=style&index=0&id=11011324&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/jdepons/git/vcmap-ui/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-11011324\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"grid unpadded col-7\" }\nconst _hoisted_2 = { class: \"col-12\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"Details\", -1)\nconst _hoisted_4 = { class: \"grid unpadded\" }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"col-3\" }, \"Displaying:\", -1)\nconst _hoisted_6 = { class: \"col-9 bold\" }\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"col-3\" }, \"Comparative Species:\", -1)\nconst _hoisted_8 = { class: \"col-9 bold\" }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"col-3\" }, \"Synteny Threshold:\", -1)\nconst _hoisted_10 = { class: \"col-9 bold\" }\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"col-3\" }, \"Zoom Level:\", -1)\nconst _hoisted_12 = { class: \"col-9 bold\" }\n\nimport Species from '@/models/Species';\nimport { computed } from 'vue';\nimport { useStore } from 'vuex';\nimport Zoom from '@/components/Zoom.vue';\nimport { Formatter } from '@/utils/Formatter';\nimport { key } from '@/store';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst store = useStore(key);\n\nconst displayedSpeciesRegionLabel = computed(() => {\n  const selectedRegion = store.state.selectedBackboneRegion;\n  if (selectedRegion && selectedRegion.innerSelection && selectedRegion.innerSelection.svgHeight > 0)\n  {\n    return `${Formatter.addCommasToBasePair(selectedRegion.innerSelection.basePairStart)}-${Formatter.addCommasToBasePair(selectedRegion.innerSelection.basePairStop)}`;\n  }\n  \n  return '';\n});\n\nconst comparativeSpeciesText = computed(() => {\n  let text = '';\n  store.state.comparativeSpecies.forEach((species: Species) => {\n    if (text.length > 0)\n    {\n      text += ', ';\n    }\n\n    text += `${species.name} (${species.activeMap.name})`;\n  });\n\n  return text;\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createElementVNode(\"div\", _hoisted_4, [\n        _hoisted_5,\n        _createElementVNode(\"div\", _hoisted_6, _toDisplayString(_unref(store).state.species?.name) + \" chr\" + _toDisplayString(_unref(store).state.chromosome?.chromosome) + \":\" + _toDisplayString(_unref(displayedSpeciesRegionLabel)), 1),\n        _hoisted_7,\n        _createElementVNode(\"div\", _hoisted_8, _toDisplayString(_unref(comparativeSpeciesText)), 1),\n        _hoisted_9,\n        _createElementVNode(\"div\", _hoisted_10, _toDisplayString(_unref(Formatter).addCommasToBasePair(_unref(store).state.detailsSyntenyThreshold)) + \"bp\", 1),\n        _hoisted_11,\n        _createElementVNode(\"div\", _hoisted_12, [\n          _createVNode(Zoom)\n        ])\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./DetailsControls.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./DetailsControls.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '../assets/images/vcmap_logo_v2.png'\n\n\n_pushScopeId(\"data-v-7cf21b18\")\nconst _hoisted_1 = { class: \"grid\" }\nconst _hoisted_2 = { class: \"col-12\" }\nconst _hoisted_3 = { class: \"vcmap-header\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"img\", {\n  alt: \"VCMap Logo\",\n  class: \"logo\",\n  src: _imports_0\n}, null, -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"h3\", { class: \"header\" }, \"VCMap\", -1)\nconst _hoisted_6 = { class: \"version-label\" }\nconst _hoisted_7 = { class: \"grid p-d-flex\" }\n_popScopeId()\n\nimport { useRouter } from 'vue-router';\nimport OverviewControls from '@/components/OverviewControls.vue';\nimport DetailsControls from '@/components/DetailsControls.vue';\nimport { VERSION } from '@/version';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst router = useRouter();\n\nconst goToConfigurationScreen = () => {\n  router.push('/');\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Button = _resolveComponent(\"Button\")!\n  const _component_Divider = _resolveComponent(\"Divider\")!\n  const _component_Panel = _resolveComponent(\"Panel\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_Panel, {\n        toggleable: true,\n        class: \"vcmap-panel\"\n      }, {\n        header: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _hoisted_4,\n            _hoisted_5,\n            _createElementVNode(\"span\", _hoisted_6, \"v\" + _toDisplayString(_unref(VERSION)), 1)\n          ])\n        ]),\n        icons: _withCtx(() => [\n          _createVNode(_component_Button, {\n            label: \"New Configuration\",\n            class: \"p-button-info header-btn\",\n            onClick: goToConfigurationScreen,\n            \"data-test\": \"load-config-btn\"\n          })\n        ]),\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_7, [\n            _createVNode(OverviewControls),\n            _createVNode(_component_Divider, { layout: \"vertical\" }),\n            _createVNode(DetailsControls)\n          ])\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","import script from \"./HeaderPanel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./HeaderPanel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./HeaderPanel.vue?vue&type=style&index=0&id=7cf21b18&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/jdepons/git/vcmap-ui/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7cf21b18\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, unref as _unref, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-25164ecc\")\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { class: \"gene-row\" }\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\" Symbol: \")\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"i\", { class: \"pi pi-external-link external-link\" }, null, -1)\nconst _hoisted_5 = {\n  key: 1,\n  \"data-test\": \"gene-name\"\n}\nconst _hoisted_6 = {\n  key: 2,\n  \"data-test\": \"species-name\"\n}\nconst _hoisted_7 = { \"data-test\": \"chromosome-name\" }\nconst _hoisted_8 = { \"data-test\": \"start-stop\" }\nconst _hoisted_9 = { key: 3 }\nconst _hoisted_10 = {\n  key: 4,\n  \"data-test\": \"level\"\n}\n_popScopeId()\n\nimport Gene from '@/models/Gene';\nimport { Formatter } from '@/utils/Formatter';\nimport { useStore } from 'vuex';\nimport { key } from '@/store';\nimport { getGeneOrthologIds, getNewSelectedData } from '@/utils/DataPanelHelpers';\n\ninterface Props\n{\n  gene: Gene | null;\n  chromosome: string;\n  start: number;\n  stop: number;\n  chainLevel?: number;\n  trackOrientation?: string;\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    gene: { type: null, required: true },\n    chromosome: { type: String, required: true },\n    start: { type: Number, required: true },\n    stop: { type: Number, required: true },\n    chainLevel: { type: Number, required: false },\n    trackOrientation: { type: String, required: false }\n  },\n  setup(__props: any) {\n\nconst store = useStore(key);\n\n\n\nconst selectGene = (gene: Gene) => {\n  const newData = getNewSelectedData(store, gene);\n  store.dispatch('setSelectedGeneIds', newData.rgdIds || []);\n  store.dispatch('setSelectedData', newData.selectedData);\n};\n\nconst goToRgd = (rgdId: number) => {\n  const rgdUrl = `https://rgd.mcw.edu/rgdweb/report/gene/main.html?id=${rgdId}`;\n  window.open(rgdUrl);\n};\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Button = _resolveComponent(\"Button\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (__props.gene)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createElementVNode(\"div\", null, [\n              _hoisted_3,\n              _createVNode(_component_Button, {\n                class: \"p-button-link rgd-link\",\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (selectGene(__props.gene)))\n              }, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"b\", null, _toDisplayString(__props.gene.symbol), 1)\n                ]),\n                _: 1\n              })\n            ]),\n            _createElementVNode(\"div\", null, [\n              _createVNode(_component_Button, {\n                class: \"p-button-link rgd-link\",\n                onClick: _cache[1] || (_cache[1] = ($event: any) => (goToRgd(__props.gene.rgdId)))\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_4\n                ]),\n                _: 1\n              })\n            ])\n          ])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (__props.gene)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, \"Name: \" + _toDisplayString(__props.gene.name ?? 'N/A'), 1))\n      : _createCommentVNode(\"\", true),\n    (__props.gene)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \"Species: \" + _toDisplayString(__props.gene.speciesName ?? 'N/A'), 1))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_7, \"Chromosome: \" + _toDisplayString(__props.chromosome), 1),\n    _createElementVNode(\"div\", _hoisted_8, \" Region: \" + _toDisplayString(_unref(Formatter).addCommasToBasePair(__props.start)) + \" - \" + _toDisplayString(_unref(Formatter).addCommasToBasePair(__props.stop)), 1),\n    (__props.trackOrientation)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, \"Orientation: \" + _toDisplayString(__props.trackOrientation), 1))\n      : _createCommentVNode(\"\", true),\n    (__props.chainLevel)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, \" Level: \" + _toDisplayString(__props.chainLevel), 1))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}\n}\n\n})","import script from \"./GeneInfo.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./GeneInfo.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./GeneInfo.vue?vue&type=style&index=0&id=25164ecc&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/jdepons/git/vcmap-ui/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-25164ecc\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, unref as _unref, resolveDirective as _resolveDirective, withDirectives as _withDirectives, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-3e872db8\")\nconst _hoisted_1 = { class: \"selected-data-header\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"panel-header-item\" }, [\n  /*#__PURE__*/_createElementVNode(\"b\", null, \"Selected Data\")\n], -1)\nconst _hoisted_3 = { class: \"panel-header-item\" }\nconst _hoisted_4 = { class: \"panel-header-item\" }\nconst _hoisted_5 = { class: \"panel-header-item\" }\nconst _hoisted_6 = { class: \"gene-data\" }\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", { \"data-test\": \"start-stop\" }, \"BACKBONE GENE:\", -1)\nconst _hoisted_8 = { \"data-test\": \"gene-symbol\" }\nconst _hoisted_9 = { \"data-test\": \"gene-name\" }\nconst _hoisted_10 = { \"data-test\": \"chromosome-name\" }\nconst _hoisted_11 = { \"data-test\": \"start-stop\" }\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"div\", { \"data-test\": \"start-stop\" }, \"<--------------------------------------->\", -1)\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"div\", { \"data-test\": \"start-stop\" }, \"COMPARATIVE GENE HOMOLOG:\", -1)\nconst _hoisted_14 = { \"data-test\": \"gene-symbol\" }\nconst _hoisted_15 = { \"data-test\": \"gene-symbol\" }\nconst _hoisted_16 = { \"data-test\": \"gene-name\" }\nconst _hoisted_17 = { \"data-test\": \"chromosome-name\" }\nconst _hoisted_18 = { \"data-test\": \"start-stop\" }\n_popScopeId()\n\nimport SelectedData from '@/models/SelectedData';\nimport Gene from '@/models/Gene';\nimport GeneInfo from '@/components/GeneInfo.vue';\nimport { Formatter } from '@/utils/Formatter';\nimport SVGConstants from '@/utils/SVGConstants';\nimport { ref, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport { key } from '@/store';\nimport { getNewSelectedData, sortGeneList } from '@/utils/DataPanelHelpers';\n\ninterface Props\n{\n  selectedData: SelectedData[] | null;\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    selectedData: { type: [Array, null], required: true }\n  },\n  setup(__props: any) {\n\nconst props = __props as {\n  selectedData: SelectedData[] | null;\n}\nconst store = useStore(key);\n\n\n\nconst searchedGene = ref<Gene | Gene[] | null>(null);\nconst geneSuggestions = ref<Gene[]>([]);\nconst numberOfResults = ref<number>(0);\nconst overviewStart = ref<number>(store.state.selectedBackboneRegion.baseSelection.basePairStart);\nconst overviewStop = ref<number>(store.state.selectedBackboneRegion.baseSelection.basePairStop);\n\n// fraction of gene bp length to add to the window when jumping\n// to the gene after a search\nconst SEARCHED_GENE_WINDOW_FACTOR = 3;\n\nwatch(() => props.selectedData, () => {\n  numberOfResults.value = 0;\n  if (props.selectedData) {\n    props.selectedData.forEach((dataObject) => {\n      if (dataObject.type === 'trackSection' || dataObject.type === 'Gene' || dataObject.type === 'geneLabel') {\n        if (dataObject.type === 'trackSection' && dataObject.genomicSection.gene) \n        {\n          numberOfResults.value += (dataObject.genomicSection.hiddenGenes.length + 1);\n          if (dataObject.genomicSection.hiddenGenes.length > 0) sortGeneList(dataObject.genomicSection.hiddenGenes);\n        }\n        if (dataObject.type === 'geneLabel') \n        {\n          numberOfResults.value += (dataObject.genomicSection.combinedGenes.length + 1);\n          if (dataObject.genomicSection.combinedGenes.length > 0) sortGeneList(dataObject.genomicSection.combinedGenes);\n        }\n        if (dataObject.type === 'Gene') \n        {\n          numberOfResults.value += 1;\n        }\n      }\n    });\n  }\n});\n\nwatch(() => store.state.selectedBackboneRegion.baseSelection, () => {\n  overviewStart.value = store.state.selectedBackboneRegion.baseSelection.basePairStart;\n  overviewStop.value = store.state.selectedBackboneRegion.baseSelection.basePairStop;\n});\n\nconst clearSelectedGenes = () => {\n  store.dispatch('setSelectedGeneIds', []);\n  store.dispatch('setSelectedData', null);\n  store.dispatch('setGene', null);\n  searchedGene.value = null;\n};\n\nconst searchGene = (event: {query: string}) => {\n  const loadedGenes = store.state.loadedGenes;\n  let matches: Gene[] = [];\n  for (let k of loadedGenes.keys()) \n  {\n    if (k.toLowerCase().includes(event.query.toLowerCase()))\n    {\n      let match: Object = loadedGenes.get(k);\n      for (let [key, value] of Object.entries(match)) \n      {\n        matches.push(value.gene);\n      }\n    }\n  }\n  geneSuggestions.value = matches;\n};\n\nconst searchSVG = (event: any) => {\n  store.dispatch('setGene', event.value);\n  const newData = getNewSelectedData(store, event.value);\n  store.dispatch('setSelectedGeneIds', newData.rgdIds || []);\n  store.dispatch('setSelectedData', newData.selectedData);\n  // Only adjust window of the searched gene is on backbone\n  if (event.value && event.value.speciesName === store.state.species?.name) {\n    adjustSelectionWindow();\n  }\n};\n\nconst selectAndSearchSVG = (event: any) => {\n  // If \"Enter\" is pressed, just search the first gene\n  if (event.key === \"Enter\") {\n    searchedGene.value = geneSuggestions.value[0];\n    const newData = getNewSelectedData(store, searchedGene.value);\n    store.dispatch('setGene', searchedGene.value);\n    store.dispatch('setSelectedGeneIds', newData.rgdIds || []);\n    store.dispatch('setSelectedData', newData.selectedData);\n    if (searchedGene.value && searchedGene.value.speciesName === store.state.species?.name) {\n      adjustSelectionWindow();\n    }\n  }\n};\n\nconst getSuggestionDisplay = (item: any) => {\n  return `${item.symbol} - ${item.speciesName}`;\n};\n\nconst adjustSelectionWindow = () => {\n  const loadedGenes = store.state.loadedGenes;\n  const selectedRegion = store.state.selectedBackboneRegion;\n  const selectionStart = selectedRegion.innerSelection?.basePairStart || selectedRegion.baseSelection.basePairStart;\n  const selectionStop = selectedRegion.innerSelection?.basePairStop || selectedRegion.baseSelection.basePairStop;\n\n  // New start and stop will be +/- some multiple of the gene's length (currently 2x)\n  const geneBasePairLength = searchedGene.value.stop - searchedGene.value.start;\n  // Take the max of new start position, and selected region's original start\n  // to avoid jumping to outside of loaded region\n  const newInnerStart = Math.max(Math.floor(searchedGene.value.start\n    - SEARCHED_GENE_WINDOW_FACTOR * geneBasePairLength), selectedRegion.baseSelection.basePairStart);\n  // Take min of new stop and selected regions original stop\n  const newInnerStop = Math.min(Math.floor(searchedGene.value.stop\n    + SEARCHED_GENE_WINDOW_FACTOR * geneBasePairLength), selectedRegion.baseSelection.basePairStop);\n    \n  //get orthologs for backbone gene, and determine the relative highest and lowest positioned genes to reset the window\n  const orthologs = loadedGenes.get(searchedGene.value.symbol.toLowerCase());\n  let drawnOrthologs = [];\n  for (let [key, value] of Object.entries(orthologs)) \n  {\n    if (value.gene.speciesName.toLowerCase() !== searchedGene.value.speciesName.toLowerCase()) \n    {\n      if (value.visible.length > 0)\n      {\n        drawnOrthologs = drawnOrthologs.concat(value.visible);\n      }\n      else if (value.drawn.length > 0)\n      {\n        drawnOrthologs = drawnOrthologs.concat(value.drawn);\n      }\n    }\n  }\n\n  if (drawnOrthologs.length > 0)\n  {\n    drawnOrthologs.sort((a, b) => a.svgY - b.svgY);\n    const highestOrtholog = drawnOrthologs[0];\n    const lowestOrtholog = drawnOrthologs[drawnOrthologs.length - 1];\n\n    const topOrthologLength = highestOrtholog.sectionStop - highestOrtholog.sectionStart;\n    const bottomOrthologLength = lowestOrtholog.sectionStop - lowestOrtholog.sectionStart;\n\n    const basePairsFromInnerSelection1 = Math.floor((highestOrtholog.svgY - SVGConstants.panelTitleHeight) * store.state.detailedBasePairToHeightRatio);\n    const basePairStart = Math.max(basePairsFromInnerSelection1 + selectionStart - (topOrthologLength * 5), selectedRegion.baseSelection.basePairStart);\n\n    const basePairsFromInnerSelection2 = Math.floor((lowestOrtholog.svgY - SVGConstants.panelTitleHeight) * store.state.detailedBasePairToHeightRatio);\n    const basePairStop = Math.min(basePairsFromInnerSelection2 + selectionStart + (bottomOrthologLength * 5), selectedRegion.baseSelection.basePairStop);\n\n    //confirm the searched gene is visible in the result and adjust if not\n    if (newInnerStart > basePairStart && newInnerStop < basePairStop)\n    {\n      store.dispatch('setDetailedBasePairRange', { start: basePairStart, stop: basePairStop});\n    }\n    else if (newInnerStart < basePairStart)\n    {\n      newInnerStop > basePairStop ? store.dispatch('setDetailedBasePairRange', { start: newInnerStart, stop: newInnerStop }) : store.dispatch('setDetailedBasePairRange', { start: newInnerStart, stop: basePairStop });\n    }\n    else if (newInnerStop > basePairStop)\n    {\n      newInnerStart < basePairStart ? store.dispatch('setDetailedBasePairRange', { start: newInnerStart, stop: newInnerStop}) : store.dispatch('setDetailedBasePairRange', { start: basePairStart, stop: newInnerStop}); \n    }\n    \n  }\n  else\n  {\n    store.dispatch('setDetailedBasePairRange', { start: newInnerStart, stop: newInnerStop});\n  }\n  \n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Button = _resolveComponent(\"Button\")!\n  const _component_AutoComplete = _resolveComponent(\"AutoComplete\")!\n  const _component_Divider = _resolveComponent(\"Divider\")!\n  const _component_Panel = _resolveComponent(\"Panel\")!\n  const _directive_tooltip = _resolveDirective(\"tooltip\")!\n\n  return (_openBlock(), _createBlock(_component_Panel, null, {\n    header: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _hoisted_2,\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createVNode(_component_Button, {\n            label: \"Clear Selection\",\n            class: \"p-button-info\",\n            onClick: clearSelectedGenes\n          })\n        ]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(_component_AutoComplete, {\n            modelValue: searchedGene.value,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (searchedGene.value = $event)),\n            suggestions: geneSuggestions.value,\n            onComplete: _cache[1] || (_cache[1] = ($event: any) => (searchGene($event))),\n            onItemSelect: _cache[2] || (_cache[2] = ($event: any) => (searchSVG($event))),\n            onKeydown: _cache[3] || (_cache[3] = ($event: any) => (selectAndSearchSVG($event))),\n            field: getSuggestionDisplay,\n            minLength: 3,\n            placeholder: \"Search loaded genes...\"\n          }, null, 8, [\"modelValue\", \"suggestions\"]),\n          _withDirectives(_createVNode(_component_Button, {\n            icon: \"pi pi-info-circle\",\n            class: \"p-button-link\"\n          }, null, 512), [\n            [\n              _directive_tooltip,\n              `Only searches genes loaded in the selected overview \\\n              region (${_unref(Formatter).convertBasePairToLabel(overviewStart.value)} - \\\n              ${_unref(Formatter).convertBasePairToLabel(overviewStop.value)}). \\\n              Select a wider region on the backbone in the overview panel to search more genes.`,\n              void 0,\n              { right: true }\n            ]\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_5, _toDisplayString(numberOfResults.value) + \" Selected Genes \", 1)\n      ])\n    ]),\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_6, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.selectedData, (dataObject) => {\n          return (_openBlock(), _createElementBlock(_Fragment, { key: dataObject }, [\n            (dataObject?.type === 'Gene')\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  _createVNode(GeneInfo, {\n                    gene: dataObject.genomicSection,\n                    chromosome: dataObject.genomicSection.chromosome,\n                    start: dataObject.genomicSection.start,\n                    stop: dataObject.genomicSection.stop\n                  }, null, 8, [\"gene\", \"chromosome\", \"start\", \"stop\"]),\n                  _createVNode(_component_Divider)\n                ], 64))\n              : (dataObject?.type === 'geneLabel' || dataObject?.type === 'trackSection')\n                ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                    (dataObject?.type === 'trackSection')\n                      ? (_openBlock(), _createBlock(GeneInfo, {\n                          key: 0,\n                          gene: dataObject?.genomicSection.gene ? dataObject?.genomicSection.gene : null,\n                          chromosome: dataObject.genomicSection.chromosome,\n                          start: dataObject.genomicSection.sectionStart,\n                          stop: dataObject.genomicSection.sectionStop,\n                          \"chain-level\": dataObject.genomicSection.chainLevel,\n                          \"track-orientation\": dataObject.genomicSection.isInverted ? '-' : '+'\n                        }, null, 8, [\"gene\", \"chromosome\", \"start\", \"stop\", \"chain-level\", \"track-orientation\"]))\n                      : (_openBlock(), _createBlock(GeneInfo, {\n                          key: 1,\n                          gene: dataObject?.genomicSection.gene ? dataObject?.genomicSection.gene : null,\n                          chromosome: dataObject.genomicSection.chromosome,\n                          start: dataObject.genomicSection.sectionStart,\n                          stop: dataObject.genomicSection.sectionStop\n                        }, null, 8, [\"gene\", \"chromosome\", \"start\", \"stop\"])),\n                    _createVNode(_component_Divider),\n                    (dataObject.type === 'geneLabel')\n                      ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                          ((dataObject.genomicSection.combinedGenes && dataObject.genomicSection.combinedGenes.length > 0))\n                            ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(dataObject?.genomicSection.combinedGenes, (section) => {\n                                return (_openBlock(), _createElementBlock(_Fragment, { key: section }, [\n                                  _createVNode(GeneInfo, {\n                                    gene: section.gene,\n                                    chromosome: section.gene.chromosome,\n                                    start: section.gene.start,\n                                    stop: section.gene.stop\n                                  }, null, 8, [\"gene\", \"chromosome\", \"start\", \"stop\"]),\n                                  _createVNode(_component_Divider)\n                                ], 64))\n                              }), 128))\n                            : _createCommentVNode(\"\", true)\n                        ], 64))\n                      : (dataObject.type === 'trackSection')\n                        ? (_openBlock(), _createElementBlock(_Fragment, { key: 3 }, [\n                            ((dataObject.genomicSection.hiddenGenes && dataObject.genomicSection.hiddenGenes.length > 0))\n                              ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(dataObject?.genomicSection.hiddenGenes, (section) => {\n                                  return (_openBlock(), _createElementBlock(_Fragment, { key: section }, [\n                                    _createVNode(GeneInfo, {\n                                      gene: section.gene,\n                                      chromosome: section.gene.chromosome,\n                                      start: section.gene.start,\n                                      stop: section.gene.stop\n                                    }, null, 8, [\"gene\", \"chromosome\", \"start\", \"stop\"]),\n                                    _createVNode(_component_Divider)\n                                  ], 64))\n                                }), 128))\n                              : _createCommentVNode(\"\", true)\n                          ], 64))\n                        : _createCommentVNode(\"\", true)\n                  ], 64))\n                : (dataObject?.type === 'orthologLine')\n                  ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                      _hoisted_7,\n                      _createElementVNode(\"div\", _hoisted_8, \"Symbol: \" + _toDisplayString(dataObject.genomicSection.backboneGene.gene.symbol), 1),\n                      _createElementVNode(\"div\", _hoisted_9, \"Name:\" + _toDisplayString(dataObject.genomicSection.backboneGene.gene.name ?? 'N/A'), 1),\n                      _createElementVNode(\"div\", _hoisted_10, \"Chromosome: \" + _toDisplayString(dataObject.genomicSection.backboneGene.gene.chromosome), 1),\n                      _createElementVNode(\"div\", _hoisted_11, \"Region: \" + _toDisplayString(_unref(Formatter).addCommasToBasePair(dataObject.genomicSection.backboneGene.gene.start)) + \" - \" + _toDisplayString(_unref(Formatter).addCommasToBasePair(dataObject.genomicSection.backboneGene.gene.stop)), 1),\n                      _hoisted_12,\n                      _hoisted_13,\n                      _createElementVNode(\"div\", _hoisted_14, \"Species: \" + _toDisplayString(dataObject.genomicSection.comparativeGene.gene.speciesName), 1),\n                      _createElementVNode(\"div\", _hoisted_15, \"Symbol: \" + _toDisplayString(dataObject.genomicSection.comparativeGene.gene.symbol), 1),\n                      _createElementVNode(\"div\", _hoisted_16, \"Name:\" + _toDisplayString(dataObject.genomicSection.comparativeGene.gene.name ?? 'N/A'), 1),\n                      _createElementVNode(\"div\", _hoisted_17, \"Chromosome: \" + _toDisplayString(dataObject.genomicSection.comparativeGene.gene.chromosome), 1),\n                      _createElementVNode(\"div\", _hoisted_18, \"Region: \" + _toDisplayString(_unref(Formatter).addCommasToBasePair(dataObject.genomicSection.comparativeGene.gene.start)) + \" - \" + _toDisplayString(_unref(Formatter).addCommasToBasePair(dataObject.genomicSection.comparativeGene.gene.stop)), 1)\n                    ], 64))\n                  : _createCommentVNode(\"\", true)\n          ], 64))\n        }), 128))\n      ])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./SelectedDataPanel.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SelectedDataPanel.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SelectedDataPanel.vue?vue&type=style&index=0&id=3e872db8&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/jdepons/git/vcmap-ui/app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3e872db8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, unref as _unref, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"grid\" }\nconst _hoisted_2 = { class: \"col-9\" }\nconst _hoisted_3 = { class: \"col-3\" }\n\nimport SVGViewbox from '@/components/SVGViewbox.vue';\nimport HeaderPanel from '@/components/HeaderPanel.vue';\nimport SelectedDataPanel from '@/components/SelectedDataPanel.vue';\nimport { useStore } from 'vuex';\nimport { key } from '@/store';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst store = useStore(key);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(HeaderPanel),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(SVGViewbox)\n      ]),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createVNode(SelectedDataPanel, {\n          \"selected-data\": _unref(store).state.selectedData\n        }, null, 8, [\"selected-data\"])\n      ])\n    ])\n  ], 64))\n}\n}\n\n})","import script from \"./Main.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Main.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router';\nimport Main from '../views/Main.vue';\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/main',\n    name: 'Main',\n    component: Main\n  },\n  {\n    path: '/',\n    name: 'Configuration',\n    // route level code-splitting\n    // this generates a separate chunk (configuration.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"configuration\" */ '../views/Configuration.vue')\n  }\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\n\nexport default router;\n","import { App, Component, Directive } from \"@vue/runtime-core\";\n\n// Import any components/directives that you want to globally register\nimport PrimeVue from 'primevue/config';\nimport Button from 'primevue/button';\nimport Dropdown from 'primevue/dropdown';\nimport InputNumber from 'primevue/inputnumber';\nimport Divider from 'primevue/divider';\nimport Panel from 'primevue/panel';\nimport Tooltip from 'primevue/tooltip';\nimport ProgressBar from 'primevue/progressbar';\nimport ProgressSpinner from 'primevue/progressspinner';\nimport TabView from 'primevue/tabview';\nimport TabPanel from 'primevue/tabpanel';\nimport AutoComplete from 'primevue/autocomplete';\nimport Checkbox from 'primevue/checkbox';\nimport ColorPicker from 'primevue/colorpicker';\nimport Message from 'primevue/message';\nimport InlineMessage from 'primevue/inlinemessage';\nimport Dialog from 'primevue/dialog';\nimport Slider from 'primevue/slider';\n\n/**\n * Add any plugins/configs that you want to be globally registered:\n */\nconst PLUGINS = [\n  PrimeVue\n];\n\n/**\n * Add any components you want to be globally registered:\n */\nconst COMPONENTS: {[key: string]: Component} = {\n  'Button': Button,\n  'Dropdown': Dropdown,\n  'InputNumber': InputNumber,\n  'Divider': Divider,\n  'Panel': Panel,\n  'ProgressBar': ProgressBar,\n  'ProgressSpinner': ProgressSpinner,\n  'TabView': TabView,\n  'TabPanel': TabPanel,\n  'AutoComplete': AutoComplete,\n  'Checkbox': Checkbox,\n  'ColorPicker': ColorPicker,\n  'Message': Message,\n  'InlineMessage': InlineMessage,\n  'Dialog': Dialog,\n  'Slider': Slider,\n};\n\n/**\n * Add any directives you want to be globally registered:\n */\nconst DIRECTIVES: {[key: string]: Directive} = {\n  'Tooltip': Tooltip\n};\n\n/**\n * This namespace contains methods for helping us register components and directives from third party libraries\n */\nexport namespace ExternalComponentsHandler\n{\n  export function registerAll(app: App<Element>)\n  {\n    PLUGINS.forEach(plugin => {\n      app.use(plugin);\n    });\n\n    for (const name in COMPONENTS)\n    {\n      app.component(name, COMPONENTS[name]);\n    }\n\n    for (const name in DIRECTIVES)\n    {\n      app.directive(name, DIRECTIVES[name]);\n    }\n  }\n\n  export function getPlugins()\n  {\n    return PLUGINS;\n  }\n\n  export function getComponents()\n  {\n    return COMPONENTS;\n  }\n\n  export function getDirectives()\n  {\n    return DIRECTIVES;\n  }\n}","// PrimeVue and PrimeFlex styles (must be imported before any components!)\nimport 'primevue/resources/themes/saga-blue/theme.css';\nimport 'primevue/resources/primevue.min.css';\nimport 'primeicons/primeicons.css';\nimport 'primeflex/primeflex.min.css';\n\nimport { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store, { key } from './store';\nimport { ExternalComponentsHandler } from './utils/ExternalComponentsHandler';\n\nconst app = createApp(App)\n  .use(store, key)\n  .use(router);\n\n  ExternalComponentsHandler.registerAll(app);\n\napp.mount('#app');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./BackboneTrackSVG.vue?vue&type=style&index=0&id=2e2eb8f4&lang=scss&scoped=true\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=3db6875f&lang=scss\"","\ninterface geneParams\n{\n  speciesName?: string;\n  geneSymbol: string;\n  geneName: string;\n  geneType: string;\n  key: number;\n  geneRgdId: number;\n  chr: string;\n  startPos: number;\n  stopPos: number;\n}\n\nexport default class Gene\n{\n  speciesName?: string;\n  symbol: string = '';\n  name: string = '';\n  type: string = '';\n  key: number = 0;\n  rgdId: number = 0;\n  chromosome: string = '';\n  start: number = 0;\n  stop: number = 0;\n\n  constructor(params: geneParams)\n  {\n    this.speciesName = params.speciesName;\n    this.symbol = params.geneSymbol;\n    this.name = params.geneName;\n    this.type = params.geneType;\n    this.key = params.key;\n    this.rgdId = params.geneRgdId;\n    this.chromosome = params.chr;\n    this.start = params.startPos;\n    this.stop = params.stopPos;\n  }\n}\n\n","export const VERSION = \"0.7.0-work\";\n"],"sourceRoot":""}